;====================================
;登録済みの悪魔をリスト化するための関数です
;レベル順リストは基本的に特殊種族と人間を表示しません。
;雑魚悪魔等を選択したりする用です。
;====================================



@SHOPCOMABLE_199
[IF_DEBUG]
	RESULTS = 悪魔リスト化
	RETURN 1
[ENDIF]
IF FLAG:DEBUG
	RESULTS = 悪魔リスト化
	RETURN 1
ENDIF
RETURN -1

@SHOP_COM_199
CALL INPUT_SELECT, 1 , "レベル順ソート", 2, "登録番号順ソート" , 3 , "種族＋レベル順ソート"
LOCAL = RESULT
PRINTL
CLEARLINE 5000
PRINTFORML ;-------------------------------
PRINTFORML ;%GAMEBASE_TITLE% {GAMEBASE_VERSION/1000},{GAMEBASE_VERSION % 1000}
GETTIME
PRINTFORML ;%RESULTS%
PRINTFORML ;-------------------------------
PRINTFORML ;-------------------------------
PRINTFORML ;この資料は資料フォルダ内にある
PRINTFORML ;SORT_DEVIL_LIST.ERBを利用して作成されています
PRINTFORML ;何か追加する際はコピペするのではなく、
PRINTFORML ;SORT_DEVIL_LIST.ERBを利用して出力してください
PRINTFORML ;-------------------------------
IF LOCAL == 3
	FOR LOCAL:2 , 0 , 18
		FOR LOCAL:3 , 0 , 2
			FOR LOCAL:1,1,100
				FOR LOCAL,LOCAL:2 * 100, LOCAL:2 * 100 + 100
					IF EXISTCSV(LOCAL,0) && CSVBASE(LOCAL,GETNUM(BASE,"LV"),0) == LOCAL:1 && CSVTALENT(LOCAL,GETNUM(TALENT,"オトコ"),0) == LOCAL:3
						PRINTFORM {LOCAL,4} 
						PRINTFORM \@ CSVCSTR(LOCAL,GETNUM(CSTR,"種族名"),0) != "" ? %CSVCSTR(LOCAL,GETNUM(CSTR,"種族名"),0),10,LEFT% # %STR:(CSVABL(LOCAL,GETNUM(ABL,"種族"),0)),10,LEFT%\@　
						PRINTFORM %CSVCALLNAME(LOCAL,0),20,LEFT%　
						PRINTFORM \@ CSVTALENT(LOCAL,GETNUM(TALENT,"非戦闘員"),0) ? Nonｰcombatant # LV{CSVBASE(LOCAL,GETNUM(BASE,"LV"),0),6} \@　
						PRINTFORM %SUBSTRING(GET_ALI1(CSVABL(LOCAL,GETNUM(ABL,"属性LD"),0)),0,1)%/%SUBSTRING(GET_ALI2(CSVABL(LOCAL,GETNUM(ABL,"属性LC"),0)),0,1)%　
						SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム1"),0)
							PRINTFORM 戦利品1：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム1"),0))%　
						SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム2"),0)
							PRINTFORM 戦利品2：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム2"),0))%　
						SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム3"),0)
							PRINTFORM 戦利品3：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム3"),0))%　
						SIF CSVABL(LOCAL,GETNUM(ABL,"コーディング"),0)
							PRINTFORM %ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"コーディング"),0))%　
						SIF CSVABL(LOCAL,GETNUM(ABL,"受胎アイテム"),0)
							PRINTFORM 受胎アイテム：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"受胎アイテム"),0))%　
						SIF CSVCSTR(LOCAL,GETNUM(CSTR,"解説1"),0) != ""
							PRINTFORM 解　
						SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"特殊合体のみ"),0)
							PRINTFORM 特殊合体のみ　
						SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"合体条件有り"),0)
							PRINTFORM 合体条件有り　
						SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"全書召喚不可"),0)
							PRINTFORM 全書召喚不可　
						PRINTL
					ENDIF
				NEXT
			NEXT
			PRINTL
		NEXT
		PRINTL
	NEXT
	WAIT
ELSEIF LOCAL == 2
	FOR LOCAL,0,5000
		SIF LOCAL % 100 == 0
			PRINTL
		IF EXISTCSV(LOCAL,0)
			PRINTFORM {LOCAL,4} 
			PRINTFORM \@ CSVCSTR(LOCAL,GETNUM(CSTR,"種族名"),0) != "" ? %CSVCSTR(LOCAL,GETNUM(CSTR,"種族名"),0),10,LEFT% # %STR:(CSVABL(LOCAL,GETNUM(ABL,"種族"),0)),10,LEFT%\@　
			PRINTFORM %CSVCALLNAME(LOCAL,0),20,LEFT%　
			PRINTFORM \@ CSVTALENT(LOCAL,GETNUM(TALENT,"非戦闘員"),0) ? Nonｰcombatant # LV{CSVBASE(LOCAL,GETNUM(BASE,"LV"),0),6} \@　
			PRINTFORM %SUBSTRING(GET_ALI1(CSVABL(LOCAL,GETNUM(ABL,"属性LD"),0)),0,1)%/%SUBSTRING(GET_ALI2(CSVABL(LOCAL,GETNUM(ABL,"属性LC"),0)),0,1)%　
			SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム1"),0)
				PRINTFORM 戦利品1：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム1"),0))%　
			SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム2"),0)
				PRINTFORM 戦利品2：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム2"),0))%　
			SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム3"),0)
				PRINTFORM 戦利品3：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム3"),0))%　
			SIF CSVABL(LOCAL,GETNUM(ABL,"コーディング"),0)
				PRINTFORM %ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"コーディング"),0))%　
			SIF CSVABL(LOCAL,GETNUM(ABL,"受胎アイテム"),0)
				PRINTFORM 受胎アイテム：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"受胎アイテム"),0))%
			SIF CSVCSTR(LOCAL,GETNUM(CSTR,"解説1"),0) != ""
				PRINTFORM 解　
			SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"特殊合体のみ"),0)
				PRINTFORM 特殊合体のみ　
			SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"合体条件有り"),0)
				PRINTFORM 合体条件有り　
			SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"全書召喚不可"),0)
				PRINTFORM 全書召喚不可　
			PRINTL
		ENDIF
	NEXT
	WAIT
ELSE
	PRINTFORML ;特殊種族と人間を除いた悪魔のリストです
	FOR LOCAL:1,1,100
		SIF LOCAL:1 % 10 == 0
			PRINTL
		FOR LOCAL,0,5000
			IF EXISTCSV(LOCAL,0) && CSVBASE(LOCAL,GETNUM(BASE,"LV"),0) == LOCAL:1 && CSVABL(LOCAL,GETNUM(ABL,"種族"),0) > 0 && CSVABL(LOCAL,GETNUM(ABL,"種族"),0) < 19
				
				PRINTFORM {LOCAL,4} 
				PRINTFORM \@ CSVCSTR(LOCAL,GETNUM(CSTR,"種族名"),0) != "" ? %CSVCSTR(LOCAL,GETNUM(CSTR,"種族名"),0),10,LEFT% # %STR:(CSVABL(LOCAL,GETNUM(ABL,"種族"),0)),10,LEFT%\@　
				PRINTFORM %CSVCALLNAME(LOCAL,0),20,LEFT%　
				PRINTFORM %SUBSTRING(GET_ALI1(CSVABL(LOCAL,GETNUM(ABL,"属性LD"),0)),0,1)%/%SUBSTRING(GET_ALI2(CSVABL(LOCAL,GETNUM(ABL,"属性LC"),0)),0,1)%　
				PRINTFORM \@ CSVTALENT(LOCAL,GETNUM(TALENT,"非戦闘員"),0) ? Nonｰcombatant # LV{CSVBASE(LOCAL,GETNUM(BASE,"LV"),0),6} \@　
				SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム1"),0)
					PRINTFORM 戦利品1：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム1"),0))%　
				SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム2"),0)
					PRINTFORM 戦利品2：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム2"),0))%　
				SIF CSVABL(LOCAL,GETNUM(ABL,"アイテム3"),0)
					PRINTFORM 戦利品3：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"アイテム3"),0))%　
				SIF CSVABL(LOCAL,GETNUM(ABL,"コーディング"),0)
					PRINTFORM %ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"コーディング"),0))%　
				SIF CSVABL(LOCAL,GETNUM(ABL,"受胎アイテム"),0)
					PRINTFORM 受胎アイテム：%ITEMNAME_E(CSVABL(LOCAL,GETNUM(ABL,"受胎アイテム"),0))%　
				SIF CSVCSTR(LOCAL,GETNUM(CSTR,"解説1"),0) != ""
					PRINTFORM 解　
				SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"特殊合体のみ"),0)
					PRINTFORM 特殊合体のみ　
				SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"合体条件有り"),0)
					PRINTFORM 合体条件有り　
				SIF CSVCFLAG(LOCAL,GETNUM(CFLAG,"全書召喚不可"),0)
					PRINTFORM 全書召喚不可　
				PRINTL
			ENDIF
		NEXT
	NEXT
	WAIT
ENDIF

