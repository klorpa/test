;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	Module		:PROSTITUTION.ERB
;	Facility	:Brothel(宿屋)での労役に関する関数群です。
;
;	Licence		:ライセンスフリー
;
;	Modification Data:
;
;	Edit	Date			Author					Reason
;	001		20XX/XX/XX		----					新規作成
;	002		2011/03/21		黒天					労役可能なキャラを一括で労役に従事させる選択肢を追加
;	003		2011/04/13		黒天					二人未満(一括選択肢非表示)状態でも直接入力することで
;													一括選択処理が実行できていた問題を修正
;	005		2011/09/08		黒天					処女(再生処女)喪失処理を関数を呼ぶように修正
;	006		2012/05/17		osoji					文章加筆、色変更
;	007		2013/11/24		ひみつ					リスト表示数設定
;	008		2017/06/23		kuni					キャラ表示でINPUT_CHARA_LISTを使用するように変更
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;娼館で働かせる
;奴隷を一日だけ娼館に貸して働かせます。客の数だけ収益が上がるため、欲望やレズが重要視されます

;==========================================================
;@PROSTITUTION
; 宿屋(Brothel)で働かせる奴隷を選択する。
;<引数>
;	なし
;<戻り値>
;	なし
;==========================================================
@PROSTITUTION
#LOCALSIZE 5
$PROSTITUTION_TOP
;使用する変数の初期化
A = 0
B = 0
C = 0
D = 0
;LOCAL   = 選択したキャラ
;LOCAL:1 = 単価
;LOCAL:2 = 売春可能人数
;LOCAL:3 = 一括売春用カウンタ
;LOCAL:4 = 労役確認結果
;LOCAL配列初期化
VARSET LOCAL,0
$PRINT_LIST
CALL INPUT_CHARA_LIST("Please select a character for prostitution", "CASTING_PROSTITUTION", "", "", "MODECHANGE_PROSTITUTION")
	;売春可能な全ての奴隷を売春させる
IF RESULT == 1000
	RETURN 0
ENDIF

IF RESULT == 999
	;一括選択できない状態のためINPUT_LOOP_1に戻る
	SIF FLAG:労役実行確認省略設定 == 0 || A < 2
		GOTO PRINT_LIST
	;一応確認
	PRINTL All available character prostitude themselves here.
	PRINTL Is this ok?
	CALL INPUT_YN, "Yes", "No"
	SIF RESULT == 1
		;キャラ一覧に戻る。
		GOTO PRINT_LIST
	;一括労役フラグON
	LOCAL:3 = 1
	LOCAL = Q:(LOCAL:3-1)
	LOCAL:2 = A
ELSE
	LOCAL = RESULT
ENDIF

$SELECT_LOOP

;単価を計算。
DRAWLINE

CALL SALARY_PROSTITUTION,LOCAL,1
LOCAL:1 = RESULT

IF LOCAL:1 > 0
	;労役実行確認省略設定が有効な場合、表示後WAITしないようにする。
	IF FLAG:労役実行確認省略設定 == 0
		PRINTFORMW 売春一日あたり{LOCAL:1}魔貨程度が見込めます
	ELSE
		PRINTFORML 売春一日あたり{LOCAL:1}魔貨程度が見込めます
	ENDIF
ELSE
	PRINTFORMW 売春価格が0魔貨を下回ったので、中止します
	IF FLAG:労役実行確認省略設定 == 1
		IF LOCAL:3 > 0 && LOCAL:3 < LOCAL:2
			;LOCAL:3が0より大きく(一括選択)、LOCAL:3がLOCAL:2未満(まだ全員の労役従事が終わってない)場合
			;次のキャラの労役従事
			LOCAL:3 += 1
			LOCAL = Q:(LOCAL:3-1)

			GOTO SELECT_LOOP
		ELSE
			;労役実行確認省略設定が有効な場合、関数の頭に戻る
			GOTO PROSTITUTION_TOP
		ENDIF
	ENDIF
	RETURN 0
ENDIF

;娼館コマンドを実行するか？
IF FLAG:労役実行確認省略設定 == 0
	PRINTFORML Do you want for %CALLNAME:LOCAL% to prostitude %HIM_HER(LOCAL)%self here today?
	CALL INPUT_YN,"Prostitude","Quit"
	LOCAL:4 = RESULT
ELSE
	;労役実行確認省略設定が有効な場合、実行確認は無条件で実行する(0)を設定
	LOCAL:4 = 0
ENDIF

IF LOCAL:4 == 0
	PRINTFORML 次の日まで%CALLNAME:LOCAL%に客を取らせます
	;イベント口上
	T = TARGET
	TARGET = LOCAL
	TFLAG:13 = 16
	;未調教陥落フラグを折る
	CFLAG:被調教回数 += 1
	CALL KOJO_MESSAGE_EVENT
	TARGET = T
	;SIF LOCAL == TARGET
	;	TARGET = -1
	;SIF LOCAL == ASSI
	;	ASSI = -1
	;SIF CPOS(LOCAL) > 0
	;	CALL REMOVE_POSITION,CPOS(LOCAL)
	CFLAG:LOCAL:労役フラグ = 2
	CFLAG:LOCAL:労役単価 = LOCAL:1
	PRINTL 
	IF FLAG:労役実行確認省略設定 == 1
		IF LOCAL:3 > 0 && LOCAL:3 < LOCAL:2
			;LOCAL:3が0より大きく(一括選択)、LOCAL:3がLOCAL:2未満(まだ全員の労役従事が終わってない)場合
			;次のキャラの労役従事
			LOCAL:3 += 1
			LOCAL = Q:(LOCAL:3-1)

			GOTO SELECT_LOOP
		ELSE
			;労役実行確認省略設定が有効な場合、関数の頭に戻る
			GOTO PROSTITUTION_TOP
		ENDIF
	ENDIF
ELSE
	RESTART
ENDIF

@CASTING_PROSTITUTION
SIF CFLAG:COUNT:労役フラグ > 0
	RETURN 0
SIF COUNT != MASTER && (ABL:COUNT:欲望 + ABL:COUNT:技巧 + ABL:COUNT:露出癖 + TALENT:COUNT:淫乱*3 + TALENT:COUNT:娼婦*3) < 7
	RETURN 0
SIF BASE:COUNT:0 <= 500
	RETURN 0
SIF CFLAG:COUNT:この場に居ないフラグ == 1
	RETURN 0
RETURN 1

@MODECHANGE_PROSTITUTION, ARG
SELECTCASE ARG
	CASE -1
		;労役実行確認省略オプションが有効な場合にのみ選択肢を表示する。
		SIF FLAG:労役実行確認省略設定 == 1 && A >= 2
			PRINTL [999] Make all available characters work here
	CASE 999
		RETURN ARG , 0
ENDSELECT
RETURN ARG , 1

;==========================================================
;@END_PROSTITUTION
; 宿屋(Brothel)での労役日報処理
;<引数>
;	ARG = 労役を行うキャラの登録番号
;<戻り値>
;	なし
;==========================================================
@END_PROSTITUTION,ARG
#LOCALSIZE 25
;LOCAL:1  = 作業用領域
;LOCAL:10 = 客入り
;LOCAL:9  = 計算用
;LOCAL:8  = 顧客満足度
;LOCAL:7  = 評価
;LOCAL:6  = 合計プレイ回数
;LOCAL:11 = セックス系プレイ頻度(回数)
;LOCAL:12 = 奉仕系プレイ頻度(回数)
;LOCAL:13 = ＳＭ系プレイ頻度(回数)
;LOCAL:14 = 同性愛(レズ、ＢＬ)系プレイ頻度(回数)
;LOCAL:16 = プレイ頻度合計(割合計算用)
;LOCAL:20 = Ｖ／Ａプレイ回数差計算用
;LOCAL:21 = Ｖプレイ回数
;LOCAL:22 = Ａプレイ回数
;LOCAL:23 = 処女喪失による珠加算補正

;LOCAL配列初期化
VARSET LOCAL,0

;最初に労役単価を再計算
CALL SALARY_PROSTITUTION,ARG,0
CFLAG:ARG:労役単価 = RESULT

CUSTOMDRAWLINE ･


;娼婦の人気に応じて客が来ます
;初めての場合は店の人気に依存
IF EXP:ARG:売春経験 == 0
	LOCAL:8 = 100
	SIF ITEM:安宿 || ITEM:娼館
		LOCAL:8 = FLAG:売春人気 + 40
	LOCAL = 0
	LOCAL:9 = 0
	WHILE LOCAL:8 > 100 * (POWER(4 , LOCAL)-1) / 3
		LOCAL:9 += (MIN(LOCAL:8 , 100 * (POWER(4 , LOCAL+1) - 1) / 3) - 100 * (POWER(4 , LOCAL) -1) / 3) / (10 * (POWER(4,LOCAL)))
		LOCAL ++
	WEND
	IF LOCAL:9
		REPEAT LOCAL:9
			LOCAL:10 += RAND:2
		REND
	ENDIF
ELSE
	LOCAL = 0
	LOCAL:9 = 0
	WHILE CFLAG:ARG:売春人気 > 100 * (POWER(2 , LOCAL)-1) / 3
		LOCAL:9 += (MIN(CFLAG:ARG:売春人気 , 100 * (POWER(2 , LOCAL+1) - 1) / 3) - 100 * (POWER(2 , LOCAL) -1) / 3) / (10 * (POWER(2,LOCAL)))
		LOCAL ++
	WEND
	IF LOCAL:9
		REPEAT LOCAL:9
			LOCAL:10 += RAND:2
		REND
	ENDIF
ENDIF
;店に人気に応じて客が来ます
LOCAL:8 = 100
SIF ITEM:安宿 || ITEM:娼館
	LOCAL:8 = FLAG:売春人気
LOCAL = 0
LOCAL:9 = 0
WHILE LOCAL:8 > 100 * (POWER(4 , LOCAL)-1) / 3
	LOCAL:9 += (MIN(LOCAL:8 , 100 * (POWER(4 , LOCAL+1) - 1) / 3) - 100 * (POWER(4 , LOCAL) -1) / 3) / (10 * (POWER(4,LOCAL)))
	LOCAL ++
WEND
IF LOCAL:10
	REPEAT LOCAL:9
		LOCAL:10 += RAND:2
	REND
ENDIF


LOCAL:10 = TABLE_CALC2(LOCAL:10, 5, 95)
LOCAL:10 = TABLE_CALC2(LOCAL:10, 10, 90)
LOCAL:10 = TABLE_CALC2(LOCAL:10, 25, 80)
LOCAL:10 = TABLE_CALC2(LOCAL:10, 30, 10)


;最低一人は来る
SIF LOCAL:10 < 1
	LOCAL:10 = 1

;満足度判定
;ランダムで40を追加します。ProstitEXPに応じて期待値は上昇します。
IF EXP:ARG:売春経験 > 30000
	LOCAL:8 = 60
ELSEIF EXP:ARG:売春経験 > 10000
	LOCAL:8 = RAND:31 + 30
ELSEIF EXP:ARG:売春経験 > 5000
	LOCAL:8 = RAND:36 + 25
ELSEIF EXP:ARG:売春経験 > 3000
	LOCAL:8 = RAND:41 + 20
ELSEIF EXP:ARG:売春経験 > 1000
	LOCAL:8 = RAND:46 + 15
ELSEIF EXP:ARG:売春経験 > 500
	LOCAL:8 = RAND:51 + 10
ELSEIF EXP:ARG:売春経験 > 100
	LOCAL:8 = RAND:56 + 5
ELSE
	LOCAL:8 = RAND:61
ENDIF

;欲望をチェックする。欲望が相手の欲望を上回るかどうか。成功なら欲望レベルの２倍、失敗なら１倍入ります。
;CBVA売春では、相手の欲望の最大値が4です。
LOCAL:9 = RAND:9
IF LOCAL:9 <= ABL:ARG:欲望
	LOCAL:8 += ABL:ARG:欲望
	LOCAL:8 += ABL:ARG:欲望
ELSE
	LOCAL:8 += ABL:ARG:欲望
ENDIF

;相手からの行動が発生します。相手の技巧がこちらの欲望以下の場合、不満そうな表情が出る可能性があります。
;相手の技巧＋こちらの従順の２倍＞こちらの欲望＋２なら、問題なく行為を露出癖と奉仕精神を加える事が出来ます。
;足りない場合は加えられません。
LOCAL:9 = RAND:5
LOCAL:9 += ABL:ARG:従順
LOCAL:9 += ABL:ARG:従順
LOCAL:9 -= 2

IF LOCAL:9 >= ABL:ARG:技巧
	LOCAL:8 += ABL:ARG:奉仕精神
	LOCAL:8 += ABL:ARG:露出癖
ENDIF

;ここまでで最大120％

;従順が3LVないと、著しく微妙になります
IF ABL:ARG:従順 < 3 && ARG != MASTER
	LOCAL:8 /= 2
ENDIF

;この時点でのLOCAL:8が満足度

;総プレイ回数を計算
LOCAL:6 = 0
REPEAT LOCAL:10
	;客一人当たり、１＋０〜満足度/10回プレイしていく
	LOCAL:6 += 1 + (RAND:(LOCAL:8/10+1))
REND

;LOCAL:11 ~ 15 セックス系　〜同性愛系の割合、16 = 割合合計

;素質、能力に応じて行為の比率の決定(各素質は持ってれば1が入っている）
;セックス系、基本的に大きい。AV感覚、処女、再生処女、SexAddict、セックス狂、尻穴狂い
;オトコが無い場合のみＶでの回数を加算する
LOCAL:11 = 0
SIF TALENT:ARG:オトコ == 0
	LOCAL:11 = ABL:ARG:4+TALENT:ARG:0*7+TALENT:ARG:1*3+TALENT:ARG:75*5
LOCAL:11 += ABL:ARG:5+ABL:ARG:18+TALENT:ARG:76*5

;奉仕系、奉仕精神と精液中毒が高く、献身的
LOCAL:12 = ABL:ARG:7+ABL:ARG:16+TALENT:ARG:63*5

;SM系、|Sadism-Masochism|の数値が大きい、倒錯的、サド、マゾ、体力大目
;マゾ傾向
IF ABL:ARG:9 >= ABL:ARG:10
	LOCAL:13 = ABL:ARG:9-ABL:ARG:10+TALENT:ARG:84*10+TALENT:ARG:80*5
;サド傾向
ELSEIF ABL:ARG:10 > ABL:ARG:9
	LOCAL:13 = ABL:ARG:10-ABL:ARG:9+TALENT:ARG:83*10+TALENT:ARG:80*5
;同値
ELSE
	LOCAL:13 = ABL:ARG:9+TALENT:ARG:80*5
ENDIF
;5未満は0にする
SIF LOCAL:13 < 5
	LOCAL:13 = 0

;レズ系、Lesbianism、LesbianAddict、両刀、男性の場合はＢＬっ気とＢＬ中毒
LOCAL:14 = ABL:ARG:11+ABL:ARG:17*2+TALENT:ARG:81*5+ABL:ARG:20+ABL:ARG:21*2
;5未満は0にする
SIF LOCAL:14 < 5
	LOCAL:14 = 0

;高頻度プレイ(売春口上分岐)判定用の値を設定
;1:セックス系、2:奉仕系、3:ＳＭ系、4:同性愛(レズ、ＢＬ)系
CFLAG:ARG:30 = 1
SIF LOCAL:(10+CFLAG:ARG:30) < LOCAL:12
	CFLAG:ARG:30 = 2
SIF LOCAL:(10+CFLAG:ARG:30) < LOCAL:13
	CFLAG:ARG:30 = 3
SIF LOCAL:(10+CFLAG:ARG:30) < LOCAL:14
	CFLAG:ARG:30 = 4

LOCAL:16 = MAX(1,LOCAL:11 + LOCAL:12 + LOCAL:13 + LOCAL:14)

;それぞれの系統のプレイ回数を算出してLOCAL:11 〜 14に入れる
LOCAL:11 = LOCAL:6 * LOCAL:11 / LOCAL:16
LOCAL:12 = LOCAL:6 * LOCAL:12 / LOCAL:16
LOCAL:13 = LOCAL:6 * LOCAL:13 / LOCAL:16
LOCAL:14 = LOCAL:6 * LOCAL:14 / LOCAL:16

SIF LOCAL:11 + LOCAL:12 + LOCAL:13 + LOCAL:14 == 0
	LOCAL:(11+RAND:4) = LOCAL:6

;売春時の口上表示
LOCAL:1 = TARGET
TARGET = ARG
TFLAG:13 = 63
CALL KOJO_MESSAGE_EVENT
TARGET = LOCAL:1
PRINTFORML %CALLNAME:ARG%の売春結果：

;体力の減少基本値
LOSEBASE:体力 = LOCAL:6*25
;ストレス値の付加
SIF ARG != MASTER
	CFLAG:ARG:10 += 2

LOCAL:23 = 0
IF LOCAL:11 > 0
	;VとAのプレイ差
	;オトコはAのみ
	IF TALENT:ARG:オトコ
		LOCAL:20 = ABL:ARG:5
		LOCAL:21 = 0
		LOCAL:22 = LOCAL:11
	ELSEIF ABL:ARG:4 > ABL:ARG:5
		LOCAL:20 = ABL:ARG:4-ABL:ARG:5
		LOCAL:21 = LOCAL:11/2+LOCAL:20
		LOCAL:22 = LOCAL:11-LOCAL:21
	ELSE
		LOCAL:20 = ABL:ARG:5-ABL:ARG:4
		LOCAL:21 = LOCAL:11/2-LOCAL:20
		LOCAL:22 = LOCAL:11-LOCAL:21
	ENDIF
	;奴隷が処女の場合
	IF TALENT:ARG:0
		LOCAL:21 += LOCAL:20/2
		LOCAL:22 -= LOCAL:20/2
		SIF LOCAL:21 > 0
			LOCAL:23 = 20
	ENDIF
	SIF LOCAL:21 < 0
		LOCAL:21 = 0
	SIF LOCAL:22 < 0
		LOCAL:22 = 0
	EXP:ARG:0 += LOCAL:21
	EXP:ARG:1 += LOCAL:22
	EXP:ARG:2 += LOCAL:11/3
	;ふたなりかオトコ
	SIF TALENT:ARG:139 || TALENT:ARG:140
		EXP:ARG:3 += LOCAL:11/3
	;男の娘はケツマンコで妊娠
	SIF TALENT:ARG:男の娘 && CFLAG:ARG:108 == 0
		CFLAG:ARG:105 += LOCAL:22
	EXP:ARG:4 += LOCAL:21 + LOCAL:22
	;CreampieEXP
	IF CFLAG:ARG:108 == 0
		EXP:ARG:5 += LOCAL:21
		CFLAG:ARG:105 += LOCAL:21
	ENDIF
	JUEL:ARG:1 += LOCAL:21*50
	JUEL:ARG:2 += LOCAL:22*50
	JUEL:ARG:6 += LOCAL:11*30
	JUEL:ARG:8 += LOCAL:11*50
	SIF ARG != MASTER
		JUEL:ARG:100 += (LOCAL:23+LOCAL:11)*100/MAX(1,ABL:ARG:従順)
ENDIF
;奉仕系
IF LOCAL:12 > 0
	EXP:ARG:20 += LOCAL:12
	EXP:ARG:21 += LOCAL:12
	EXP:ARG:22 += LOCAL:12
	EXP:ARG:キス経験 += LOCAL:12
	JUEL:ARG:5 += LOCAL:12*10
	JUEL:ARG:8 += LOCAL:12*60
	SIF ARG != MASTER
		JUEL:ARG:100 += LOCAL:12*100/MAX(1,ABL:ARG:従順)
ENDIF
;ＳＭ系
IF LOCAL:13 > 0
	IF ABL:ARG:9 > ABL:ARG:10
		EXP:ARG:30 += LOCAL:13
		JUEL:ARG:10 += LOCAL:13*50
	ENDIF
	SIF ABL:ARG:10 > ABL:ARG:9
		EXP:ARG:32 += LOCAL:13
	JUEL:ARG:8 += LOCAL:13*40
	SIF ARG != MASTER
		JUEL:ARG:100 += LOCAL:13*100/MAX(1,ABL:ARG:従順)
ENDIF
;レズ系
IF LOCAL:14 > 0
	EXP:ARG:2 += LOCAL:14/3
	;ふたなりかオトコ
	SIF TALENT:ARG:ふたなり || TALENT:ARG:オトコ
		EXP:ARG:3 += LOCAL:14/3
	EXP:ARG:(40+TALENT:ARG:オトコ) += LOCAL:14
	JUEL:ARG:0 += LOCAL:14*50
	JUEL:ARG:6 += LOCAL:14*30
	JUEL:ARG:8 += LOCAL:14*40
	SIF ARG != MASTER
		JUEL:ARG:100 += LOCAL:14*100/MAX(1,ABL:ARG:従順)
ENDIF

PRINTFORML 【%CALLNAME:ARG%の経験と珠】

;経験表示は一括で行う
SIF LOCAL:10 > 0
	PRINTFORML ProstitEXP＋{LOCAL:10}
SIF LOCAL:21 > 0
	PRINTFORML %EXPNAME_E(0)%＋{LOCAL:21}
SIF LOCAL:22 > 0
PRINTFORML %EXPNAME_E(1)%＋{LOCAL:22}
PRINTFORML KissEXP＋{LOCAL:21}
SIF (LOCAL:11/3+LOCAL:24/3) > 0
	PRINTFORML %EXPNAME_E(2)%＋{LOCAL:11/3+LOCAL:13/3}
SIF (TALENT:ARG:ふたなり || TALENT:ARG:オトコ) && (LOCAL:11/3+LOCAL:13/3) > 0
	PRINTFORML %EXPNAME_E(3)%＋{LOCAL:11/3+LOCAL:13/3}

SIF LOCAL:11 > 0
	PRINTFORML %EXPNAME_E(4)%＋{LOCAL:11}

IF LOCAL:21 > 0
	IF CFLAG:ARG:108 == 0
		PRINTFORML %EXPNAME_E(5)%＋{LOCAL:21}
	ELSE
		PRINTFORML <避妊結界>
	ENDIF
ENDIF
SIF LOCAL:21+LOCAL:22+LOCAL:12 > 0
	PRINTFORML %EXPNAME_E(20)%＋{LOCAL:21+LOCAL:22+LOCAL:12}
IF LOCAL:12 > 0
	PRINTFORML %EXPNAME_E(21)%＋{LOCAL:12}
	PRINTFORML %EXPNAME_E(22)%＋{LOCAL:12}
ENDIF
IF LOCAL:13
	SIF ABL:ARG:9 >= ABL:ARG:10
		PRINTFORML %EXPNAME_E(30)%＋{LOCAL:13}
	SIF ABL:ARG:10 > ABL:ARG:9
		PRINTFORML %EXPNAME_E(32)%＋{LOCAL:13}
ENDIF

SIF LOCAL:14
	PRINTFORML %EXPNAME_E(40+TALENT:ARG:オトコ)%＋{LOCAL:14}

;本番ありの場合処女/再生処女喪失
IF LOCAL:21
	CALL 処女喪失, ARG
	IF CFLAG:ARG:処女喪失フラグ
		PRINTL 消費体力×150％
		TIMES LOSEBASE:体力 , 1.5
	ELSEIF CFLAG:ARG:再生処女喪失フラグ
		PRINTL 消費体力×120％
		TIMES LOSEBASE:体力 , 1.20
	ENDIF
	CALL 処女喪失イベント, ARG
ENDIF

;珠表示も同様
SIF LOCAL:14 > 0
	PRINTFORML FEELＣの珠＋{LOCAL:14*50}
SIF LOCAL:21 > 0
	PRINTFORML 快Ｖの珠＋{LOCAL:21*50}
SIF LOCAL:22 > 0
	PRINTFORML 快Ａの珠＋{LOCAL:22*50}
SIF LOCAL:12 > 0
	PRINTFORML 恭順の珠＋{LOCAL:12*10}
SIF (LOCAL:11*30+LOCAL:14*30) > 0
	PRINTFORML 欲情の珠＋{LOCAL:11*30+LOCAL:14*30}
SIF (LOCAL:11*50+LOCAL:12*60+LOCAL:13*40+LOCAL:14*40) > 0
	PRINTFORML 習得の珠＋{LOCAL:11*50+LOCAL:12*60+LOCAL:13*40+LOCAL:14*40}
SIF ABL:ARG:9 > ABL:ARG:10 && LOCAL:13
	PRINTFORML 苦痛の珠＋{LOCAL:13*50}
SIF ((LOCAL:23+LOCAL:11+LOCAL:12+LOCAL:13+LOCAL:14)*100/MAX(1,ABL:ARG:従順)) > 0 && ARG != MASTER
	PRINTFORML 否定の珠＋{(LOCAL:23+LOCAL:11+LOCAL:12+LOCAL:13+LOCAL:14)*100/MAX(1,ABL:ARG:従順)}
;フェラ・中田氏などの回数×LV分ＭＡＧを吸収してくる
IF LOCAL:21 + LOCAL:22 + LOCAL:12 > 0
	PRINTFORML ＭＡＧ+{((LOCAL:21*2+LOCAL:22*2+LOCAL:12*1)*MAXBASE:ARG:LV)*(1+(ARG == MASTER)*4+MAX(TALENT:ARG:霊媒体質*9 - !TALENT:ARG:非戦闘員 * 5, 0))/2/5}
	CALL CONTROL_MAG,ARG,((LOCAL:21*2+LOCAL:22*2+LOCAL:12*1)*MAXBASE:ARG:LV)*(1+(ARG == MASTER)*4+MAX(TALENT:ARG:霊媒体質*9 - !TALENT:ARG:非戦闘員 * 5, 0))/2/5
ENDIF

;こっそりと妊娠中は体力消費1.5倍
IF TALENT:ARG:妊娠
	TIMES LOSEBASE:体力 , 1.50
ENDIF

PRINTFORML Stamina ‐ {LOSEBASE:体力}
BASE:ARG:体力 -= LOSEBASE:体力

;非戦闘員は経験値獲得
IF TALENT:ARG:非戦闘員
	PRINTFORML EXP： +{CFLAG:ARG:労役単価*(100+LOCAL:6)/100*(1+BASE:ARG:LV/5)}
	BASE:ARG:ＥＸＰ += CFLAG:ARG:労役単価*(100+LOCAL:6)/100*(1+BASE:ARG:LV/5)
	;レベルアップ判定
	CALL CHECK_LEVEL_UP,ARG
	;IF TALENT:ARG:非戦闘員 && BASE:ARG:ＥＸＰ >= MAXBASE:ARG:ＥＸＰ
	;	PRINTFORML LEVEL UP!
	;	BASE:ARG:LV += 1
	;	CALL SYNC_STATUS,ARG
	;ENDIF
ENDIF
IF TALENT:ARG:ペルソナ使い
	CALL INCREASE_PERSONA_EXP, ARG, CFLAG:ARG:労役単価*(100+LOCAL:6) / 10, -1 ,1
	SIF RESULT > 0
		PRINTFORML ペルソナ【\@EQUIP:ARG:装備ペルソナ ? %CSVNAME(DITEMTYPE:(EQUIP:ARG:装備ペルソナ):ペルソナ("NO"), 0)% # %CSVNAME(ABL:ARG:初期ペルソナ, 0)%\@】　EXP：+{RESULT}
ENDIF

PRINTL
;満足度による人気増減処理
PRINTFORML 顧客満足度:{LOCAL:8}％

IF EXP:ARG:売春経験 == 0
	PRINTFORML 【%CALLNAME:ARG%が売春デビューしました】
	;デビュー時は増加する人気に補正がかかる
	;基本の人気上昇値
	CFLAG:ARG:売春人気 = 20 * MAX(0,LOCAL:8/10-1)
	IF CFLAG:ARG:売春人気 == 0
		PRINTFORML 残念ながら人気は全く得られなかったが、これから頑張っていこう。
	ELSE
		PRINTFORML 現在の人気 {CFLAG:ARG:売春人気}
	ENDIF
ELSE
	;基本の人気上昇値
	LOCAL:1 = 2 * (LOCAL:8/5-5)
	PRINTFORM Popular {CFLAG:ARG:売春人気} 
	SIF LOCAL:1 >= 0
		PRINT +
	PRINTFORML {LOCAL:1}
	CFLAG:ARG:売春人気 += LOCAL:1
ENDIF
	EXP:ARG:売春経験 += LOCAL:10
PRINTL

IF ITEM:安宿 || ITEM:娼館
	LOCAL:1 = (LOCAL:8/5-5)
	IF ITEM:娼館 
		PRINT Brothel
	ELSE
		PRINT Hotel
		;宿屋
	ENDIF
	PRINTFORM Popular {FLAG:売春人気} 
	SIF LOCAL:1 >= 0
		PRINT +
	PRINTFORML {LOCAL:1}
	FLAG:売春人気 += LOCAL:1
ELSEIF LOCAL:8 < 40
	PRINTL 客を満足させられなかったとして、バイト代が半分引かれた。
	CFLAG:ARG:労役単価 /= 2
ENDIF


;お金を得る
PRINTFORM %CALLNAME:ARG% は{LOCAL:10}人の客を体でもてなし、{CFLAG:ARG:労役単価*(100+LOCAL:6)/100}魔貨
IF ITEM:安宿 || ITEM:娼館
	PRINTW 稼ぎました。
ELSE
	PRINTW のバイト代を得ました。
ENDIF
MONEY:1 += CFLAG:ARG:労役単価*(100+LOCAL:6)/100
CALL 帳簿閲覧_労役, ARG, CFLAG:ARG:労役単価*(100+LOCAL:6)/100, LOCAL:10, 2


;ＮＴＲ進行
CALL NTR_PROSTITUTION,ARG,LOCAL:11,LOCAL:13,LOCAL:10

;主人の属性値変動
CALL INCREASE_LD,-2
CALL SYNC_STATUS,MASTER

SIF ARG == MASTER
	CALL EVENTCHECK_M

CALL 気絶処理(ARG)

;最後に又、給料再計算（処女喪失等）
CALL SALARY_PROSTITUTION,ARG,0
CFLAG:ARG:労役単価 = RESULT

	;労役フラグを解除
	;CFLAG:ARG:労役フラグ = 0

;==========================================================
;@SALARY_PROSTITUTION
; 売春の労役単価を計算する。
;<引数>
;	ARG   = 労役対象キャラ
;	ARG:1 = 単価計算情報の表示有無(0:非表示 / 0以外:表示)
;<戻り値>
;	労役単価
;==========================================================
@SALARY_PROSTITUTION,ARG,ARG:1 = 0
#LOCALSIZE 4
;LOCAL   = 労役単価
;LOCAL:1 = 単価補正倍率
;LOCAL:2 = 作業用値一時格納領域
;LOCAL:3 = 崩壊/狂気/妊娠表示分岐用
;念のため変数の初期化
VARSET LOCAL,0

;ABL:従順をみる
SELECTCASE ABL:ARG:従順
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 0
	CASE 2
		LOCAL += 1
	CASE 3
		LOCAL += 1
	CASE 4
		LOCAL += 2
	CASE 5
		LOCAL += 2
	CASE 6
		LOCAL += 2
	CASE 7
		LOCAL += 3
	CASE 8
		LOCAL += 3
	CASE 9
		LOCAL += 3
	CASEELSE
		LOCAL += 4
ENDSELECT

;ABL:欲望をみる
SELECTCASE ABL:ARG:欲望
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 3
	CASE 4
		LOCAL += 4
	CASE 5
		LOCAL += 5
	CASE 6
		LOCAL += 6
	CASE 7
		LOCAL += 7
	CASE 8
		LOCAL += 8
	CASE 9
		LOCAL += 9
	CASEELSE
		LOCAL += 10
ENDSELECT

;ABL:Ｖ感覚をみる
SELECTCASE ABL:ARG:Ｖ感覚
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 1
	CASE 3
		LOCAL += 2
	CASE 4
		LOCAL += 2
	CASE 5
		LOCAL += 3
	CASE 6
		LOCAL += 3
	CASE 7
		LOCAL += 4
	CASE 8
		LOCAL += 4
	CASE 9
		LOCAL += 4
	CASEELSE
		LOCAL += 5
ENDSELECT

;ABL:Ａ感覚をみる
SELECTCASE ABL:ARG:Ａ感覚
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 1
	CASE 3
		LOCAL += 2
	CASE 4
		LOCAL += 2
	CASE 5
		LOCAL += 3
	CASE 6
		LOCAL += 3
	CASE 7
		LOCAL += 4
	CASE 8
		LOCAL += 4
	CASE 9
		LOCAL += 4
	CASEELSE
		LOCAL += 5
ENDSELECT

;ABL:奉仕精神をみる
SELECTCASE ABL:ARG:奉仕精神
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 0
	CASE 2
		LOCAL += 1
	CASE 3
		LOCAL += 1
	CASE 4
		LOCAL += 1
	CASE 5
		LOCAL += 2
	CASE 6
		LOCAL += 2
	CASE 7
		LOCAL += 2
	CASE 8
		LOCAL += 3
	CASE 9
		LOCAL += 3
	CASEELSE
		LOCAL += 4
ENDSELECT

;ABL:レズっ気をみる
SELECTCASE ABL:ARG:レズっ気
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 2
	CASE 4
		LOCAL += 3
	CASE 5
		LOCAL += 3
	CASE 6
		LOCAL += 3
	CASE 7
		LOCAL += 4
	CASE 8
		LOCAL += 4
	CASE 9
		LOCAL += 4
	CASEELSE
		LOCAL += 5
ENDSELECT

;ABL:精液中毒をみる
SELECTCASE ABL:ARG:精液中毒
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 3
	CASE 4
		LOCAL += 4
	CASE 5
		LOCAL += 5
	CASE 6
		LOCAL += 6
	CASE 7
		LOCAL += 7
	CASE 8
		LOCAL += 8
	CASE 9
		LOCAL += 9
	CASEELSE
		LOCAL += 10
ENDSELECT

;ABL:レズ中毒
SELECTCASE ABL:ARG:レズ中毒
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 3
	CASE 4
		LOCAL += 4
	CASE 5
		LOCAL += 5
	CASE 6
		LOCAL += 6
	CASE 7
		LOCAL += 7
	CASE 8
		LOCAL += 8
	CASE 9
		LOCAL += 9
	CASEELSE
		LOCAL += 10
ENDSELECT

;ABL:セックス中毒
SELECTCASE ABL:ARG:セックス中毒
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 3
	CASE 4
		LOCAL += 4
	CASE 5
		LOCAL += 5
	CASE 6
		LOCAL += 6
	CASE 7
		LOCAL += 7
	CASE 8
		LOCAL += 8
	CASE 9
		LOCAL += 9
	CASEELSE
		LOCAL += 10
ENDSELECT


;ABL:ＢＬっ気をみる
SELECTCASE ABL:ARG:ＢＬっ気
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 2
	CASE 4
		LOCAL += 3
	CASE 5
		LOCAL += 3
	CASE 6
		LOCAL += 4
	CASE 7
		LOCAL += 4
	CASE 8
		LOCAL += 5
	CASE 9
		LOCAL += 5
	CASEELSE
		LOCAL += 6
ENDSELECT

;ABL:ＢＬ中毒
SELECTCASE ABL:ARG:ＢＬ中毒
	CASE 0
		LOCAL += 0
	CASE 1
		LOCAL += 1
	CASE 2
		LOCAL += 2
	CASE 3
		LOCAL += 3
	CASE 4
		LOCAL += 4
	CASE 5
		LOCAL += 5
	CASE 6
		LOCAL += 6
	CASE 7
		LOCAL += 7
	CASE 8
		LOCAL += 8
	CASE 9
		LOCAL += 9
	CASEELSE
		LOCAL += 10
ENDSELECT

SIF LOCAL > 0 && ARG:1
	PRINTFORML Basic Prostitution Price：{LOCAL}
	;

;素質による補正
LOCAL:2 = 0
LOCAL:1 = 100
;素質による売却額補正値計算
;TALENT:処女をみる
IF TALENT:ARG:0
	LOCAL:2 = 100
	LOCAL:1 += 100
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(0)% ＋{LOCAL:2}％
ENDIF
;TALENT:再生処女をみる
IF TALENT:ARG:1
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(1)% ＋{LOCAL:2}％
ENDIF
;素質による増減
;陥落素質
;恋慕
IF TALENT:ARG:3
	LOCAL:2 = 50
	LOCAL:1 -=  50
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(3)% ‐{LOCAL:2}％
ENDIF
;淫乱
IF TALENT:ARG:4
	LOCAL:2 = 50
	LOCAL:1 += 50
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(4)% ＋{LOCAL:2}％
ENDIF
;服従
IF TALENT:ARG:5
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(5)% ＋{LOCAL:2}％
ENDIF
;親愛
IF TALENT:ARG:6
	LOCAL:2 = 80
	LOCAL:1 -=  80
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(6)% ‐{LOCAL:2}％
ENDIF
;娼婦
IF TALENT:ARG:7
	LOCAL:2 = 100
	LOCAL:1 += 100
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(7)% ＋{LOCAL:2}％
ENDIF
;隷属
IF TALENT:ARG:8
	LOCAL:2 = 60
	LOCAL:1 += 60
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(8)% ＋{LOCAL:2}％
ENDIF



;その他素質
;臆病
IF TALENT:ARG:10
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(10)% ‐{LOCAL:2}％
ENDIF
;反抗的
IF TALENT:ARG:11
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(11)% ＋{LOCAL:2}％
ENDIF
;気丈
IF TALENT:ARG:12
	LOCAL:2 = 40
	LOCAL:1 += 40
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(12)% ＋{LOCAL:2}％
ENDIF
;素直
IF TALENT:ARG:13
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(13)% ‐{LOCAL:2}％
ENDIF
;大人しい
IF TALENT:ARG:14
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(14)% ‐{LOCAL:2}％
ENDIF
;プライド高い
IF TALENT:ARG:15
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(15)% ＋{LOCAL:2}％
ENDIF
;生意気
IF TALENT:ARG:16
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(16)% ＋{LOCAL:2}％
ENDIF
;プライド低い
IF TALENT:ARG:17
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(17)% ‐{LOCAL:2}％
ENDIF
;ツンデレ
IF TALENT:ARG:18
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(18)% ＋{LOCAL:2}％
ENDIF
;自制心
IF TALENT:ARG:20
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(20)% ＋{LOCAL:2}％
ENDIF
;無関心
IF TALENT:ARG:21
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(21)% ‐{LOCAL:2}％
ENDIF
;感情乏しい
IF TALENT:ARG:22
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(22)% ‐{LOCAL:2}％
ENDIF
;好奇心
IF TALENT:ARG:23
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(23)% ＋{LOCAL:2}％
ENDIF
;保守的
IF TALENT:ARG:24
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(24)% ＋{LOCAL:2}％
ENDIF
;一線越えない
IF TALENT:ARG:27
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(27)% ＋{LOCAL:2}％
ENDIF
;目立ちたがり
IF TALENT:ARG:28
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(28)% ＋{LOCAL:2}％
ENDIF
;貞操観念
IF TALENT:ARG:30
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(30)% ＋{LOCAL:2}％
ENDIF
;貞操無頓着
IF TALENT:ARG:31
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(31)% ‐{LOCAL:2}％
ENDIF
;解放
IF TALENT:ARG:33
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(33)% ＋{LOCAL:2}％
ENDIF
;恥じらい
IF TALENT:ARG:35
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(35)% ＋{LOCAL:2}％
ENDIF
;恥薄い
IF TALENT:ARG:36
	LOCAL:2 = 10
	LOCAL:1 -=  10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(36)% ‐{LOCAL:2}％
ENDIF
;痛みに弱い
IF TALENT:ARG:40
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(40)% ‐{LOCAL:2}％
ENDIF
;痛みに強い
IF TALENT:ARG:41
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(41)% ＋{LOCAL:2}％
ENDIF
;濡れやすい
IF TALENT:ARG:42
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(42)% ＋{LOCAL:2}％
ENDIF
;濡れにくい
IF TALENT:ARG:43
	LOCAL:2 = 10
	LOCAL:1 -=  10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(43)% ‐{LOCAL:2}％
ENDIF
;習得早い
IF TALENT:ARG:50
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(50)% ＋{LOCAL:2}％
ENDIF
;習得遅い
IF TALENT:ARG:51
	LOCAL:2 = 10
	LOCAL:1 -=  10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(51)% ‐{LOCAL:2}％
ENDIF
;舌使い
IF TALENT:ARG:52
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(52)% ＋{LOCAL:2}％
ENDIF
;薬毒耐性
IF TALENT:ARG:56
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(56)% ‐{LOCAL:2}％
ENDIF
;おもらし癖
IF TALENT:ARG:57
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(57)% ＋{LOCAL:2}％
ENDIF
;自慰しやすい
IF TALENT:ARG:60
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(60)% ＋{LOCAL:2}％
ENDIF
;汚臭鈍感
IF TALENT:ARG:61
	LOCAL:2 = 20
	LOCAL:1 -=  20
		SIF ARG:1
	PRINTFORML %TALENTNAME_E(61)% ‐{LOCAL:2}％
ENDIF
;汚臭敏感
IF TALENT:ARG:62
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(62)% ＋{LOCAL:2}％
ENDIF
;献身的
IF TALENT:ARG:63
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(63)% ＋{LOCAL:2}％
ENDIF
;快感に素直
IF TALENT:ARG:70
	LOCAL:2 = 30
	LOCAL:1 -=  30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(70)% ‐{LOCAL:2}％
ENDIF
;快感の否定
IF TALENT:ARG:71
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(71)% ＋{LOCAL:2}％
ENDIF
;即落ち
IF TALENT:ARG:73
	LOCAL:2 = 50
	LOCAL:1 -=  50
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(73)% ‐{LOCAL:2}％
ENDIF
;自慰狂い
IF TALENT:ARG:74
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(74)% ＋{LOCAL:2}％
ENDIF
;セックス狂
IF TALENT:ARG:75
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(75)% ＋{LOCAL:2}％
ENDIF
;尻穴狂い
IF TALENT:ARG:76
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(76)% ＋{LOCAL:2}％
ENDIF
;淫乳
IF TALENT:ARG:77
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(77)% ＋{LOCAL:2}％
ENDIF
;倒錯的
IF TALENT:ARG:80
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(80)% ＋{LOCAL:2}％
ENDIF
;男嫌い
IF TALENT:ARG:82
	LOCAL:2 = 10
	LOCAL:1 -=  10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(82)% ‐{LOCAL:2}％
ENDIF
;サド
IF TALENT:ARG:83
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(83)% ＋{LOCAL:2}％
ENDIF
;マゾ
IF TALENT:ARG:84
	LOCAL:2 = 40
	LOCAL:1 += 40
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(84)% ＋{LOCAL:2}％
ENDIF
;妄信
IF TALENT:ARG:86
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(86)% ＋{LOCAL:2}％
ENDIF
;女嫌い
IF TALENT:ARG:88
	LOCAL:2 = 10
	LOCAL:1 -=  10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(88)% ‐{LOCAL:2}％
ENDIF
;小悪魔
IF TALENT:ARG:87
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(87)% ＋{LOCAL:2}％
ENDIF
;妖狐
IF TALENT:ARG:91
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(91)% ＋{LOCAL:2}％
ENDIF
;魅力
IF TALENT:ARG:92
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(92)% ＋{LOCAL:2}％
ENDIF
;謎の魅力
IF TALENT:ARG:94
	LOCAL:2 = 100
	LOCAL:1 += 100
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(94)% ＋{LOCAL:2}％
ENDIF
;ＣInsensitive（感覚が4以上なら無効）
IF TALENT:ARG:101 && ABL:ARG:3 < 4
	LOCAL:2 = 30
	LOCAL:1 -=  30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(101)% ‐{LOCAL:2}％
ENDIF
;ＣSensitive（感覚が3未満なら無効）
IF TALENT:ARG:102 && ABL:ARG:3 >= 3
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(102)% ＋{LOCAL:2}％
ENDIF
;ＶInsensitive（感覚が4以上なら無効）
IF TALENT:ARG:103 && ABL:ARG:4 < 4
	LOCAL:2 = 30
	LOCAL:1 -=  30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(103)% ‐{LOCAL:2}％
ENDIF
;ＶSensitive（感覚が3未満なら無効）
IF TALENT:ARG:104 && ABL:ARG:4 >= 3
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(104)% ＋{LOCAL:2}％
ENDIF
;ＡInsensitive（感覚が4以上なら無効）
IF TALENT:ARG:105 && ABL:ARG:5 < 4
	LOCAL:2 = 30
	LOCAL:1 -=  30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(105)% ‐{LOCAL:2}％
ENDIF
;ＡSensitive（感覚が3未満なら無効）
IF TALENT:ARG:106 && ABL:ARG:5 >= 3
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(106)% ＋{LOCAL:2}％
ENDIF
;ＢInsensitive（感覚が4以上なら無効）
IF TALENT:ARG:107 && ABL:ARG:6 < 4
	LOCAL:2 = 30
	LOCAL:1 -=  30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(107)% ‐{LOCAL:2}％
ENDIF
;ＢSensitive（感覚が3未満なら無効）
IF TALENT:ARG:108 && ABL:ARG:6 >= 3
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(108)% ＋{LOCAL:2}％
ENDIF
;貧乳
IF TALENT:ARG:109
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(109)% ‐{LOCAL:2}％
ENDIF
;絶壁
IF TALENT:ARG:110
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(110)% ＋{LOCAL:2}％
ENDIF
;巨乳
IF TALENT:ARG:111
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(111)% ＋{LOCAL:2}％
ENDIF
;爆乳
IF TALENT:ARG:112
	LOCAL:2 = 10
	LOCAL:1 += 10
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(112)% ＋{LOCAL:2}％
ENDIF
;回復早い
IF TALENT:ARG:130
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(130)% ＋{LOCAL:2}％
ENDIF
;回復遅い
IF TALENT:ARG:131
	LOCAL:2 = 20
	LOCAL:1 -=  20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(131)% ‐{LOCAL:2}％
ENDIF
;吸血鬼
IF TALENT:ARG:132
	LOCAL:2 = 30
	LOCAL:1 += 30
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(132)% ＋{LOCAL:2}％
ENDIF
;動物耳
IF TALENT:ARG:143
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(143)% ＋{LOCAL:2}％
ENDIF
;人気
IF TALENT:ARG:145
	LOCAL:2 = 50
	LOCAL:1 += 50
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(145)% ＋{LOCAL:2}％
ENDIF
;蓬莱人
IF TALENT:ARG:147
	LOCAL:2 = 70
	LOCAL:1 += 70
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(147)% ＋{LOCAL:2}％
ENDIF
;母乳体質
IF TALENT:ARG:149
	LOCAL:2 = 20
	LOCAL:1 += 20
	SIF ARG:1
		PRINTFORML %TALENTNAME_E(149)% ＋{LOCAL:2}％
ENDIF

;崩壊,狂気は報酬をかなり低くする（従順によって、80％まで回復）
;妊娠は逆に高くする。
IF TALENT:ARG:9 || TALENT:ARG:141 || TALENT:ARG:153
	IF TALENT:ARG:9 || TALENT:ARG:141
		LOCAL *= MIN(10,ABL:ARG:従順)
		TIMES LOCAL , 0.08
		LOCAL:2 = MIN(10,ABL:ARG:従順)
		LOCAL:2 *= 8
		;表示する素質名判定用
		IF TALENT:ARG:9
			LOCAL:3 = 9
		ELSE
			LOCAL:3 = 141
		ENDIF
	ELSEIF TALENT:ARG:153
		TIMES LOCAL , 2.3
		LOCAL:2 = 230
		LOCAL:3 = 153
	ENDIF

	IF ARG:1
		PRINTL 
		PRINTFORML %TALENTNAME_E(LOCAL:3)% ×{LOCAL:2}％
		PRINTL 
	ENDIF
ENDIF

;補正値が0以下の場合は1にする
SIF LOCAL:1 <= 0
	LOCAL:1 = 1

SIF ARG:1
	PRINTFORML Total Bonus {LOCAL:1}％

;補正値の適用
LOCAL *= LOCAL:1
LOCAL /= 100

;施設による補正
IF ITEM:娼館
	TIMES LOCAL , 1.3
	SIF ARG:1
		PRINTFORML Correction by brothel ownership ×130％
ELSEIF ITEM:安宿 == 0
	TIMES LOCAL , 0.5
	SIF ARG:1
		PRINTFORML Margin ×50％
ENDIF

;難易度補正
CALL CORRECT_DIFFICULTY, LOCAL, ARG:1
LOCAL = RESULT

;引継ぎキャラ補正
CALL CORRECT_PROCESSION_CHARA, ARG, LOCAL , ARG:1
LOCAL = RESULT

RETURN LOCAL


;==========================================================
;@NTR_PROSTITUTION
; 売春労役でのNTR処理
;<引数>
;	ARG   = ＮＴＲキャラの登録番号
;	ARG:1 = セックス系プレイ回数
;	ARG:2 = SM系プレイ回数
;	ARG:3 = 相手をした人数
;<戻り値>
;	なし
;==========================================================
@NTR_PROSTITUTION, ARG, ARG:1, ARG:2, ARG:3
#LOCALSIZE 5
;LOCAL:1 = 好感度変化量
;LOCAL:2 = NTR好き客からの声掛けられ確率
;LOCAL:3 = NTR引っかかり確率マイナス補正
;LOCAL:4 = NTR客判別

;LOCAL配列初期化
VARSET LOCAL,0

;娼館ＮＴＲイベントがOFFの場合は何もせず戻る
;専有奴隷の首輪を装備している場合は何もせず戻る
;オトコは弾く
SIF !GETBIT(FLAG:ＮＴＲ機能 , 2) || (CFLAG:ARG:その他 == 1116 || CFLAG:ARG:その他2 == 1116 || CFLAG:ARG:その他3 == 1116) || TALENT:ARG:オトコ == 1
	RETURN

;NTR好き客からの声掛けられ確率算出
LOCAL:2 = LIMIT(CFLAG:ARG:放置日数 * 2, 0, 30) + TALENT:ARG:人気 * 10

;NTR引っかかり確率マイナス補正の計算
LOCAL:3 = CFLAG:ARG:放置日数 * 2 + TALENT:ARG:即落ち * 50
SIF 危険日(ARG) > 1
	LOCAL:3 += 危険日(ARG) * 10
	
;ＮＴＲ客の設定処理
SELECTCASE FLAG:ＮＴＲ客の設定
	CASE  0
		TIMES LOCAL:2 , 1.00
		TIMES LOCAL:3 , 1.00
	CASE  1
		TIMES LOCAL:2 , 1.50
		TIMES LOCAL:3 , 2.00
	CASE  2
		TIMES LOCAL:2 , 3.00
		TIMES LOCAL:3 , 4.00
ENDSELECT

SIF (CFLAG:ARG:その他 == 1117 || CFLAG:ARG:その他2 == 1117 || CFLAG:ARG:その他3 == 1117)
	PRINTFORMW %CALLNAME:ARG%は何とも云えない甘い匂いを纏っている……
;好感度
LOCAL:1 = ARG:1/3+ARG:2/3 + ARG:3 + CFLAG:ARG:放置日数
IF RAND:2 == 0
	CFLAG:ARG:(2096) += LOCAL:1
ELSE
	CFLAG:ARG:(2095) -= LOCAL:1
ENDIF

;デートのお誘い
;放置日数*2（上限30％）の確率で声をかけられる（人気持ちはさらに+10％）
;ＮＴＲ状態の場合は50％
IF RAND:100 < LOCAL:2 || TALENT:ARG:ＮＴＲ > 0 && RAND:100 < 50 || (CFLAG:ARG:その他 == 1117 || CFLAG:ARG:その他2 == 1117 || CFLAG:ARG:その他3 == 1117)
	PRINTFORML 
	PRINTFORML %CALLNAME:ARG%は客に店外デートに誘われたようだ
	;誘いに乗るか判定
	;基本値0％+放置日数*2（上限なし）さらに即落ち持ちは+50で、発情の場合も+10〜15
	;これに陥落度*10のマイナス補正を入れる
	;ＮＴＲ状態の場合は無条件でついていく
	IF RAND:100 > 100 + 陥落(ARG) * 10 - LOCAL:3 || TALENT:ARG:ＮＴＲ > 0 || (CFLAG:ARG:その他 == 1117 || CFLAG:ARG:その他2 == 1117 || CFLAG:ARG:その他3 == 1117)
		PRINTFORML 
		PRINTFORML %CALLNAME:ARG%は客との待ち合わせ場所に向かった……
		PRINTFORML ・
		PRINTFORML ・・
		PRINTFORMW ・・・
		;本番判定
		;基本値50％+放置日数*2（上限なし）さらに即落ち持ちは+50
		;これに陥落度*50のマイナス補正を入れる
		;ＮＴＲ状態の場合は無条件でドピュドピュされる
		IF RAND:100 > 50 + 陥落(ARG) * 50 - LOCAL:3 || TALENT:ARG:ＮＴＲ > 0 || (CFLAG:ARG:その他 == 1117 || CFLAG:ARG:その他2 == 1117 || CFLAG:ARG:その他3 == 1117)
			IF RAND:2 == 0
				;優しい娼館顧客
				LOCAL:4 = -4
				IF TALENT:ARG:ＮＴＲ == 1
					PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に誘われてホテルへ入っていった……
				ELSE
					PRINTFORMW %CALLNAME:ARG%は客に誘われてホテルへ入っていった……
				ENDIF
				IF CFLAG:ARG:現ＮＴＲ進行度 > 10
					IF CFLAG:ARG:108 == 1
						CFLAG:ARG:108 = 0
						PRINTFORML %CALLNAME:ARG%の子宮内避妊結界が解除されてしまった……
					ENDIF
					IF RAND:100 < 30 && CFLAG:ARG:109 == 0
						CFLAG:ARG:109 = 1
						PRINTFORML %CALLNAME:ARG%は排卵誘発剤を飲まされた……
					ENDIF
				ENDIF
				PRINTFORML 
				CALL NTR_PROSTITUTION_SEX, ARG, LOCAL:4

				SETCOLOR COLOR("pink")
				IF TALENT:ARG:ＮＴＲ == 1
					;危険日
					IF 危険日(ARG) == 1
						IF RAND:7 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%が射精した瞬間しっかりと抱き付き、少しでも多く精液を受け止めようしている……
							PRINTFORMW %CALLNAME:ARG%は危険日に%NTRNAME(CFLAG:ARG:陥落キャラ)%から種付けしてもらえた事に幸福を感じている……
						ELSEIF RAND:6 == 0
							PRINTFORML %CALLNAME:ARG%は部屋に入ると、頬を赤く染めて危険日である事を%NTRNAME(CFLAG:ARG:陥落キャラ)%に伝えた……
							PRINTFORMW 
							PRINTFORML %CALLNAME:ARG%は危険日など女の周期について%NTRNAME(CFLAG:ARG:陥落キャラ)%に伝える事を約束していた。
							PRINTFORMW 無理をさせない為に、%CALLNAME:ARG%の身体を気遣っての事だと説明されていたのだ。
							PRINTFORML 確かに、危険日にはいつもしっかりと濃密な本気の種付けセックスをしてくれているし、
							PRINTFORMW 生理の日には、たっぷりと%NTRNAME(CFLAG:ARG:陥落キャラ)%の熱い精子を中出ししてもらっている。
							PRINTFORML そうで無い日は気兼ね無く何度も膣内射精を繰り返して……
							PRINTFORMW 
							PRINTFORMW …とにかく、%CALLNAME:ARG%は今日も%NTRNAME(CFLAG:ARG:陥落キャラ)%にたっぷりと濃い精液で種付けしてもらった……
						ELSEIF RAND:5 == 0
							PRINTFORML %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%の耳に口を寄せ、危険日だからいっぱい出してと艶っぽくお願いした……
							PRINTFORMW そして%NTRNAME(CFLAG:ARG:陥落キャラ)%に跨り、既にとろけたアソコに自ら%NTRNAME(CFLAG:ARG:陥落キャラ)%のペニスを挿入させてゆく……
							PRINTFORMW 激しい腰使いで何度も精液を搾り取った%CALLNAME:ARG%は、体内で広がる%NTRNAME(CFLAG:ARG:陥落キャラ)%の子種の感触に満足そうだ……
						ELSEIF RAND:4 == 0
							PRINTFORML 背後から激しく突かれながら、いつもよりも熱っぽく中出しをおねだりする%CALLNAME:ARG%を見て、
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は危険日である事を察すると、こつんこつんと子宮口を優しくノックし始めた……
							PRINTFORML 女の芯の部分を一突きされるごとに%CALLNAME:ARG%は射精の瞬間を意識してしまい、甘い声を発してしまう……
							PRINTFORMW その丁寧で強烈な刺激は、%CALLNAME:ARG%に女としての更なる悦びを想像させている……
							PRINTFORML そのまま散々焦らされた末、やっと熱くて大量の精液が膣内に与えられると、
							PRINTFORMW 強烈な感触に%CALLNAME:ARG%は涙を流しながら全身を震わせ、求めていた悦びを味わいながら絶頂した……
						ELSEIF RAND:3 == 0
							PRINTFORMW 何度も中出しされた後で%CALLNAME:ARG%は、%NTRNAME(CFLAG:ARG:陥落キャラ)%の腕に抱かれながら危険日だったことを伝えた……
							PRINTFORML それを聞いた%NTRNAME(CFLAG:ARG:陥落キャラ)%は驚き目を白黒させていたが、%CALLNAME:ARG%は優しく口付けしてあげた……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は驚きから覚めると%CALLNAME:ARG%を抱き締め、口付けに応えた……
						ELSEIF RAND:2 == 0
							PRINTFORMW 何度も中出しされた後で%CALLNAME:ARG%は、%NTRNAME(CFLAG:ARG:陥落キャラ)%の腕に抱かれながら危険日だったことを伝えた……
							PRINTFORMW それを聞いた%NTRNAME(CFLAG:ARG:陥落キャラ)%は%CALLNAME:ARG%を抱き締めると、優しくキスをした……
							PRINTFORML 溢れる幸福感に包まれた%CALLNAME:ARG%はうっとりしていたが、
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%のペニスがすっかり元気を取り戻しているのを見て苦笑した……
							PRINTFORML 
							PRINTFORMW 激しい種付けセックスを終えて、%NTRNAME(CFLAG:ARG:陥落キャラ)%の腕に再び抱かれながら%CALLNAME:ARG%は改めて幸福を感じていた……
						ELSE
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に危険日だと告げると、既に湿った局部を晒して覚悟ができている事を伝えた……
							PRINTFORMW そして、そのまま二人は夢中で何度も交わった……
						ENDIF
					;発情
					ELSEIF 危険日(ARG) == 2
						IF RAND:4 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に後ろから突かれるたび、あられもない声を上げている……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%の精液が危険日の膣内を満たしていくたび、%CALLNAME:ARG%は悦楽と喜びに満ちた嬌声を上げている
						ELSEIF RAND:3 == 0
							PRINTFORMW ゆっくりと%CALLNAME:ARG%をかき分けて侵入してくるペニスの感触に、%CALLNAME:ARG%は獣のような声をあげる……
							PRINTFORML 溢れる蜜をぼとぼと垂らしながら淫猥な蠢きをする%CALLNAME:ARG%の危険日の蜜壷は、
							PRINTFORMW 迎えた%NTRNAME(CFLAG:ARG:陥落キャラ)%のペニスをみっちりと締め付け、熱い種付けを待ち望んでいた……
						ELSEIF RAND:2 == 0
							PRINTFORMW 発情し、火照りのとまらない%CALLNAME:ARG%の身体は、
							PRINTFORMW 危険日の膣が精液で満たされるまで%NTRNAME(CFLAG:ARG:陥落キャラ)%を放そうとしなかった……
						ELSE
							PRINTFORMW 野生のむき出しの性欲を、%CALLNAME:ARG%と%NTRNAME(CFLAG:ARG:陥落キャラ)%は貪りあっている……
							PRINTFORMW 何度危険日の膣に精液を受けとめても満たされず、身体はお互いを求め続けている……
							PRINTFORMW オスとメスの匂いで充満する室内に、肉を打ち付ける音と二人の荒い吐息だけが響いていた……
						ENDIF
					;満月発情
					ELSEIF 危険日(ARG) == 3
						IF RAND:4 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に後ろから突かれるたび、あられもない声を上げている……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%の精液が膣内を満たしていくたび、%CALLNAME:ARG%は悦楽と喜びに満ちた嬌声を上げている
						ELSEIF RAND:3 == 0
							PRINTFORMW ゆっくりと%CALLNAME:ARG%をかき分けて侵入してくるペニスの感触に、%CALLNAME:ARG%は獣のような声をあげる……
							PRINTFORML 溢れる蜜をぼとぼと垂らしながら淫猥な蠢きをする%CALLNAME:ARG%の蜜壷は、
							PRINTFORMW 迎えた%NTRNAME(CFLAG:ARG:陥落キャラ)%のペニスをがっちりと締め付け、熱い射精をするまで離さないようだ……
						ELSEIF RAND:2 == 0
							PRINTFORMW すっかり発情しきった%CALLNAME:ARG%の身体は、満足するまで%NTRNAME(CFLAG:ARG:陥落キャラ)%を放そうとしなかった……
						ELSE
							PRINTFORMW 野生のむき出しの性欲を、%CALLNAME:ARG%と%NTRNAME(CFLAG:ARG:陥落キャラ)%は貪りあっている……
							PRINTFORMW むせ返る匂いで充満する室内に、肉を打ち付ける音と二人の荒い吐息だけが響いていた……
						ENDIF
					;通常
					ELSE
						IF RAND:17 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%と激しく愛し合っている……
							PRINTFORMW 子宮内に広がる『熱』を感じながら、女の幸せをかみしめている……
						ELSEIF RAND:16 == 0
							PRINTFORML %CALLNAME:ARG%は騎乗位での激しい腰使いを緩めると、繋がったまま倒れこんで%NTRNAME(CFLAG:ARG:陥落キャラ)%に抱き付き、
							PRINTFORMW 身体を%NTRNAME(CFLAG:ARG:陥落キャラ)%に密着させると唇の触れ合う距離でキスをねだった……
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%は繋がったままの%CALLNAME:ARG%をしっかりと抱き締め、おねだりに応えて口付けをする……
							PRINTFORML 舌からついばむような優しいキスを%NTRNAME(CFLAG:ARG:陥落キャラ)%から何度も受けているうちに、
							PRINTFORMW 膣壁は無意識のうちにぎゅっとペニスを締め付け、とろとろの愛液を染み出した……
							PRINTFORML %CALLNAME:ARG%の身体が悦んでいるのを知ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%は%CALLNAME:ARG%の唇を嬲り続けたまま下から突き上げ、
							PRINTFORMW やがて妖しく射精を待ちわびる%CALLNAME:ARG%の膣に、たっぷりと精液を浴びせていった……
						ELSEIF RAND:15 == 0
							PRINTFORMW 照明を落とした薄暗いホテルの室内に、男女の熱い息遣いが響いている……
							PRINTFORMW %CALLNAME:ARG%と%NTRNAME(CFLAG:ARG:陥落キャラ)%は生まれたままの姿で繋がり、肉欲を貪っている……
							PRINTFORMW 二人の繋がりに確かな証拠を得ようと、ただひたすらにお互いを求め交わっていた……
						ELSEIF RAND:14 == 0
							PRINTFORMW %CALLNAME:ARG%は座っている%NTRNAME(CFLAG:ARG:陥落キャラ)%の股間にむしゃぶりつき、うっとりと熱っぽい目付きで奉仕を続けている……
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%に優しく頭を撫でられると、%CALLNAME:ARG%は口淫を続けたまま上目遣いで視線を絡ませた……
							PRINTFORMW 夢中で情熱的な奉仕を続ける%CALLNAME:ARG%の肉壷は、既に期待と興奮でとろとろになって甘い雫を垂らしている……
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%の軽い合図で%CALLNAME:ARG%は、いよいよ%NTRNAME(CFLAG:ARG:陥落キャラ)%に挿入してもらえると知り顔を赤らめた……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%に抱き寄せられ対面座位で跨るように促されると、
							PRINTFORML %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%のペニスゆっくりと味わうように腰を下ろし、とろとろの蜜壷で飲み込んでいく……
							PRINTFORMW 舌を絡めながら献身的に腰を振って奉仕する%CALLNAME:ARG%は、熱い精液を胎内に受ける事への期待で溢れている……
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%にしっかりと抱き締められ、耳元で愛の言葉を受けながら濃い精液で種付けされた……
							PRINTFORML
							PRINTFORMW その後、何度もたっぷりと膣内に受けた%CALLNAME:ARG%は、%NTRNAME(CFLAG:ARG:陥落キャラ)%の腕の中で幸せにまどろんだ……
						ELSEIF RAND:13 == 0
							PRINTFORMW %CALLNAME:ARG%は正面から突かれながら%NTRNAME(CFLAG:ARG:陥落キャラ)%に耳元で愛を囁かれ、幸福感に包まれていた……
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%の硬いペニスで子宮口を何度もノックされ、立て続けに絶頂に追いやられている……
							PRINTFORMW %CALLNAME:ARG%の肉壁は本気の愛液で%NTRNAME(CFLAG:ARG:陥落キャラ)%のペニスを包み、一番奥で射精するよう蠢いていた……
						ELSEIF RAND:12 == 0
							PRINTFORMW %CALLNAME:ARG%と%NTRNAME(CFLAG:ARG:陥落キャラ)%はホテルのバスタブに浸かりながら繋がっている……
							PRINTFORMW 溢れるお湯を気にする余裕はすぐに無くなり、%CALLNAME:ARG%は愛する男に求められる喜びに酔いしれた……
						ELSEIF RAND:11 == 0
							PRINTFORMW %CALLNAME:ARG%は命じられるままに足をM字に開き、ぐっしょりと塗れた陰部が%NTRNAME(CFLAG:ARG:陥落キャラ)%に良く見えるように指で開いた……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は吸い込まれるように顔を近付け、息の掛かる距離で%CALLNAME:ARG%の恥ずかしい部分を観察している……
							PRINTFORMW 羞恥に耐える%CALLNAME:ARG%だったが、%NTRNAME(CFLAG:ARG:陥落キャラ)%に硬く勃起した陰茎を見せられると、恥じらいながらはにかんだ……
						ELSEIF RAND:10 == 0
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%は部屋に入るなり%CALLNAME:ARG%を後ろから抱きしめ、愛を囁きながら愛撫を始めた……
							PRINTFORMW そして、女陰に十分な湿りを確認すると、下着の隙間から挿入した……
							PRINTFORML 
							PRINTFORML %CALLNAME:ARG%は自分を後ろから抱きしめ、無我夢中で腰を振る%NTRNAME(CFLAG:ARG:陥落キャラ)%を愛しく思い、身を委ねている……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は早めの限界を迎えると、抱きしめる腕に殊更に力を入れ、確りと膣内に精液を注ぎ込んだ……
							PRINTFORMW %CALLNAME:ARG%は自分を抱く力強い腕と、胎内を満たす熱い迸りにオンナとしての充足と悦びを感じている……
						ELSEIF RAND:9 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%の剛直に貫かれ、甘い声を上げていた……
							PRINTFORMW 時折%NTRNAME(CFLAG:ARG:陥落キャラ)%の名前を呼びながら、情欲を貪っている……
							PRINTFORMW そしてお互い強く抱きしめたまま、%NTRNAME(CFLAG:ARG:陥落キャラ)%の精液を体の一番奥で受け止めた……
						ELSEIF RAND:8 == 0
							PRINTFORMW 裸で抱き合う%CALLNAME:ARG%と%NTRNAME(CFLAG:ARG:陥落キャラ)%は、深く繋がったまま熱いキスを交わしている……
							PRINTFORMW %CALLNAME:ARG%は舌を絡ませる本気のキスを止められず、%NTRNAME(CFLAG:ARG:陥落キャラ)%を求め続けた……
							PRINTFORMW 両手を重ねキスを続けたまま、%CALLNAME:ARG%の膣に熱い精液が注がれた……
						ELSEIF RAND:7 == 0
							PRINTFORMW %CALLNAME:ARG%はメイド服の格好で、%NTRNAME(CFLAG:ARG:陥落キャラ)%といちゃいちゃしていた……
							PRINTFORMW 照れながらも、ご主人様とメイドごっこに%CALLNAME:ARG%は夢中になってしまっていた……
							PRINTFORML 濃い目の「ご奉仕」で全身%NTRNAME(CFLAG:ARG:陥落キャラ)%の精液まみれになりながら、
							PRINTFORMW %CALLNAME:ARG%は次に逢う時のプレイは何にしようか考えていた……
						ELSEIF RAND:6 == 0
							PRINTFORML %CALLNAME:ARG%は激しいキスをしながら、座り込んだ%NTRNAME(CFLAG:ARG:陥落キャラ)%に対面座位で繋がっている……
							PRINTFORMW 体の一番奥を強く突かれ続け、既に%CALLNAME:ARG%は何度も絶頂し%NTRNAME(CFLAG:ARG:陥落キャラ)%の精液を膣内に受け入れていた……
							PRINTFORML %CALLNAME:ARG%の弱い所をすっかり知り尽くした%NTRNAME(CFLAG:ARG:陥落キャラ)%は、巧みに腰を動かし再度の絶頂に向けて責めを加速している……。
							PRINTFORML %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%がまた自分をイかせるつもりなのを知ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%をぎゅっと抱きしめた……
							PRINTFORMW そして、加速したまま%NTRNAME(CFLAG:ARG:陥落キャラ)%の強い一突きで、%CALLNAME:ARG%は大きく嬌声を上げた……
							PRINTFORML 
							PRINTFORMW そのまま限界が来るまで、%CALLNAME:ARG%はイかされ続けた……
						ELSEIF RAND:5 == 0
							PRINTFORMW %CALLNAME:ARG%は、%NTRNAME(CFLAG:ARG:陥落キャラ)%に前から優しく貫かれながら愛の言葉を耳元で囁かれ、すっかりふにゃふにゃになっている……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%の甘い責めになす術もない%CALLNAME:ARG%は、足を絡ませ中出しをねだる事で%NTRNAME(CFLAG:ARG:陥落キャラ)%の責めに応えていた……
							PRINTFORMW そして、膣内に%NTRNAME(CFLAG:ARG:陥落キャラ)%の熱い精液を感じると、%CALLNAME:ARG%はその甘美な感触に潮を吹いて絶頂した……
						ELSEIF RAND:4 == 0
							PRINTFORMW %CALLNAME:ARG%と%NTRNAME(CFLAG:ARG:陥落キャラ)%は指を絡ませながら何度も口付けをしている……
							PRINTFORMW キスの合間に交わされる%NTRNAME(CFLAG:ARG:陥落キャラ)%の優しい言葉に、%CALLNAME:ARG%はうっとりと聞き入っている……
						ELSEIF RAND:3 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に激しく後ろから突かれている……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%に最奥を刺激される毎に、%CALLNAME:ARG%は全身が蕩けていくような幸福感に包まれていた……
							PRINTFORMW 背後から体中を弄られながら、%CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に膣内で射精するよう懇願した……
						ELSEIF RAND:2 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%の上に跨り、両手を合わせ、指を絡め合いながら膣内に溢れる精液を受け止めている……
							PRINTFORMW 膣内での脈動が静まると、%CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%を見つめながら、嬉しそうに微笑んだ……
						ELSE
							PRINTFORMW %CALLNAME:ARG%はシーツを掴みながら%NTRNAME(CFLAG:ARG:陥落キャラ)%の欲望を受け止めている……
							PRINTFORMW 二人は指を絡ませあいながら、深く長いキスを交わした……
						ENDIF
					ENDIF
				ELSEIF TALENT:ARG:ＮＴＲ == 2
					;危険日
					IF 危険日(ARG) == 1
						IF RAND:3 == 0
							PRINTFORMW %CALLNAME:ARG%は客の子種が危険日の膣内に放たれるたび、一滴でも多く搾り出そうと腰をくねらせている……
						ELSEIF RAND:2 == 0
							PRINTFORML %CALLNAME:ARG%は頬を染めて客の耳に口を寄せると、卑猥な言葉をあえて選びながら
							PRINTFORMW 危険日の子宮に種付けをするよう男に囁いた……
							PRINTFORMW 剛直に貫かれ精液を飲み込む瞬間を待ちわび、%CALLNAME:ARG%の恥部は既にとろとろに濡れている……
						ELSE
							PRINTFORMW %CALLNAME:ARG%は男の手を取り、スカートの中に誘い込んだ……
							PRINTFORML %CALLNAME:ARG%が下着を付けていない事を、そして既に十分とろけている事を直接伝え、
							PRINTFORMW 今すぐ危険日のあそこに出して欲しいと、熱い吐息を吹きかけながら男にねだった……
						ENDIF
					;発情
					ELSEIF 危険日(ARG) == 2
						IF RAND:3 == 0
							PRINTFORMW %CALLNAME:ARG%達はまるで発情期のケダモノのように激しく交わりあっている……
							PRINTFORMW %CALLNAME:ARG%は快楽に堕ちた顔を晒しながら何度も危険日の子宮内に種付けされた……
						ELSEIF RAND:2 == 0
							PRINTFORMW 発情が止まらない%CALLNAME:ARG%は客に抱きかかえられるように部屋に入ると、
							PRINTFORML たまらず客に飛び掛り股間を擦り付けながら唇を貪る……
							PRINTFORMW 危険日の膣内に射精を何度受けても体の火照りは治まらず、%CALLNAME:ARG%は自ら腰を振っていた……
						ELSE
							PRINTFORMW 火照った%CALLNAME:ARG%は客の服を剥ぎ取り、本能のままに襲い掛かった……
							PRINTFORMW 熱っぽい瞳を浮かべ、危険日の子宮にたっぷり種付けされるのを期待して、激しく腰を振っている……
						ENDIF
					;満月発情
					ELSEIF 危険日(ARG) == 3
						IF RAND:5 == 0
							PRINTFORMW %CALLNAME:ARG%達はまるで発情期のケダモノのように激しく交わりあっている……
							PRINTFORMW %CALLNAME:ARG%は快楽に堕ちた顔を晒しながら何度も種付けされた……
						ELSEIF RAND:4 == 0
							PRINTFORML 発情が止まらない%CALLNAME:ARG%は客に抱きかかえられるように部屋に入ると、
							PRINTFORMW たまらず客に飛び掛り股間を擦り付けながら唇を貪る……
							PRINTFORMW 膣内に射精を何度受けても体の火照りは治まらず、%CALLNAME:ARG%は腰を振り続けている……
						ELSEIF RAND:3 == 0
							PRINTFORMW 発情している%CALLNAME:ARG%は、客に焦らされ続けよだれを流しながら身悶えている。
							PRINTFORML 本気の愛液を垂れ流している入り口を、ペニスで擦られ続けているのだ……
							PRINTFORMW 既に何度と無く絶頂しているが、%CALLNAME:ARG%の求めているものはもっと強く確かなものだった。
							PRINTFORML やがて、ぴたりとペニスの動きが止まり、ゆっくりと入り口に宛がわれた……
							PRINTFORMW やっと与えられた挿入に%CALLNAME:ARG%は歓喜の声をあげ、深くて長い絶頂を迎えた……
						ELSEIF RAND:2 == 0
							PRINTFORMW 火照った%CALLNAME:ARG%は客の服を剥ぎ取り、本能のままに襲い掛かった……
							PRINTFORMW 熱っぽい瞳を浮かべ、激しく腰を振っている……
						ELSE
							PRINTFORML 発情した%CALLNAME:ARG%に激しく何度も攻め立てられ、既に何度も射精して消耗した客は、
							PRINTFORMW 大の字になって息を整えていた……が、そこに満たされ切れない%CALLNAME:ARG%が襲い掛かる……！
							PRINTFORMW 無理矢理ペニスを勃起させると自ら腰を沈め、貪るように腰を振り出した……
						ENDIF
					;通常
					ELSE
						IF RAND:14 == 0
							PRINTFORMW %CALLNAME:ARG%は自らの濡れた肉壷を使って客のペニスに奉仕している……
							PRINTFORMW ぞわぞわとペニス締め付ける感覚に、客は蕩けた表情を浮かべている……
						ELSEIF RAND:13 == 0
							PRINTFORMW 客は%CALLNAME:ARG%の足を大きく開き、ピンク色の柔肉を広げて小さく顔を出した芯を舐め上げている……
							PRINTFORML 集中的にクリトリスを責められ続けて%CALLNAME:ARG%は何度となく潮を吹いて絶頂し、びくんびくんと身体を震わせていた……。
							PRINTFORMW 絶頂を重ねる毎に%CALLNAME:ARG%の身体は敏感になり、次に迎える絶頂が深くて激しいものへとなっていくようだった……
							PRINTFORML 高まり続ける刺激に%CALLNAME:ARG%は身をよじり、シーツを握り締めながら悲鳴のような喘ぎ声をあげている……
							PRINTFORMW そしてとうとう訪れた強烈過ぎる絶頂で、よだれを垂らし背中を反らせたまま%CALLNAME:ARG%は失禁してしまった……。
						ELSEIF RAND:12 == 0
							PRINTFORMW 客と正常位で繋がった%CALLNAME:ARG%は、潤んだ顔で甘い嬌声をあげている……
							PRINTFORMW 激しい出し入れを%CALLNAME:ARG%の蜜壷は柔らかく受け入れ、精液を搾り取ろうとしっかりと締め付けていた……
						ELSEIF RAND:11 == 0
							PRINTFORMW %CALLNAME:ARG%は、たった今注ぎ込まれた精液を秘肉を指で広げて客に見せ付けている……
							PRINTFORMW その淫猥な光景に、客の息遣いは再び荒くなる……
						ELSEIF RAND:10 == 0
							PRINTFORMW 客の必死のお願いを聞き入れた%CALLNAME:ARG%は、メイド服姿で客のペニスをぺろぺろ舐めている……
							PRINTFORMW 戸惑っていた%CALLNAME:ARG%も、最後には割とノリノリでエロメイドさんを演じていたようだ……
						ELSEIF RAND:9 == 0
							PRINTFORMW %CALLNAME:ARG%は客のカリ高ちんぽに膣をかき回され、喘ぎ声をあげながらいいように嬲られている……
							PRINTFORMW 何度も絶頂を重ねる激しいセックスに、%CALLNAME:ARG%は時間を忘れて溺れている……
						ELSEIF RAND:8 == 0
							PRINTFORMW %CALLNAME:ARG%と客は、快楽だけを求める激しいセックスを体力が尽きるまで続けた……
						ELSEIF RAND:7 == 0
							PRINTFORMW 客の太いちんぽに乱暴に膣を穿られて、%CALLNAME:ARG%は嬌声をあげていた……
							PRINTFORMW 涙と涎を垂れ流しながら、強烈な快感に体を震わせている……
						ELSEIF RAND:6 == 0
							PRINTFORMW 精液と愛液の匂いがむせ返る部屋で、%CALLNAME:ARG%はまだ物足りない表情で客のペニスを頬張っている……
						ELSEIF RAND:5 == 0
							PRINTFORMW %CALLNAME:ARG%は客に後ろから突かれている……
							PRINTFORMW 嬌声をあげながら柔らかな肢体をくねらせ、%CALLNAME:ARG%の最奥への更なる刺激を甘くねだっている……
						ELSEIF RAND:4 == 0
							PRINTFORMW ペニスで突く度に耳元で発せられる甘い喘ぎ声に、客はのぼせてしまっている……
							PRINTFORMW すっかり%CALLNAME:ARG%のペースに乗せられた客は、限界以上に搾り取られぐったりしている……
						ELSEIF RAND:3 == 0
							PRINTFORMW 客に乱暴に押し倒され欲望を叩きつけられて、%CALLNAME:ARG%は喜びを感じていた……
						ELSEIF RAND:2 == 0
							PRINTFORMW %CALLNAME:ARG%は淫らな笑みを浮かべながら、客の上で腰を振っている……
						ELSE
							PRINTFORMW %CALLNAME:ARG%は膣から精液を垂れ流しながら尻を振り、客のペニスをおねだりしている……
						ENDIF
					ENDIF
				ELSE
					;危険日
					IF 危険日(ARG) == 1
						IF RAND:5 == 0
							PRINTFORML %CALLNAME:ARG%は『危険日だから』とコンドームを着けてもらってから、抱かれた……
							PRINTFORMW しかしコンドームが破れてしまい、危険日の膣内にしっかりと種付けされてしまった……
							PRINTFORML 
							PRINTFORMW その後、%CALLNAME:ARG%は『責任取るから』と囁く客から何度も生中出しされてしまった……
						ELSEIF RAND:4 == 0
							PRINTFORMW %CALLNAME:ARG%は客の強引な誘いを断りきれずに、危険日の身体に膣内射精を許してしまった……
						ELSEIF RAND:3 == 0
							PRINTFORML %CALLNAME:ARG%は危険日であるにも関わらず、ムードに流され夢心地でいるうちに、
							PRINTFORMW 気が付けば足を絡ませながら腰を押し付け、自ら中出しをおねだりしてしまっていた……
						ELSEIF RAND:2 == 0
							PRINTFORML %CALLNAME:ARG%のダメだという言葉を聞き入れずに、客は強引に%CALLNAME:ARG%を押し倒した……
							PRINTFORMW 客に身動きできないよう組み敷かれ、危険日の膣に何度も射精されてしまった……
						ELSE
							PRINTFORML 危険日の膣に何度も精液を流し込まれた%CALLNAME:ARG%は、軽率な自分を悔いていたが、
							PRINTFORMW 浴びせられた熱い精液の感触を思い出すと、女としての充足感もはっきりと感じていた……。
						ENDIF
					;発情
					ELSEIF 危険日(ARG) == 2
							PRINTFORMW %CALLNAME:ARG%は火照る身体を押さえきれず、危ない日だと分かっていながら客にゴム無しセックスを許してしまった……
							PRINTFORMW 火照りを満たす行為の前では『罪悪感』や『妊娠への不安』は%CALLNAME:ARG%には快楽を高める要素の一部でしかない様だ……
					;満月発情
					ELSEIF 危険日(ARG) == 3
						PRINTFORMW %CALLNAME:ARG%は身体の火照りを満たすため客と淫らに交わりあっている……
						PRINTFORMW %CALLNAME:ARG%は射精を終えたペニスを口できれいにしながら次の行為をおねだりしている……
					;通常
					ELSE
						IF RAND:8 == 0
							PRINTFORMW 客は%CALLNAME:ARG%の体を存分に堪能した……
						ELSEIF RAND:7 == 0
							PRINTFORMW 客は%CALLNAME:ARG%のしなやかな肢体を何度も抱いた……
						ELSEIF RAND:6 == 0
							PRINTFORMW 客は%CALLNAME:ARG%の肉体にたっぷりと搾り取られた……
						ELSEIF RAND:5 == 0
							PRINTFORMW %CALLNAME:ARG%は客に何度も抱かれ、全身精液にまみれている……
						ELSEIF RAND:4 == 0
							PRINTFORMW 客は%CALLNAME:ARG%のプライベートな奉仕に満足そうだ……
						ELSEIF RAND:3 == 0
							PRINTFORMW %CALLNAME:ARG%は客に求められるままに体を許し、たっぷり中出しされた……
						ELSEIF RAND:2 == 0
							PRINTFORMW %CALLNAME:ARG%は流されるままに客の精液を受け入れてしまった事に戸惑っている……
						ELSE
							PRINTFORMW %CALLNAME:ARG%は客の子種をたっぷりと種付けされた……	
						ENDIF
					ENDIF
				ENDIF
				RESETCOLOR
			ELSE
				;薬で無理矢理
				;鬼畜な娼館顧客
				LOCAL:4 = -4
				IF TALENT:ARG:ＮＴＲ == 3
					PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に連れられ、マンションへ入っていった……
				ELSE
					PRINTFORMW 薬を飲まされた%CALLNAME:ARG%は朦朧としたまま、マンションに連れ込まれた……
				ENDIF
				IF CFLAG:ARG:現ＮＴＲ進行度 > 10
					IF CFLAG:ARG:108 == 1
						CFLAG:ARG:108 = 0
						PRINTFORML %CALLNAME:ARG%の子宮内避妊結界が解除されてしまった……
					ENDIF
					IF RAND:100 < 30 && CFLAG:ARG:109 == 0
						CFLAG:ARG:109 = 1
						PRINTFORML %CALLNAME:ARG%は排卵誘発剤を飲まされた……
					ENDIF
				ENDIF
				PRINTFORML 
				CALL NTR_PROSTITUTION_SEX, ARG, LOCAL:4

				SETCOLOR COLOR("Dark-pink")
				IF TALENT:ARG:ＮＴＲ == 3
				SETCOLOR 220,51,130
					;危険日
					IF 危険日(ARG) == 1
						IF RAND:6 == 0
							PRINTFORML %CALLNAME:ARG%は自分が『危険日』である事を%NTRNAME(CFLAG:ARG:陥落キャラ)%に報告した……
							PRINTFORMW すると、%CALLNAME:ARG%は足を広げた体勢で椅子に縛りつけられ、アイマスクをした状態で犯された……
							PRINTFORML 
							PRINTFORMW 膣内に生暖かいモノを感じ、中出しされたと知ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%に孕まされるなら仕方ないなと諦観した……
							PRINTFORMW しかし、アイマスクを外されると、目の前には脂ぎったオヤジが息を荒げながら%CALLNAME:ARG%の中で射精をしていた……
							PRINTFORML 
							PRINTFORMW あまりの事に悲鳴を上げながら暴れたが、椅子に縛られた状態では何もできず、そのまま何度も濃厚な子種を種付けされた……
						ELSEIF RAND:5 == 0
							PRINTFORML %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に顔を赤らめながら、今日が危険日である事を伝えた……
							PRINTFORML 危険日にはいつも、%NTRNAME(CFLAG:ARG:陥落キャラ)%が%CALLNAME:ARG%を本気で孕ませるつもりで
							PRINTFORMW 普段よりも激しく強く抱いてくる事を知っていたのだ。
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%の子種を子宮で受け取る事への期待で、股間は既に濡れている……
						ELSEIF RAND:4 == 0
							PRINTFORMW 部屋に連れ込まれた%CALLNAME:ARG%は、潤んだ瞳で危険日である事を報告し、
							PRINTFORMW たくさん中に出してくださいと小さな声でお願いした……
						ELSEIF RAND:3 == 0
							PRINTFORML %CALLNAME:ARG%が危険日だと知った%NTRNAME(CFLAG:ARG:陥落キャラ)%は、いつもよりも激しく乱暴に%CALLNAME:ARG%を犯していた……
							PRINTFORMW 俺の子を孕めと耳元で繰り返されながら、熱い射精を幾度も体内で味わった……
						ELSEIF RAND:2 == 0
							PRINTFORML 部屋につくなり押し倒され、そのまま何時間も責められ続けた%CALLNAME:ARG%は、
							PRINTFORMW 朦朧としながらも%NTRNAME(CFLAG:ARG:陥落キャラ)%の挿入を受け入れ、甘い声をあげている……
							PRINTFORML 玄関で、ベッドで、キッチンで、バスルームで、ベランダで、
							PRINTFORMW 男と女の匂いでむせ返る部屋の中で延々と交わり、求められ続けている……
							PRINTFORML %CALLNAME:ARG%が危険日だと知っていたのであろう。
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は%CALLNAME:ARG%を妊娠させる為の本能的なセックスを、いつまでも続けていた……
						ELSE
							PRINTFORML 首輪を付けただけの%CALLNAME:ARG%から危険日である事を告げられると、
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は手に持ったリードで%CALLNAME:ARG%をビデオカメラの前に連れてきた。
							PRINTFORMW そしてリードを手繰り%CALLNAME:ARG%の耳元に口を添えると、種付けの瞬間を記録すると囁いた……
							PRINTFORMW 妊娠への期待と恥辱への興味で%CALLNAME:ARG%の顔は赤く火照っている……
						ENDIF
					;発情
					ELSEIF 危険日(ARG) == 2
						PRINTFORML %CALLNAME:ARG%は自分が『危険日』である事を%NTRNAME(CFLAG:ARG:陥落キャラ)%に報告した……
						PRINTFORMW すると、%CALLNAME:ARG%は足を広げた体勢で椅子に縛りつけられ、アイマスクをした状態で犯された……
						PRINTFORML 
						PRINTFORMW 膣内に生暖かいモノを感じ、中出しされたと知ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%に孕まされるなら仕方ないなと諦観した……
						PRINTFORMW しかし、アイマスクを外されると、目の前には脂ぎったオヤジが息を荒げながら%CALLNAME:ARG%の中で射精をしていた……
						PRINTFORML 
						PRINTFORMW あまりの事に悲鳴を上げながら暴れたが、椅子に縛られた状態では何もできず、そのまま何度も濃厚な子種を種付けされた……
					;満月発情
					ELSEIF 危険日(ARG) == 3
						PRINTFORML %CALLNAME:ARG%は自分が『危険日』である事を%NTRNAME(CFLAG:ARG:陥落キャラ)%に報告した……
						PRINTFORMW すると、%CALLNAME:ARG%は足を広げた体勢で椅子に縛りつけられ、アイマスクをした状態で犯された……
						PRINTFORML 
						PRINTFORMW 膣内に生暖かいモノを感じ、中出しされたと知ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%に孕まされるなら仕方ないなと諦観した……
						PRINTFORMW しかし、アイマスクを外されると、目の前には脂ぎったオヤジが息を荒げながら%CALLNAME:ARG%の中で射精をしていた……
						PRINTFORML 
						PRINTFORMW あまりの事に悲鳴を上げながら暴れたが、椅子に縛られた状態では何もできず、そのまま何度も濃厚な子種を種付けされた……
					;通常
					ELSE
						IF RAND:18 == 0
							PRINTFORMW 裸になった%CALLNAME:ARG%は背中に回した両腕に手錠を掛けられた。
							PRINTFORMW そして自ら進んで%NTRNAME(CFLAG:ARG:陥落キャラ)%のもとで跪き、身体を摺り寄せながらペニスに舌を這わせ始める。
							PRINTFORMW 肉棒に顔を擦り付けるような愛撫を交えながら、迷いの無いまなざしで愛おしいペニスへの奉仕を続けた……
						ELSEIF RAND:17 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に組み敷かれ乱暴に犯され続けている……
							PRINTFORMW 身体の隅々まで%NTRNAME(CFLAG:ARG:陥落キャラ)%に征服されていく感覚に、%CALLNAME:ARG%は酔っていた……
						ELSEIF RAND:16 == 0
							PRINTFORMW 身体を拘束されたまま%NTRNAME(CFLAG:ARG:陥落キャラ)%から遠慮の無い凌辱を受け、%CALLNAME:ARG%は激しく消耗している……
							PRINTFORMW そこへ%NTRNAME(CFLAG:ARG:陥落キャラ)%は優しい声で今日の%CALLNAME:ARG%の頑張りを褒めながら、丁寧に縄を外していく……
							PRINTFORML 朦朧とした意識の中で、%NTRNAME(CFLAG:ARG:陥落キャラ)%が満足した事、そしてそれに尽くせた事を知った%CALLNAME:ARG%は心から悦び
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%への隷属を更に深いものにしていった……
						ELSEIF RAND:15 == 0
							PRINTFORMW %CALLNAME:ARG%は両手両足を縛られ目隠しをされて、%NTRNAME(CFLAG:ARG:陥落キャラ)%に激しく犯されている……
						ELSEIF RAND:14 == 0
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は縛り上げた%CALLNAME:ARG%を自由に犯し、何度も膣内射精した……
							PRINTFORMW 身体の自由を制限された中での凌辱に、自分が%NTRNAME(CFLAG:ARG:陥落キャラ)%の支配下にいる事を心の底まで刻み付けられる……
						ELSEIF RAND:13 == 0
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%に跨るように命じられると、%CALLNAME:ARG%は嬉しそうに従った……
							PRINTFORMW 顔を蕩けさせ悦楽に包まれながら、腰を妖しく揺らしている……
						ELSEIF RAND:12 == 0
							PRINTFORMW 与えられたナイトドレスを纏った%CALLNAME:ARG%は、%NTRNAME(CFLAG:ARG:陥落キャラ)%に妖しいパーティに連れられていた。
							PRINTFORML 格調の高い調度品の並ぶ洋館で、高そうな身なりの%NTRNAME(CFLAG:ARG:陥落キャラ)%女が穏やかに談笑している……が、
							PRINTFORMW 同時に至る所で男女が淫らに交わっており、その姿が集まったセレブ達を愉しませている。
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%に命じられ、大勢に何度も犯され白濁液に染まる%CALLNAME:ARG%の姿は随分と好評を得たようで、
							PRINTFORMW また是非参加するようにと誘われてしまった……
						ELSEIF RAND:11 == 0
							PRINTFORML 部屋に入ると%CALLNAME:ARG%は自ら服を脱ぎ、%NTRNAME(CFLAG:ARG:陥落キャラ)%にしなやかな裸体を晒す。
							PRINTFORMW そして%NTRNAME(CFLAG:ARG:陥落キャラ)%の足元に跪くと、足先に口付けをして自らの忠誠が変わりないものだと示している……
							PRINTFORML その姿に満足した%NTRNAME(CFLAG:ARG:陥落キャラ)%に、従順の証の首輪をその手で付けてもらう事で
							PRINTFORMW %CALLNAME:ARG%は奴隷として%NTRNAME(CFLAG:ARG:陥落キャラ)%の所有物である事を、やっと認めて貰えるのだ……
							PRINTFORMW 今日も無事に側に仕える事を許された%CALLNAME:ARG%は心から安堵し、どんな命令が下されるのかと胸を高鳴らせている……
						ELSEIF RAND:10 == 0
							PRINTFORML 何度も%NTRNAME(CFLAG:ARG:陥落キャラ)%の欲望を膣内で受け止めた%CALLNAME:ARG%は、ベッドの上で
							PRINTFORMW 先程まで%CALLNAME:ARG%の膣をかき回していたペニスを嘗め回している……
							PRINTFORML 中に残った精液をすすり、汚れを舌で丁寧に舐めとってゆく……
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%から優しく頭を撫でられると、%CALLNAME:ARG%はうつろな瞳で微笑んだ……
						ELSEIF RAND:9 == 0
							PRINTFORMW 裸の%CALLNAME:ARG%は真っ赤な首輪を付けられ、マンションの部屋の壁に繋がれてしまった。
							PRINTFORML 完全に%NTRNAME(CFLAG:ARG:陥落キャラ)%の支配下に置かれる事に%CALLNAME:ARG%は悦びを感じ、
							PRINTFORMW まるでペットのように%NTRNAME(CFLAG:ARG:陥落キャラ)%に縋りついて寵愛を求めている……
						ELSEIF RAND:8 == 0
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%に命じられるまま、%CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に跨り腰を下ろした……
							PRINTFORMW いやらしく腰を振る%CALLNAME:ARG%は、純粋に%NTRNAME(CFLAG:ARG:陥落キャラ)%に喜んで貰う事だけを考えていた。
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%が望むままに奉仕し、%NTRNAME(CFLAG:ARG:陥落キャラ)%の気が済むまで抱かれる事に、疑問を挟む余地はもはや無い。
							PRINTFORMW 今の%CALLNAME:ARG%はただ、%NTRNAME(CFLAG:ARG:陥落キャラ)%にこうして求められる事だけを望んでいた……
						ELSEIF RAND:7 == 0
							PRINTFORMW %CALLNAME:ARG%の身体を知り尽くした%NTRNAME(CFLAG:ARG:陥落キャラ)%は、%CALLNAME:ARG%が失禁するまで何度も絶頂に追い込むと
							PRINTFORMW 絶頂の余韻で陰茎をきゅうきゅう締め付ける膣に、たっぷり射精した……
						ELSEIF RAND:6 == 0
							PRINTFORMW %CALLNAME:ARG%が部屋に入ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%から着替えるようにと紙袋を手渡された……
							PRINTFORML 裸よりも恥ずかしく思えるような、布の殆ど無いビキニ水着に着替えると
							PRINTFORMW カメラを構えた%NTRNAME(CFLAG:ARG:陥落キャラ)%の前で、命じられるままにいやらしいポーズをとった……
						ELSEIF RAND:5 == 0
							PRINTFORMW %CALLNAME:ARG%が部屋に入ると、%NTRNAME(CFLAG:ARG:陥落キャラ)%から着替えるようにと紙袋を手渡された……
							PRINTFORML 受け取った革製のボンテージ衣装は%CALLNAME:ARG%のサイズにぴったりで、
							PRINTFORMW がっちりと拘束用の金具が付いている本格的な奴隷仕様のものだった。
							PRINTFORML 奴隷としてこれからも可愛がって貰える事を形で示された%CALLNAME:ARG%は深く感謝し、
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%への忠誠を更に強いものにしていくのだった……
						ELSEIF RAND:4 == 0
							PRINTFORMW まだ中学生ぐらいの名前も知らない少年のペニスを、%CALLNAME:ARG%は熱を込めてフェラチオしている……
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%に誘惑するよう命じられ、まだ女の身体を知らなそうな少年を裏路地に誘い出したのだった。
							PRINTFORML 少年は初めての刺激に、すぐに口内で射精してしまうが、若いペニスは更に硬さを増している……
							PRINTFORMW %CALLNAME:ARG%は少年の耳元で好きにして良いと伝えると、下着をずらして壁に両手を手をつき尻をいやらしく突きだした……
							PRINTFORML 耐性の全く無い少年は誘われるがままに腰を突き出し、未熟ながらも夢中で腰を振っている……
							PRINTFORMW 加減もテクニックも無くただ乱暴に叩きつけるセックスを、%CALLNAME:ARG%は最後まで受け入れた……
							PRINTFORML 
							PRINTFORML 体中が若い精液だらけになった後、%CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%が近くのビルの窓から見ていたのに気付いた。
							PRINTFORMW ……どうやら満足してもらえたようだ。
							PRINTFORMW 甘美なご褒美を期待して、%NTRNAME(CFLAG:ARG:陥落キャラ)%のマンションに戻っていった……。
						ELSEIF RAND:3 == 0
							PRINTFORML 首に赤い首輪だけを身に付けて、%CALLNAME:ARG%はいつものように%NTRNAME(CFLAG:ARG:陥落キャラ)%に乱暴に犯されている……。
							PRINTFORMW ベッドに突っ伏したまま腰だけを抱えられて、後ろから激しく突かれていた……
							PRINTFORML %NTRNAME(CFLAG:ARG:陥落キャラ)%が首輪に繋がったリードで強引に%CALLNAME:ARG%を手繰り寄せると、仰け反る%CALLNAME:ARG%を抱き寄せ、
							PRINTFORMW 今度は胸を力強く愛撫しながら更にピストンを繰り返す……
							PRINTFORML 背中に当たる%NTRNAME(CFLAG:ARG:陥落キャラ)%の吐息が荒くなったのを感じた%CALLNAME:ARG%は、もう射精が近いのを感じていた……
							PRINTFORML がっちりと抱き寄せられ一段と激しく突かれた瞬間、%CALLNAME:ARG%は膣奥で熱い精液を受け止めた……
							PRINTFORMW 
							PRINTFORML しばらくの間、%NTRNAME(CFLAG:ARG:陥落キャラ)%は%CALLNAME:ARG%の柔らかい肌を撫でながら射精の余韻に浸っていたが、
							PRINTFORMW %NTRNAME(CFLAG:ARG:陥落キャラ)%は%CALLNAME:ARG%を見つめてリードを握り直し、二度軽く引いた。奉仕しろ、の合図だ……
							PRINTFORMW %CALLNAME:ARG%は口淫をしながら、首輪で%NTRNAME(CFLAG:ARG:陥落キャラ)%と繋がっている事に安らぎを覚えていた……
						ELSEIF RAND:2 == 0
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%の仲間達に輪姦されている……
							CFLAG:ARG:レイプフラグ = 1
						ELSE
							PRINTFORMW %CALLNAME:ARG%は%NTRNAME(CFLAG:ARG:陥落キャラ)%に乱暴に犯され、何度も種付けされた……
						ENDIF
					ENDIF
				ELSE
				SETCOLOR 204,51,255
					;危険日
					IF 危険日(ARG) == 1
						PRINTFORMW 男は必死に抵抗する%CALLNAME:ARG%の様子から『危険日』だと察すると、子宮口にペニスをゴリゴリと押し付けながら射精した……
						PRINTFORMW 狼狽する%CALLNAME:ARG%を尻目に、男は精液でぐちゃぐちゃになった膣内を再び突き上げ始める……
						PRINTFORML 
						PRINTFORMW 泣きながら許しを請う%CALLNAME:ARG%を眺めながら、男は何度も何度も膣内射精を繰り返した……
					;発情
					ELSEIF 危険日(ARG) == 2
						PRINTFORMW 男は必死に抵抗する%CALLNAME:ARG%の様子から『危険日』だと察すると、子宮口にペニスをゴリゴリと押し付けながら射精した……
						PRINTFORMW 狼狽する%CALLNAME:ARG%を尻目に、男は精液でぐちゃぐちゃになった膣内を再び突き上げ始める……
						PRINTFORML 
						PRINTFORMW 泣きながら許しを請う%CALLNAME:ARG%を眺めながら、男は何度も何度も膣内射精を繰り返した……
					;満月発情
					ELSEIF 危険日(ARG) == 3
						PRINTFORMW 男は必死に抵抗する%CALLNAME:ARG%の様子から『危険日』だと察すると、子宮口にペニスをゴリゴリと押し付けながら射精した……
						PRINTFORMW 狼狽する%CALLNAME:ARG%を尻目に、男は精液でぐちゃぐちゃになった膣内を再び突き上げ始める……
						PRINTFORML 
						PRINTFORMW 泣きながら許しを請う%CALLNAME:ARG%を眺めながら、男は何度も何度も膣内射精を繰り返した……
					;通常
					ELSE
						IF RAND:13 == 0
							PRINTFORML %CALLNAME:ARG%は喉奥までペニスを突き入れられ、強引に腰を使われている……
							PRINTFORMW 男はそのまま射精すると、咽込んでいる%CALLNAME:ARG%を押し倒した……
							PRINTFORML 
							PRINTFORMW そして、そのまま強引に挿入し、許しを請う%CALLNAME:ARG%の膣内に何度も白濁を吐き出した……
						ELSEIF RAND:12 == 0
							PRINTFORMW 裸に剥かれて縛られた%CALLNAME:ARG%は、目の前の荒っぽい男に乱暴に胸を弄られている……
							PRINTFORMW 涙声でこれ以上はやめて欲しいと懇願する%CALLNAME:ARG%を無視して、男は強引に挿入を開始した……
							PRINTFORMW 激しい腰使いで凌辱された%CALLNAME:ARG%は、男の生臭い精液をたっぷりと膣内で受け止めている……
						ELSEIF RAND:11 == 0
							PRINTFORMW 男は%CALLNAME:ARG%の体を後ろ手で縛りあげると、そそり立ったペニスを口元に近づけた……
							PRINTFORMW 薬品のせいで力の入らない%CALLNAME:ARG%の口をこじ開けると、ペニスをねじ込み頭を掴んで無理矢理腰を振る……
							PRINTFORML 
							PRINTFORMW 男は%CALLNAME:ARG%の喉の奥に熱い精液を浴びせながら、この後%CALLNAME:ARG%でどう楽しむか考えていた……
						ELSEIF RAND:10 == 0
							PRINTFORMW 男は%CALLNAME:ARG%を部屋に連れ込むと、既に硬く勃起していたペニスに唾を付けると、乾いた膣に突き入れた……
							PRINTFORMW 苦痛に%CALLNAME:ARG%は呻き声をあげるが、男はそれに気にも留めず、力任せの行為はむしろ加速しているようだ……
							PRINTFORML 
							PRINTFORMW 立て続けに何度も中に出された%CALLNAME:ARG%は、精液が溢れ赤く腫れた陰部を剥き出しにしたまま涙を浮かべている……
						ELSEIF RAND:9 == 0
							PRINTFORMW 男は%CALLNAME:ARG%を全裸にして縛り上げると、ビデオで撮影を始めた……
							PRINTFORMW 止める様に必死で懇願する%CALLNAME:ARG%は、男の嗜虐心を煽っているのに気がつかない……
							PRINTFORML 
							PRINTFORMW ……%CALLNAME:ARG%の膣からどろりと精液が溢れるシーンを撮り終え、ようやく撮影は終了した……
						ELSEIF RAND:8 == 0
							PRINTFORMW 筋肉質の若い男は%CALLNAME:ARG%を軽々と抱えあげるとベッドに放り投げ、その上にがっしりと覆い被さる……
							PRINTFORMW 暴れて抵抗する%CALLNAME:ARG%を涼しい顔で押さえつけ、勃起した太い陰茎を%CALLNAME:ARG%の秘所にゆっくり挿入していく……
							PRINTFORML 
							PRINTFORMW 底なしの体力を持つ男に抵抗する体力も尽き、そのまま何度も膣内に精液を流し込まれた……
						ELSEIF RAND:7 == 0
							PRINTFORMW %CALLNAME:ARG%は無理矢理押さえ付けられ、背後から一番奥まで突かれていた……
							PRINTFORMW %CALLNAME:ARG%の拒絶と嫌悪の気持ちとは裏腹に、硬いペニスで子宮口を刺激され続け、体が反応してしまっている……
							PRINTFORML 
							PRINTFORMW 何度も強引にイかせられた%CALLNAME:ARG%は本気汁を垂れ流し、男の気の済むまで種付けを許してしまった……
						ELSEIF RAND:6 == 0
							PRINTFORMW 薬でふらつく%CALLNAME:ARG%を男は手際良く縛り、ローターとEマッサージャとアナルバイブを取り出した……
							PRINTFORMW 男は三種の神器と高い技巧で%CALLNAME:ARG%をふにゃふにゃにして反発を取り除いた後、たっぷり種付けをした……
						ELSEIF RAND:5 == 0
							PRINTFORMW 男は%CALLNAME:ARG%をベットに放ると、部屋にいた太った中年男から金を受け取り、部屋を出て行った……
							PRINTFORMW 太った中年男は%CALLNAME:ARG%の下着をずり下ろし、唾を秘唇に塗りつけるとイチモツを突き入れた……
							PRINTFORML 
							PRINTFORMW %CALLNAME:ARG%はろくに抵抗する事もできずに、中年男の濃厚な子種を何度も流し込まれた……
						ELSEIF RAND:4 == 0
							PRINTFORMW %CALLNAME:ARG%は抵抗空しく、男の欲望の塊を膣奥に何度も放たれてしまった…… 
						ELSEIF RAND:3 == 0
							PRINTFORML %CALLNAME:ARG%は両脚を大きく開いた体勢でベットのヘッドボードにロープで固定されている……
							PRINTFORMW すると、男は露になった女淫にイチモツを突き立てると荒々しく腰を振りだした……
							PRINTFORML 
							PRINTFORMW そして、涙を流す%CALLNAME:ARG%の髪を掴んで結合部を見せ付けながら、膣内射精した……
						ELSEIF RAND:2 == 0
							PRINTFORMW 男は朦朧とした%CALLNAME:ARG%に覆い被さり、腰を振っている……
							PRINTFORMW %CALLNAME:ARG%は混濁した意識の中で%CALLNAME:MASTER%の名を呟きながら、精液を流し込まれている……
						ELSE
							PRINTFORMW %CALLNAME:ARG%は部屋に入ってきたチンピラ達に輪姦された……
							PRINTFORMW 動けない%CALLNAME:ARG%の肢体をチンピラ達の肉棒が容赦無く蹂躙している……
							CFLAG:ARG:レイプフラグ = 1
						ENDIF
					ENDIF
				ENDIF
				RESETCOLOR
			ENDIF
			;試験用
			;レベルアップ判定
			PRINTFORML 
			CALL CHECK_LEVEL_UP,ARG
		ELSE
			PRINTFORMW %CALLNAME:ARG%は客と食事をしてきたようだ……
			;放置日数によって変化
			PRINTL 
			IF 陥落(ARG) * 50 - LOCAL:2 > 80
				PRINTFORMW %CALLNAME:ARG%は早めに切り上げたようだ
			ELSEIF 陥落(ARG) * 50 - LOCAL:2 > 60
				PRINTFORMW %CALLNAME:ARG%は食事を愉しんできたようだ
				CFLAG:ARG:放置日数 += 1 + RAND:3
			ELSEIF 陥落(ARG) * 50 - LOCAL:2 <= 60
				PRINTFORMW %CALLNAME:ARG%は次に会う約束をしてきたようだ…
				CFLAG:ARG:放置日数 += 1 + RAND:3
			ENDIF
		ENDIF
	ENDIF
ENDIF
;==========================================================
;@NTR_PROSTITUTION_SEX
; ＮＴＲセックス計算
;<引数>
;	ARG   = ＮＴＲキャラの登録番号
;	ARG:1 = NTR客の判別
;<使用変数>
;	LOCAL:1 = 相手の射精回数
;	LOCAL:2 = 相手の性交回数
;	LOCAL:3 = 好感度
;	LOCAL:4 = 淫乱度
;	LOCAL:5 = 好感度減少処理用
;==========================================================
@NTR_PROSTITUTION_SEX, ARG, ARG:1
#LOCALSIZE 6

;LOCAL配列初期化
VARSET LOCAL,0
CFLAG:ARG:フェラ回数 = 0
CFLAG:ARG:本番回数 = 0
CFLAG:ARG:アナル回数 = 0
CFLAG:ARG:中出し回数 = 0
CFLAG:ARG:手コキ回数 = 0
;優しい娼館顧客）
IF ARG:1 == -4
	CFLAG:ARG:中出し回数 = 1
	CFLAG:ARG:本番回数 = 1
	LOCAL:1 = 3 + RAND:5
	LOCAL:2 = LOCAL:1 + RAND:(LOCAL:1)
	TCVAR:ARG:獲得キス経験 = 3
	TCVAR:ARG:獲得浮気経験 = 1

;鬼畜な娼館顧客
ELSEIF ARG:1 == -5
	CFLAG:ARG:中出し回数 = 2
	CFLAG:ARG:本番回数 = 2
	LOCAL:1 = 6 + RAND:10
	LOCAL:2 = LOCAL:1 + RAND:(LOCAL:1)
	TCVAR:ARG:獲得輪姦経験 = 1
ENDIF


FOR COUNT , 0 , LOCAL:2
	IF RAND:100 < 60
		IF HAVE_PENIS(ARG) && HAVE_VAGINA(ARG)
			CFLAG:ARG:本番回数 += 1
			CFLAG:ARG:手コキ回数 += 1
		ELSEIF HAVE_PENIS(ARG)
			CFLAG:ARG:アナル回数 += 1
			CFLAG:ARG:手コキ回数 += 1
		ELSE
			CFLAG:ARG:本番回数 += 1
		ENDIF
	ELSEIF RAND:100 < 50
		IF HAVE_PENIS(ARG)
			CFLAG:ARG:手コキ回数 += 1
		ELSE
			CFLAG:ARG:フェラ回数 += 1
		ENDIF
	ELSE
		IF HAVE_PENIS(ARG) && HAVE_VAGINA(ARG)
			CFLAG:ARG:アナル回数 += 1
			CFLAG:ARG:手コキ回数 += 1
		ELSEIF HAVE_PENIS(ARG)
			CFLAG:ARG:アナル回数 += 1
			CFLAG:ARG:手コキ回数 += 1
		ELSE
			CFLAG:ARG:アナル回数 += 1
		ENDIF
	ENDIF
	;KissEXP処理：適当にランダムで
	SIF RAND:2 == 0
		TCVAR:ARG:獲得キス経験 += 1
	
NEXT
CFLAG:ARG:中出し回数 +=LIMIT(RAND:(1+CFLAG:ARG:本番回数) , 0, LOCAL:1)

;獲得経験
TCVAR:ARG:獲得フェラ経験 = CFLAG:ARG:フェラ回数
TCVAR:ARG:獲得奉仕快楽経験 = CFLAG:ARG:フェラ回数
TCVAR:ARG:獲得Ｖ経験 = CFLAG:ARG:本番回数
TCVAR:ARG:獲得Ａ経験 = CFLAG:ARG:アナル回数
TCVAR:ARG:獲得性交経験 = CFLAG:ARG:本番回数 + CFLAG:ARG:アナル回数
TCVAR:ARG:獲得膣射経験 = CFLAG:ARG:中出し回数
TCVAR:ARG:獲得精液経験 = LOCAL:1
SIF CFLAG:ARG:手コキ回数 > 0
	TCVAR:ARG:獲得射精経験 = RAND:(CFLAG:ARG:手コキ回数)
SIF TCVAR:ARG:獲得性交経験 + TCVAR:ARG:獲得射精経験 > 0
	TCVAR:ARG:獲得絶頂経験 = RAND:(TCVAR:ARG:獲得性交経験 + TCVAR:ARG:獲得射精経験)

;処女喪失処理
IF TALENT:ARG:処女
	CALL ADDS_ABNORMAL_EXP, "Lost virginity（Gang rape）", ARG
	SETCOLOR COLOR("red")
	IF ARG:1 == -5
		PRINTFORML 【＋２】   Lost virginity（Gang rape）
	ELSE
		PRINTFORML 【＋２】   処女喪失(ＮＴＲ)
	ENDIF
	RESETCOLOR
	TALENT:ARG:処女 = 0
ELSEIF TALENT:ARG:再生処女
	PRINTFORML Restored Virginity Lost
	TALENT:ARG:再生処女 = 0
ENDIF

LOCAL:3 = TCVAR:ARG:獲得精液経験 * 5 + (TCVAR:ARG:獲得絶頂経験 + TCVAR:ARG:獲得膣射経験) * 10 + CFLAG:ARG:放置日数
LOCAL:4 = CFLAG:ARG:本番回数 + CFLAG:ARG:アナル回数 + TCVAR:ARG:獲得絶頂経験 * 10
LOCAL:5 = CFLAG:ARG:中出し回数 * 5 + TCVAR:ARG:獲得絶頂経験 * 7

;ＮＴＲ客の設定処理
SELECTCASE FLAG:ＮＴＲ客の設定
	CASE  0
		TIMES LOCAL:3 , 1.00
		TIMES LOCAL:4 , 1.00
		TIMES LOCAL:5 , 1.00
	CASE  1
		TIMES LOCAL:3 , 2.00
		TIMES LOCAL:4 , 2.00
		TIMES LOCAL:5 , 2.00
	CASE  2
		TIMES LOCAL:3 , 5.00
		TIMES LOCAL:4 , 5.00
		TIMES LOCAL:5 , 5.00
ENDSELECT




;好感度
IF ARG:1 == -4
	CFLAG:ARG:(2096) += LOCAL:3
ELSEIF ARG:1 == -5
	CFLAG:ARG:(2095) -= LOCAL:3
ENDIF

;淫乱度上昇
;浮気癖がある場合は淫乱度倍化
IF TALENT:ARG:浮気癖
	CFLAG:ARG:淫乱度 += LOCAL:4*2
ELSE
	CFLAG:ARG:淫乱度 += LOCAL:4
ENDIF

;好感度減少処理
CALL NTR_SHOOT , ARG , ARG:1 , LOCAL:5

CALL SHOW_ADD_EXP, ARG


;妊娠用
SIF CFLAG:ARG:"Contraceptive barrier" == 0
	CFLAG:ARG:顧客の中出氏による妊娠判定 = TCVAR:ARG:獲得膣射経験*2


