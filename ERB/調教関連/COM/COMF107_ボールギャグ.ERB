;-------------------------------------------------
;ボールギャグ
;SM系コマンド、レベル2
;-------------------------------------------------
@COMNAME107
RESULTS = Ball gag
SIF TEQUIP:20
	RESULTS = Remove Ball gag
@ACT_COM107
PRINTL Ball gag
TSTR:0 = ボールギャグ
;CALL KOJO_MESSAGE_COM

;着脱の処理
IF TEQUIP:20 == 0
	TEQUIP:20 = 1
ELSE
	TEQUIP:20 = 0
ENDIF

;調教者→調教対象
TFLAG:28 = 2
;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、Willpower
DOWNBASE:TARGET:体力 += 0
DOWNBASE:TARGET:気力 += 50

SOURCE:TARGET:恐れ = 500
SOURCE:TARGET:露出 = 200
SOURCE:TARGET:屈従 = 150
SOURCE:TARGET:逸脱 = 100
SOURCE:TARGET:反感 = 300

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;BondageEXPが高いと消費減少
IF EXP:51 < EXPLV:3
	TIMES DOWNBASE:TARGET:体力 , 1.00
	TIMES DOWNBASE:TARGET:気力 , 1.00
ELSEIF EXP:51 < EXPLV:4
	TIMES DOWNBASE:TARGET:体力 , 0.90
	TIMES DOWNBASE:TARGET:気力 , 0.90
ELSE
	TIMES DOWNBASE:TARGET:体力 , 0.70
	TIMES DOWNBASE:TARGET:気力 , 0.70
ENDIF

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
CALL ADDS_EXP("緊縛経験", 2, TARGET)
;PRINTL BondageEXP＋２

;依存度ベクトル
TFLAG:33 = 3

;依存度補正値(服従で1、隷属で2）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1

;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM107
PRINTL ＜Ball-gag equipped＞
;ボールギャグ装備中

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、Willpower
DOWNBASE:TARGET:体力 += 0

SOURCE:TARGET:恐れ += 250
SOURCE:TARGET:露出 += 150
SOURCE:TARGET:屈従 += 75
SOURCE:TARGET:逸脱 += 50
SOURCE:TARGET:反感 += 150

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;BondageEXPが高いと消費減少
A = 25
IF EXP:51 < EXPLV:3
	TIMES A , 1.00
ELSEIF EXP:51 < EXPLV:4
	TIMES A , 0.90
ELSE
	TIMES A , 0.70
ENDIF
DOWNBASE:TARGET:気力 += A

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
CALL ADDS_EXP("緊縛経験", 1, TARGET)
;PRINTL BondageEXP＋１

RETURN 1

;===================================================
;調教タイプ
;===================================================
@COMTYPE_107
RETURN COMTYPE("ＳＭ系")


