;===============================
;ＣＯＭＰを使用可能な人数
;===============================
@NUM_SUMMONER(ARG = 3)
#FUNCTION
;サマナーLvがARG以上の人数を返す
SIF FLAG:COMP使用不能
	RETURNF 0
LOCAL:1 = 0
FOR LOCAL,1,7
	LOCALS = ポジション{LOCAL}
;	IF FLAG:LOCALS > -1 && TALENT:(FLAG:LOCALS):サマナー && (ARG == 1 || TALENT:(FLAG:LOCALS):異能者 == 0)
	IF FLAG:LOCALS > -1 && TALENT:(FLAG:LOCALS):サマナー >= ARG
		SELECTCASE GET_STATE(CFLAG:(FLAG:LOCALS):ステート)
			CASE "DYING","STONE","FLY","PALYZE","BIND","CHARM","SLEEP","PANIC"
				CONTINUE
			CASEELSE
				LOCAL:1 += 1
		ENDSELECT
	ENDIF
NEXT
RETURNF LOCAL:1