
;-------------------------------------------------
;	同一のイベント番号や依頼番号中で進行した際
;   MENU画面で次のタイトルが出る様、
;   それぞれの登録フラグをリセットする
;	それぞれのフラグがONの場合、クリアしてOFFに変更
;-------------------------------------------------
;ダンジョン出現のフラグをリセット
;ARG＝番号、ARG:1＝0：ダンジョン、1：闘技場、2：イベント、3：依頼
@FLAG_RESET,ARG,ARG:1
#DIM DYNAMIC C_NO
#DIM DYNAMIC B_NO
B_NO = ARG
C_NO = ARG:1
IF C_NO == 0
	IF B_NO <= 63
		SIF GETBIT(FLAG:ダンジョン出現1,B_NO)
			CLEARBIT  FLAG:ダンジョン出現1,B_NO
	ELSE
		SIF GETBIT(FLAG:ダンジョン出現2,B_NO - 64)
			CLEARBIT  FLAG:ダンジョン出現2,B_NO - 64
	ENDIF
;-------------------------------------------------
;闘技場出現のフラグをリセット

ELSEIF C_NO == 1
	IF B_NO <= 63
		SIF GETBIT(FLAG:闘技場出現1,B_NO)
			CLEARBIT  FLAG:闘技場出現1,B_NO
	ELSE
		SIF GETBIT(FLAG:闘技場出現2,B_NO - 64)
			CLEARBIT  FLAG:闘技場出現2,B_NO - 64
	ENDIF


;-------------------------------------------------
;イベント出現のフラグをリセット
ELSEIF C_NO == 2
	IF B_NO <= 63
		SIF GETBIT(FLAG:イベント出現1,B_NO)
			CLEARBIT FLAG:イベント出現1, B_NO
	ELSE
		SIF GETBIT(FLAG:イベント出現2,B_NO - 64)
			CLEARBIT FLAG:イベント出現2, B_NO - 64
	ENDIF

;-------------------------------------------------

;依頼出現のフラグをリセット
ELSEIF C_NO == 3
	IF B_NO <= 63
		SIF GETBIT(FLAG:依頼出現1,B_NO)
			CLEARBIT  FLAG:依頼出現1,B_NO
	ELSE
		SIF GETBIT(FLAG:依頼出現2,B_NO - 64)
			CLEARBIT  FLAG:依頼出現2,B_NO - 64
	ENDIF
ENDIF
