;-------------------------------
;ゲスト削除関数
;ゲストに持たせていた装備を回収し、ゲストのもっていた装備をボッシュートする
;ARG: キャラ番号
;ARGS: CSV以外に装備を持っていた場合、ここで設定
;-------------------------------
@DEL_GUEST, ARG, ARGS, ARGS:1, ARGS:2, ARGS:3, ARGS:4, ARGS:5, ARGS:6, ARGS:7
#LOCALSIZE 3
FOR LOCAL, 0, 8
	IF EQUIP:ARG:GET_EQUIP(LOCAL) > 0
		ITEM:(EQUIP:ARG:GET_EQUIP(LOCAL)) += 1
		EQUIP:ARG:GET_EQUIP(LOCAL) = 0
	ENDIF
NEXT
FOR LOCAL, 0, 8
	LOCAL:2 = ARGS:LOCAL == "" ? CSVEQUIP(NO:ARG, GETNUM(EQUIP, GET_EQUIP(LOCAL)), 0) # GETNUM(ITEM, ARGS:LOCAL)
	SIF !LOCAL:2
		CONTINUE
	IF ITEM:(LOCAL:2) > 0
		ITEM:(LOCAL:2) = MAX(ITEM:(LOCAL:2) - 1, 0)
	ELSE
		FOR LOCAL:1, 0, CHARANUM
			IF EQUIP:(LOCAL:1):GET_EQUIP(LOCAL) == LOCAL:2
				EQUIP:(LOCAL:1):GET_EQUIP(LOCAL) = 0
				BREAK
			ENDIF
		NEXT
	ENDIF
NEXT
CALL キャラ削除, ARG
