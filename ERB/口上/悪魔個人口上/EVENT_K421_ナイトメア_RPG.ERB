@BATTLE_MESSAGE_K421, ARG,ARG:1 = 0
LOCAL:1 = 1
LOCAL = CFLAG:ARG:入力行動
LOCALS = いくですよぉ！

;崩壊してる場合は口上表示しない
SIF TALENT:ARG:9
	RETURN 0


CALLFORM SKILL_EFECT_{LOCAL}
IF RESULT == 1 && RAND:3 == 0
	CALLFORM SKILL_TYPE_{CFLAG:ARG:入力行動}
	SELECTCASE RESULT
		;剣撃
		CASE 0
			IF RAND:2
				LOCALS = てりゃぁ！
			ELSE
				LOCALS = ぶったぎってやるですよぉ！
			ENDIF
		;飛具
		CASE 1
			IF RAND:2
				LOCALS = そーれ！穴あきチーズになっちゃうですよぉ！
			ELSE
				LOCALS = アハハ！あったれー！
			ENDIF
		;打撃
		CASE 2
			IF RAND:2
				LOCALS = おぅりゃ！
			ELSE
				LOCALS = くらうがいいですよぉ！！
			ENDIF
		;戦技
		CASE 3
			IF RAND:2
				LOCALS = ちょうのようにまい、はちのように刺し、そしてわたしはあくむなのですよぉ！
			ELSE
				LOCALS = えーと、りりかるとかれふ…えぇい！面倒ですぅ！！
			ENDIF
		;火炎
		CASE 4
			IF RAND:2
				LOCALS = 燃えるがいいですよぉ！
			ELSE
				LOCALS = アハハ！燃えちゃえ！！
			ENDIF
		;氷結
		CASE 5
			IF RAND:2
				LOCALS = キンッキンに冷やしてあげるですぅ！
			ELSE
				LOCALS = 凍りつくのがご趣味ですぅ？
			ENDIF
		;電撃
		CASE 6
			IF RAND:2
				LOCALS = 電撃で、ビリッビリにしてやるですぅ！！
			ELSE
				LOCALS = えーと、ゆるさないっちゃよー！
			ENDIF
		;衝撃
		CASE 7
			IF RAND:2
				LOCALS = ふきとんじゃえぇ！
			ELSE
				LOCALS = 逃げ惑うがいいですよぉ
			ENDIF
		;神経
		CASE 8	
			IF RAND:2
				LOCALS = 本領発揮ですよぉ
			ELSE
				LOCALS = どうですぅ？きくでしょう
			ENDIF
		;精神
		CASE 9
			IF RAND:2
				LOCALS = 脆いですねぇ…
			ELSE
				LOCALS = 『ナイトメア』にとってこれほど扱いやすいものはないですよぉ
			ENDIF
		;破魔
		CASE 10
			IF RAND:2
				LOCALS = え、えーとさんたまりあーうらうらのーべす…？
			ELSE
				LOCALS = お空へ登っちゃうがいいですよぉ！
			ENDIF
		;呪殺
		CASE 11
			LOCALS = さぁ、『ーーーーーー』ですよぉ
		;地変
		CASE 12
			LOCALS = 砂のお城に埋めてやりますぅ！
		;水撃
		CASE 13
			IF RAND:2
				LOCALS = おひやはいかがですぅ？
			ELSE
				LOCALS = え、えーと…ヴぃっヴぃあぁああん！！…ってなんですぅ？
			ENDIF
		;疾風
		CASE 14
				LOCALS = はじけとんじゃえ！！
		;重力
		CASE 15
			IF RAND:2
				LOCALS = え、えーと…残念ですが、これでお別れですぅ
			ELSE
				LOCALS = おっこちちゃえ！
			ENDIF
		;核熱
		CASE 16
				LOCALS = 溶けちゃうといいですよぉ
		;万能
		CASE 17
			LOCALS = すべてに等しく…はじけとべぇえええ！
		;サイコ
		;CASE 18
		CASEELSE
			LOCALS = 精神をいじるっていうのは、こうするんですよぉ！
	ENDSELECT
;回復
ELSEIF RESULT == 2
	IF CFLAG:ARG:ターゲット > 6
		IF RAND:2
			LOCALS = か、回復するですよぉ
		ELSE
			LOCALS = 少しは楽になりましたかぁ？
		ENDIF
	ELSE
		IF FLAG:(CFLAG:ARG:ターゲット) == 0 && 陥落(ARG)
			IF RAND:2
				LOCALS = だめ、だめですよぉ！ほら、大丈夫ですかぁ？
			ELSE
				LOCALS = も、もぉ！しんぱいさせないでくださぃ！
			ENDIF
		ELSE
			IF RAND:2
				LOCALS = ちゃ、ちゃんとたたかってください！！
			ELSE
				LOCALS = 立て直しですぅ！ほら、しゃんとするですよぉ！
			ENDIF
		ENDIF
	ENDIF
;状態変化
;ELSEIF RESULT == 3
;特殊
;ELSEIF RESULT == 4
;状態回復
ELSEIF RESULT == 5
	LOCALS = ほら、しっかりするですよぉ
ENDIF

;デクンダ
IF LOCAL == 505
	LOCALS = もう一回、仕切りなおしですぅ
;スクンダ
ELSEIF LOCAL == 507
	LOCALS = あれれぇ？随分とおそくなりましたねぇ
;デカジャ
ELSEIF LOCAL == 509
	LOCALS = 仕切りなおしですよぉ
;気合
ELSEIF LOCAL == 511
	LOCALS = いっきますよぉお！
;コンセントレイト
ELSEIF LOCAL == 512
	LOCALS = しゅーちゅー…するですよぉ
;雄たけび
ELSEIF LOCAL == 514
	LOCALS = う、うぅぉぉおおおおおおん！！
;挑発
ELSEIF LOCAL == 515
	LOCALS = おしーりぺーんーぺーん！…ちょっとはずかしいですぅ…

;食いしばり
ELSEIF LOCAL == 2406
	LOCALS = 舐めないでくださいよぉ…
;不屈の闘志
ELSEIF LOCAL == 2407
	LOCALS = この程度では、まけないですよぉお！

ENDIF

SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)

@BATTLE_EVENT_K421, ARG, ARG:1, ARG:2
SIF ARG < 0 && NO:ARG != 4518
	RETURN 0
LOCAL:1 = 1
LOCALS = EMPTY
SELECTCASE TFLAG:戦闘イベント
	;COOP発動 ARGは発動者
	CASE 1
		IF RAND:3 == 0
			LOCALS = さて、一気にいくですよぉ
		ELSEIF !RAND:2
			LOCALS = いまこそとっつげきぃいい！
		ELSE
			LOCALS = ふふっ…ちょろ甘ですぅ！
		ENDIF
	CASE 2
		IF RAND:3 == 0
			LOCALS = 重ねるですよぉ！いっしょにやっつけちゃいましょう！
		ELSEIF !RAND:2
			LOCALS = ここですぅ！！
		ELSE
			LOCALS = とっっつげきぃいいいい！！
		ENDIF
	;攻撃　ARGが攻撃をする仲魔、ARG:1が敵、ARG:2がダメージ量
	CASE 11
		CALLFORM SKILL_TYPE_{CFLAG:ARG:入力行動}
		LOCAL = MAXBASE:(ARG:1):GET_TYPE(RESULT)
		;相手が死んだ
		IF BASE:(ARG:1):ＨＰ <= 0
			IF 陥落(ARG) && RAND:2
				LOCALS = おじゃま虫は、サヨナラですよぉ
			ELSE
				IF RAND:2
					LOCALS = サヨナラですぅ！
				ELSE
					LOCALS = 悪夢に殺される気分はいかがですかぁ？
				ENDIF
			ENDIF
		;弱点をついた。つまりCOOP
		ELSEIF LOCAL > 100 && LOCAL < 999
			IF CFLAG:(ARG:1):防御フラグ
				LOCALS = か、かったい…
			ELSE
				;こっちはCOOP発動に回すためにカット
				RETURN 0
			ENDIF
		;大ダメージ
		ELSEIF ダメージ割合(ARG:1, ARG:2) > 50
			IF RAND:2
				LOCALS = さぁあとどれだけ耐えられますかぁ…？
			ELSE
				LOCALS = どうしましたぁ？ボロボロですよぉ？
			ENDIF
		ELSEIF ダメージ割合(ARG:1, ARG:2) > 20
			IF RAND:2
				LOCALS = ほら、ほらまだまだ続けますよぉ
			ELSE
				LOCALS = まだまだいくですよぉ！
			ENDIF
		ELSEIF ダメージ割合(ARG:1, ARG:2) > 0
			IF RAND:2
				LOCALS = そーれ、もういっちょいくですよぉ！
			ELSE
				LOCALS = まだまだたりないですかぁ？
			ENDIF
		;無効化された
		ELSEIF ARG:2 == 0
			IF 陥落(ARG) && RAND:2
				LOCALS = き、きかない…！？
			ELSE
				LOCALS = な、なんできかないですかぁ！？
			ENDIF
		;吸収された
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = あれ、す、すいとった…？
			ELSE
				LOCALS = うわわわ！すいとられちゃったぁ！？
			ENDIF
		ENDIF
	;被ダメージ
	;ARGが攻撃を受ける仲魔、ARG:1が敵、ARG:2がダメージ量
	CASE 12
		;死んだ
		IF BASE:ARG:ＨＰ <= 0
			IF 陥落(ARG) && RAND:2
				LOCALS = ごめん…なさい…
			ELSE
				IF RAND:2
					LOCALS = な…に…？
				ELSE
					LOCALS = あぅ…
				ENDIF
			ENDIF
		;大ダメージ
		ELSEIF ダメージ割合(ARG, ARG:2) > 50 || 現HP割合(ARG) < 25
			IF 陥落(ARG) && RAND:2
				LOCALS = 『ナイトメア』を、舐めるなぁあああ！
			ELSE
				IF RAND:2
					LOCALS = ぎひぃっ…！ま、まけませんよぉ！
				ELSE
					LOCALS = うぐぅ…！ま、まけません…！
				ENDIF
			ENDIF
		ELSEIF ダメージ割合(ARG, ARG:2) > 20
			IF RAND:2
				LOCALS = ま、まだまだぁ！
			ELSE
				LOCALS = そ、そんなに痛く…ぐすっ
			ENDIF
		ELSEIF ダメージ割合(ARG, ARG:2) > 0
			IF RAND:2
				LOCALS = ききませんよぉ！…ちょっとひりひりするですぅ
			ELSE
				LOCALS = あたっ…ちょ、ちょっと痛いですねぇ
			ENDIF
		;無効
		ELSEIF ARG:2 == 0
			IF RAND:2
				LOCALS = 今何かしましたかぁ？
			ELSE
				LOCALS = ばぁーりあぁーへいきですもーん！
			ENDIF
		;吸収
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = あら、ありがとうですよぉ
			ELSE
				LOCALS = おやおやぁ？ちょっと元気になっちゃいましたよぉ？
			ENDIF
		ENDIF
	CASE 15
		;被反射
		PRINTFORMW ARG:2 = {ARG:2}
		IF RAND:2
			LOCALS = …弾かれた…！？
		ELSE
			LOCALS = あひぇっ！？は、はねかえってきたぁ！？
		ENDIF
	CASE 16
		;反射
		IF RAND:2
			LOCALS = ほーら、いたいでしょう？
		ELSE
			LOCALS = ばぁーりあぁーへいきですもーん！そしてお返しですぅ！！
		ENDIF
	CASE 17
		;敵回避
		IF RAND:2
			LOCALS = 避けた…！？
		ELSE
			LOCALS = あ、あたらなかったですかぁ！？
		ENDIF
	CASE 18
		;自分回避
		IF RAND:2
			LOCALS = ふふん！おそいですよぉ
		ELSE
			LOCALS = あ、よっとっと、あたらないですぅ！
		ENDIF
ENDSELECT
SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)
