@BATTLE_MESSAGE_K4398, ARG,ARG:1 = 0
LOCAL:1 = 1
LOCAL = CFLAG:ARG:入力行動
LOCALS = 準備は出来たかしら？

;崩壊してる場合は口上表示しない
SIF TALENT:ARG:9
	RETURN 0


CALLFORM SKILL_EFECT_{LOCAL}
IF RESULT == 1 && RAND:3 == 0
	CALLFORM SKILL_TYPE_{CFLAG:ARG:入力行動}
	SELECTCASE RESULT
		;Slash
		CASE 0
			IF RAND:2
				LOCALS = 耐えられるかしらっ！
			ELSE
				LOCALS = そこよ！　叩き込むっ！
			ENDIF
		;Gun
		CASE 1
			IF RAND:2
				LOCALS = 狙いは外さないわ
			ELSE
				LOCALS = これだけは負けるつもりはないわ
			ENDIF
		;Strke
		CASE 2
			IF RAND:2
				LOCALS = 格闘戦に持ち込むわ
			ELSE
				LOCALS = そこよ、叩くッ！
			ENDIF
		;Skill
		CASE 3
			IF RAND:2
				LOCALS = ワイヤーで捕らえる！
			ELSE
				LOCALS = さて、どんどん行くわよ
			ENDIF
		;Fire
		CASE 4
			IF RAND:2
				LOCALS = 焼き尽くすわ！
			ELSE
				LOCALS = 魂の一片まで燃焼させる！
			ENDIF
		;Ice
		CASE 5
			IF RAND:2
				LOCALS = 凍りなさい！
			ELSE
				LOCALS = Gunだけが私の取り柄じゃないのよ
			ENDIF
		;Elect
		CASE 6
			IF RAND:2
				LOCALS = 痺れなさいッ！
			ELSE
				LOCALS = 相手の動きを制限するには……！
			ENDIF
		;Force
		CASE 7
			IF RAND:2
				LOCALS = 砕け散れ！
			ELSE
				LOCALS = これならどうかしらッ！
			ENDIF
		;Nerve
		CASE 8	
			IF RAND:2
				LOCALS = 手段は択ばないわ
			ELSE
				LOCALS = あいての神経系を破壊する……！
			ENDIF
		;Mind
		CASE 9
			IF RAND:2
				LOCALS = 人の心ほど脆いものもないわね……
			ELSE
				LOCALS = その心を砕く！
			ENDIF
		;Light
		CASE 10
			IF RAND:2
				LOCALS = 邪よ、消え去りなさい！
			ELSE
				LOCALS = 私らしくはないけど……！
			ENDIF
		;Dark
		CASE 11
			LOCALS = これが私達の呪いよ
		;Earth
		CASE 12
			IF RAND:2
				LOCALS = 土の味はいかが？
			ELSE
				LOCALS = これは痛いわよ
			ENDIF
		;Water
		CASE 13
			IF RAND:2
				LOCALS = 頭を冷やしてみる？
			ELSE
				LOCALS = こういう使い方もあるのよ！
			ENDIF
		;Wind
		CASE 14
				LOCALS = 風よ！　行け！
		;Grav
		CASE 15
			IF RAND:2
				LOCALS = 歪めて押し潰せ重力よ……！
			ELSE
				LOCALS = 激しく参りましょうか、眼帯の彼女の様に。
			ENDIF
		;Nuclr
		CASE 16
			IF RAND:2
				LOCALS = 溶けて弾けろッ！
			ELSE
				LOCALS = 人類の生み出した滅びの光よ！
			ENDIF
		;Almig
		CASE 17
			LOCALS = これが、私の出せる全力よッ！！
		;Psych
		;CASE 18
		CASEELSE
			LOCALS = アタシ、アンタ、マルカジリ！
	ENDSELECT
;回復
ELSEIF RESULT == 2
	IF CFLAG:ARG:ターゲット > 6
		IF RAND:2
			LOCALS = 全く、私も甘くなったものね。
		ELSE
			LOCALS = 得意ではないけど、出来ないわけではないわ。
		ENDIF
	ELSE
		IF FLAG:(CFLAG:ARG:ターゲット) == 0 && 陥落(ARG)
			IF RAND:2
				LOCALS = お願い、しっかりして！
			ELSE
				LOCALS = 何があっても貴方だけは絶対に……！
			ENDIF
		ELSE
			IF RAND:2
				LOCALS = 早く立ちなさい、その程度ではないでしょ？
			ELSE
				LOCALS = さっさと治して復帰するわよ。
			ENDIF
		ENDIF
	ENDIF
;状態変化
;ELSEIF RESULT == 3
;特殊
;ELSEIF RESULT == 4
;状態回復
ELSEIF RESULT == 5
	LOCALS = しっかりしなさい！
ENDIF

;ロッソ・ファンタズマ
IF LOCAL == 2995
	SELECTCASE RAND:3
	CASE 0
		LOCALS = ……借りるわよ、佐倉杏子。
	CASE 1
		LOCALS = 貴方に彼女の妙技、見切れるかしら？
	CASEELSE
		LOCALS = 『ロッソ・ファンタズマ』！　行くわよ！
	ENDSELECT
;スクワルタトーレ
ELSEIF LOCAL == 2996
	SELECTCASE RAND:3
	CASE 0
		LOCALS = ……借りるわよ、美樹さやか。
	CASE 1
		LOCALS = 剣の乱舞、行く……！
	CASEELSE
		LOCALS = 得意ではないのだけれどねっ！
	ENDSELECT
;ティロ・フィナーレ
ELSEIF LOCAL == 2997
	SELECTCASE RAND:3
	CASE 0
		LOCALS = マミ……貴方の技を借りるわよ。
	CASE 1
		LOCALS = てぃ、てぃろ……む、無理だわ！
	CASEELSE
		LOCALS = 性能は別としてネーミングがちょっと……。
	ENDSELECT
;侵食する黒き翼
ELSEIF LOCAL == 2998
	;恋慕、親愛
	IF TALENT:3 || TALENT:6
		SELECTCASE RAND:3
		CASE 0
			LOCALS = 貴方の為に……祈りよ、広がって！
		CASE 1
			LOCALS = 私の全力、受けてみてっ！！
		CASEELSE
			LOCALS = 黒き翼よ、全てを飲み込めぇっ！！
		ENDSELECT
	;淫乱、娼婦
	ELSEIF TALENT:4 || TALENT:7
		SELECTCASE RAND:3
		CASE 0
			LOCALS = 世界よ染まれ、私の色に……
		CASE 1
			LOCALS = その悲鳴で私を感じさせて……！
		CASEELSE
			LOCALS = 黒翼よ、快楽で世界を満たして！
		ENDSELECT
	;服従、隷属
	ELSEIF TALENT:5 || TALENT:8
		SELECTCASE RAND:3
		CASE 0
			LOCALS = 広がれ黒翼、主の為に
		CASE 1
			LOCALS = 私の主の前に跪け有象無象
		CASEELSE
			LOCALS = 塵芥が、飲まれろ
		ENDSELECT
	;それ以外
	ELSE
		LOCALS = 私の……まどかの祈りを乗せて……！
	ENDIF
;フィニトラ・フレティア
ELSEIF LOCAL == 2999
	SELECTCASE RAND:3
	CASE 0
		LOCALS = お願いまどか、力を貸して……！
	CASE 1
		LOCALS = 貫いて、祈りの一矢！
	CASEELSE
		LOCALS = たとえ覚えている人が居なくても……！
	ENDSELECT
;各所から色々と参考にさせていただきました
;刹那五月雨撃
ELSEIF LOCAL == 108
	LOCALS = 鍛え上げたGun技、その身に刻んでお逝きなさい！
;連続撃ち
ELSEIF LOCAL == 112
	LOCALS = クイックドロウ！　な、なんちゃ……って。
;飛具ガードブレイク
ELSEIF LOCAL == 129
	LOCALS = 私の弾丸からは誰も逃れられない……！
;タルカジャ
ELSEIF LOCAL == 501
	LOCALS = しっかり狙っていくわよ
;スクカジャ
ELSEIF LOCAL == 502
	LOCALS = 加速させる……クロックアップっ！
;マカカジャ
ELSEIF LOCAL == 503
	LOCALS = 魔力を、祈りもっと引き出して！
;ラクカジャ
ELSEIF LOCAL == 504
	LOCALS = 防備を固めなさい！
;デクンダ
ELSEIF LOCAL == 505
	LOCALS = 時を、戻す！
;スクンダ
ELSEIF LOCAL == 507
	LOCALS = 追いつかせない、クロックダウンっ！
;デカジャ
ELSEIF LOCAL == 509
	LOCALS = 悪いけどやり直しね
;気合
ELSEIF LOCAL == 511
	LOCALS = ほむむむむむっ！！
;コンセントレイト
ELSEIF LOCAL == 512
	LOCALS = ほーむほむ……むっ！
;雄たけび
ELSEIF LOCAL == 514
	LOCALS = まどかぁぁっ―――！！
;挑発
ELSEIF LOCAL == 515
	LOCALS = ふっ、この程度？　貴方、たいした事ないわね
;Rebellion
ELSEIF LOCAL == 516
	LOCALS = さ、始めましょうか
;食いしばり
ELSEIF LOCAL == 2406
	LOCALS = これで倒れるなら……初めから立ち上がったりなんてしない！
;不屈の闘志
ELSEIF LOCAL == 2407
	LOCALS = まだよ……まだ私は立ち上がれる。まだ戦える……！
;スクカジャオート
ELSEIF LOCAL == 2417
	LOCALS = 兵は神速を尊ぶ……クロックアップ
ENDIF

SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)

@BATTLE_EVENT_K4398, ARG, ARG:1, ARG:2
SIF ARG < 0 && NO:ARG != 4518
	RETURN 0
LOCAL:1 = 1
LOCALS = EMPTY
SELECTCASE TFLAG:戦闘イベント
	;COOP発動 ARGは発動者
	CASE 1
		IF RAND:3 == 0
			LOCALS = さて、一気に片付けるわよ
		ELSEIF !RAND:2
			LOCALS = チャンスね、畳みかけるわ
		ELSE
			LOCALS = この隙は見逃せないわ！
		ENDIF
	CASE 2
		IF RAND:3 == 0
			LOCALS = 続いていくわ！
		ELSEIF !RAND:2
			LOCALS = ここで沈めるわ！
		ELSE
			LOCALS = 馬鹿ね、逃がすわけがないでしょ！
		ENDIF
	;攻撃　ARGが攻撃をする仲魔、ARG:1が敵、ARG:2がダメージ量
	CASE 11
		CALLFORM SKILL_TYPE_{CFLAG:ARG:入力行動}
		LOCAL = MAXBASE:(ARG:1):GET_TYPE(RESULT)
		;相手が死んだ
		IF BASE:(ARG:1):ＨＰ <= 0
			IF 陥落(ARG) && RAND:2
				LOCALS = さようなら、もう会うこともないでしょうね。
			ELSE
				IF RAND:2
					LOCALS = 次に消えたいのは誰かしら。
				ELSE
					LOCALS = 残念だったわね。
				ENDIF
			ENDIF
		;弱点をついた。つまりCOOP
		ELSEIF LOCAL > 100 && LOCAL < 999
			IF CFLAG:(ARG:1):防御フラグ
				LOCALS = くっ、硬いわねっ！
			ELSE
				;こっちはCOOP発動に回すためにカット
				RETURN 0
			ENDIF
		;大ダメージ
		ELSEIF ダメージ割合(ARG:1, ARG:2) > 50
			IF RAND:2
				LOCALS = 攻め落とすわ！
			ELSE
				LOCALS = 今楽にしてあげるわ。
			ENDIF
		ELSEIF ダメージ割合(ARG:1, ARG:2) > 20
			IF RAND:2
				LOCALS = 次っ！
			ELSE
				LOCALS = 集中……！
			ENDIF
		ELSEIF ダメージ割合(ARG:1, ARG:2) > 0
			IF RAND:2
				LOCALS = まだ油断できないわね。
			ELSE
				LOCALS = 続けていくわよ！
			ENDIF
		;無効化された
		ELSEIF ARG:2 == 0
			IF 陥落(ARG) && RAND:2
				LOCALS = そんな、通じない！？
			ELSE
				LOCALS = まさか無効化されるなんて……！
			ENDIF
		;吸収された
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = 吸収された……！？
			ELSE
				LOCALS = 選択を間違えたわね……っ！
			ENDIF
		ENDIF
	;被ダメージ
	;ARGが攻撃を受ける仲魔、ARG:1が敵、ARG:2がダメージ量
	CASE 12
		;死んだ
		IF BASE:ARG:ＨＰ <= 0
			IF 陥落(ARG) && RAND:2
				LOCALS = ごめんなさい……許して……。
			ELSE
				IF RAND:2
					LOCALS = まだ……倒れたくないのに……。
				ELSE
					LOCALS = まど……か……。
				ENDIF
			ENDIF
		;大ダメージ
		ELSEIF ダメージ割合(ARG, ARG:2) > 50 || 現HP割合(ARG) < 25
			IF 陥落(ARG) && RAND:2
				LOCALS = まだよ、まだ倒れるわけにはいかないのよ！
			ELSE
				IF RAND:2
					LOCALS = これは、やられたわね……
				ELSE
					LOCALS = まだ、倒れられないのよ！
				ENDIF
			ENDIF
		ELSEIF ダメージ割合(ARG, ARG:2) > 20
			IF RAND:2
				LOCALS = 行動に支障はないわ
			ELSE
				LOCALS = 大したことはないわね
			ENDIF
		ELSEIF ダメージ割合(ARG, ARG:2) > 0
			IF RAND:2
				LOCALS = この程度なら心配しなくても平気よ
			ELSE
				LOCALS = 温いわね、その程度かしら？
			ENDIF
		;無効
		ELSEIF ARG:2 == 0
			IF RAND:2
				LOCALS = 残念ね、私にそれは通じないわ
			ELSE
				LOCALS = 通じると思ったのかしら？　思ったよりも愚鈍なのね。
			ENDIF
		;吸収
		ELSEIF ARG:2 < 0
			IF RAND:2
				LOCALS = あら、力を分けてくれるの？
			ELSE
				LOCALS = とんだマヌケね、力をありがとう
			ENDIF
		ENDIF
	CASE 15
		;被反射
		PRINTFORMW ARG:2 = {ARG:2}
		IF RAND:2
			LOCALS = くっ、油断してたわね……
		ELSE
			LOCALS = ちょっと失敗しただけよ
		ENDIF
	CASE 16
		;反射
		IF RAND:2
			LOCALS = ちょっと、良く見てから動きなさい
		ELSE
			LOCALS = 相手を少しは落ち着いて観察しなさい
		ENDIF
	CASE 17
		;敵回避
		IF RAND:2
			LOCALS = くっ！
		ELSE
			LOCALS = 避けられたっ！？
		ENDIF
	CASE 18
		;自分回避
		IF RAND:2
			LOCALS = それで攻撃したつもりかしら？
		ELSE
			LOCALS = 無様ね、貴方
		ENDIF
ENDSELECT
SIF LOCALS != "EMPTY"
	CALL MESSAGE_B(LOCAL:1, LOCALS, LOCALS:1, LOCALS:2, LOCALS:3, LOCALS:4)
