@MAKE_CHARA_TALENT(ARG, ARG:1)
PRINTFORML Points left: {ARG:1}
;ポイント
IF LOCAL:1
	FOR LOCAL, 51 ,70
		IF TALENT:ARG:オトコ
			SIF LOCAL == 63 || LOCAL == 66
				CONTINUE
		ENDIF
		CALL PRINT_MAKE_CHARA_TALENT(ARG, LOCAL)
	NEXT
ELSE
	FOR LOCAL, 0 ,19
		CALL PRINT_MAKE_CHARA_TALENT(ARG, LOCAL)
	NEXT
ENDIF
DRAWLINE
PRINTFORMLC [1007] \@ LOCAL:1 == 0 ? Body properties # Mental properties \@
;;肉体・技術・性癖系素質 # 精神系素質
PRINTLC [1000] End
INPUT
SIF RESULT == 1000
	RETURN
IF RESULT == 1007
	INVERTBIT LOCAL:1, 1
	RESTART
ENDIF
		IF TALENT:ARG:オトコ
			SIF RESULT % 3 == 62 || RESULT % 3 == 66
				RESTART
		ENDIF
LOCAL = RESULT
CALLF SET_MAKE_CHARA_TALENT(ARG, LOCAL / 3)
SIF (RESULT:1 == -1 && RESULT:2 == -1) || (LOCAL % 3 == 0 && RESULT:1 == -1) || (LOCAL % 3 == 2 && RESULT:2 == -1)
	RESTART
IF LOCAL % 3 == 0
	SIF RESULT:1 >= 0 && TALENT:ARG:(RESULT:1)
		RESTART
ELSEIF LOCAL % 3 == 1
	SIF RESULT:1 >= 0 && TALENT:ARG:(RESULT:1) == 0 && RESULT:2 == -1
		RESTART
	SIF RESULT:2 >= 0 && TALENT:ARG:(RESULT:2) == 0 && RESULT:1 == -1
		RESTART
	SIF RESULT:1 >= 0 && TALENT:ARG:(RESULT:1) == 0 && RESULT:2 >= 0 && TALENT:ARG:(RESULT:2) == 0
		RESTART
ELSE
	SIF RESULT:2 >= 0 && TALENT:ARG:(RESULT:2)
		RESTART
ENDIF
IF ARG:1 >= GET_P_MAKE_CHARA_TALENT(ARG, LOCAL / 3, LOCAL % 3)
	ARG:1 -= GET_P_MAKE_CHARA_TALENT(ARG, LOCAL / 3, LOCAL % 3)
ELSE
	RESTART
ENDIF
IF LOCAL % 3 == 0
	TALENT:ARG:(RESULT:1) = 1
	SIF RESULT:2 >= 0
		TALENT:ARG:(RESULT:2) = 0
ELSEIF LOCAL % 3 == 1
	SIF RESULT:1 >= 0
		TALENT:ARG:(RESULT:1) = 0
	SIF RESULT:2 >= 0
		TALENT:ARG:(RESULT:2) = 0
ELSE
	TALENT:ARG:(RESULT:2) = 1
	SIF RESULT:1 >= 0
		TALENT:ARG:(RESULT:1) = 0
ENDIF
RESTART
;ARGのTALENTを操作するための関数
@PRINT_MAKE_CHARA_TALENT(ARG, ARG:1)
SETCOLOR 102, 255, 255
CALLF SET_MAKE_CHARA_TALENT(ARG, ARG:1)
IF RESULT:1 == -1
	PRINTFORMLCD %" "* 16%
ELSE
	IF TALENT:ARG:(RESULT:1)
		PRINTFORMLC [{ARG:1 * 3}] %TALENTNAME_E(RESULT:1)%
	ELSE
		PRINTFORMLCD [{ARG:1* 3}] %TALENTNAME_E(RESULT:1)%({GET_P_MAKE_CHARA_TALENT(ARG,ARG:1, 0)})
	ENDIF
ENDIF
IF (RESULT:1 >= 0 && TALENT:ARG:(RESULT:1)) || (RESULT:2 >= 0 && TALENT:ARG:(RESULT:2))
	PRINTFORMLCD [{ARG:1 * 3 + 1}] None({GET_P_MAKE_CHARA_TALENT(ARG,ARG:1, 1)})
	;普通
ELSE
	PRINTFORMLC [{ARG:1 * 3 + 1}] None
ENDIF
IF RESULT:2 == -1
	PRINTFORMLCD %" "* 16%
ELSE
	IF TALENT:ARG:(RESULT:2)
		PRINTFORMLC [{ARG:1 * 3 + 2}] %TALENTNAME_E(RESULT:2)%
	ELSE
		PRINTFORMLCD [{ARG:1 * 3 + 2}] %TALENTNAME_E(RESULT:2)%({GET_P_MAKE_CHARA_TALENT(ARG,ARG:1, 2)})
	ENDIF
ENDIF
RESETCOLOR
PRINTL 
@GET_P_MAKE_CHARA_TALENT(ARG, ARG:1, ARG:2 = -1)
#FUNCTION
;LOCAL:1 普通からマイナスにするためのコスト
;LOCAL:2 普通からプラスにするためのコスト
LOCAL:1 = 0
LOCAL:2 = 0
SELECTCASE ARG:1
	;臆病・気丈
	CASE 0
		LOCAL:1 = 6
		LOCAL:2 = 4
	;生意気・素直
	CASE 1
		LOCAL:1 = 2
		LOCAL:2 = 5
	;反抗的・大人しい
	CASE 2
		LOCAL:1 = -5
		LOCAL:2 = 5
	;プライド低い・プライド高い
	CASE 3
		LOCAL:1 = 6
		LOCAL:2 = -4
	;ツンデレ
	CASE 4
		LOCAL:2 = 5
	;自制心
	CASE 5
		LOCAL:2 = 4
	;保守的・好奇心
	CASE 6
		LOCAL:1 = 3
		LOCAL:2 = 6
	;楽観的・悲観的
	CASE 7
		LOCAL:1 = 6
		LOCAL:2 = -4
	;一線越えない
	CASE 8
		LOCAL:2 = 5
	;目立ちたがり
	CASE 9
		LOCAL:2 = 7
	;貞操無頓着・貞操観念
	CASE 10
		LOCAL:1 = 3
		LOCAL:2 = 5
	;抑圧・解放
	CASE 11
		LOCAL:1 = -8
		LOCAL:2 = 5
	;恥薄い・恥じらい
	CASE 12
		LOCAL:1 = 3
		LOCAL:2 = 5
	;献身的
	CASE 13
		LOCAL:2 = 8
	;小悪魔
	CASE 14
		LOCAL:2 = 8
	;感情乏しい
	CASE 15
		LOCAL:1 = -4
	;無関心
	CASE 16
		LOCAL:1 = -4
	;狂気
	CASE 17
		LOCAL:1 = -20
	;幼稚
	CASE 18
		LOCAL:1 = 4
		
		
	;処女,経験絡んでめんどいのでとりあえずコメントアウト
	;CASE 50
	;	LOCAL:2 = 
	;痛みに弱い・強い
	CASE 51
		LOCAL:1 = 6
		LOCAL:2 = 3
	;濡れにくい・濡れやすい
	CASE 52
		LOCAL:1 = -3
		LOCAL:2 = -5
	;習得遅い・習得早い
	CASE 53
		LOCAL:1 = -4
		LOCAL:2 = 6
	;舌使い
	CASE 54
		LOCAL:2 = 8
	;針さばき
	CASE 55
		LOCAL:2 = 8
	;自慰しやすい
	CASE 56
		LOCAL:2 = 6
	;汚臭鈍感・敏感
	CASE 57
		LOCAL:1 = -3
		LOCAL:2 = 5
	;快感の否定・快感に素直
	CASE 58
		LOCAL:1 = -10
		LOCAL:2 = 5
	;中毒しやすい
	CASE 59
		LOCAL:2 = 7
	;倒錯的
	CASE 60
		LOCAL:2 = 5
	;両刀
	CASE 61
		LOCAL:2 = 8
	;ＣInsensitive・敏感
	CASE 62
		LOCAL:1 = -5
		LOCAL:2 = 8
	;ＶInsensitive・敏感
	CASE 63
		LOCAL:1 = -5
		LOCAL:2 = 8
	;ＡInsensitive・敏感
	CASE 64
		LOCAL:1 = -5
		LOCAL:2 = 8
	;ＢInsensitive・敏感
	CASE 65
		LOCAL:1 = -5
		LOCAL:2 = 8
	;貧乳・巨乳
	CASE 66
		LOCAL:1 = 2
		LOCAL:2 = 4
	;回復遅い・早い
	CASE 67
		LOCAL:1 = -4
		LOCAL:2 = 10
	;男嫌い
	CASE 68
		LOCAL:1 = -4
	;女嫌い
	CASE 69
		LOCAL:1 = -4
ENDSELECT
CALLF SET_MAKE_CHARA_TALENT(ARG, ARG:1)
;+素質がついてれば1、-素質がついてれば-1
IF RESULT:2 >= 0 && TALENT:ARG:(RESULT:2)
	LOCAL = 1
ELSEIF RESULT:1 >= 0 && TALENT:ARG:(RESULT:1)
	LOCAL = -1
ELSE
	LOCAL = 0
ENDIF
;マイナス
IF LOCAL == -1
	;マイナスからふつうにする
	IF ARG:2 == 1
		RETURNF -LOCAL:1
	;マイナスからプラスにする
	ELSE
		RETURNF LOCAL:2 - LOCAL:1
	ENDIF
;普通
ELSEIF LOCAL == 0
	;普通からマイナスにする
	IF ARG:2 == 0
		RETURNF LOCAL:1
	;普通からプラスにする
	ELSE
		RETURNF LOCAL:2
	ENDIF
;プラス
ELSE
	;プラスから普通にする
	IF ARG:2 == 1
		RETURNF -LOCAL:2
	;マイナスからプラスにする
	ELSE
		RETURNF LOCAL:1 - LOCAL:2
	ENDIF
ENDIF
@SET_MAKE_CHARA_TALENT(ARG, ARG:1)
#FUNCTION
LOCAL:1 = -1
LOCAL:2 = -1
SELECTCASE ARG:1
	;臆病・気丈
	CASE 0
		LOCAL:1 = 10
		LOCAL:2 = 12
	;生意気・素直
	CASE 1
		LOCAL:1 = 16
		LOCAL:2 = 13
	;反抗的・大人しい
	CASE 2
		LOCAL:1 = 11
		LOCAL:2 = 14
	;プライド低い・プライド高い
	CASE 3
		LOCAL:1 = 17
		LOCAL:2 = 15
	;ツンデレ
	CASE 4
		LOCAL:2 = 18
	;自制心
	CASE 5
		LOCAL:2 = 20
	;保守的・好奇心
	CASE 6
		LOCAL:1 = 24
		LOCAL:2 = 23
	;楽観的・悲観的
	CASE 7
		LOCAL:1 = 26
		LOCAL:2 = 25
	;一線越えない
	CASE 8
		LOCAL:2 = 27
	;目立ちたがり
	CASE 9
		LOCAL:2 = 28
	;貞操無頓着・貞操観念
	CASE 10
		LOCAL:1 = 31
		LOCAL:2 = 30
	;抑圧・解放
	CASE 11
		LOCAL:1 = 32
		LOCAL:2 = 33
	;恥薄い・恥じらい
	CASE 12
		LOCAL:1 = 36
		LOCAL:2 = 35
	;献身的
	CASE 13
		LOCAL:2 = 63
	;小悪魔
	CASE 14
		LOCAL:2 = 87
	;感情乏しい
	CASE 15
		LOCAL:1 = 22
	;無関心
	CASE 16
		LOCAL:1 = 21
	;狂気
	CASE 17
		LOCAL:1 = 141
	;幼稚
	CASE 18
		LOCAL:1 = 151

	;処女,経験絡んでめんどいのでとりあえずコメントアウト
	;CASE 50
	;LOCAL:2 = 
	;痛みに弱い・強い
	CASE 51
		LOCAL:1 = 40
		LOCAL:2 = 41
	;濡れにくい・濡れやすい
	CASE 52
		LOCAL:1 = 43
		LOCAL:2 = 42
	;習得遅い・習得早い
	CASE 53
		LOCAL:1 = 51
		LOCAL:2 = 50
	;舌使い
	CASE 54
		LOCAL:2 = 52
	;針さばき
	CASE 55
		LOCAL:2 = 53
	;自慰しやすい
	CASE 56
		LOCAL:2 = 60
	;汚臭鈍感・敏感
	CASE 57
		LOCAL:1 = 61
		LOCAL:2 = 62
	;快感の否定・快感に素直
	CASE 58
		LOCAL:1 = 71
		LOCAL:2 = 70
	;中毒しやすい
	CASE 59
		LOCAL:2 = 72
	;倒錯的
	CASE 60
		LOCAL:2 = 80
	;両刀
	CASE 61
		LOCAL:2 = 81
	;ＣInsensitive・敏感
	CASE 62
		LOCAL:1 = 101
		LOCAL:2 = 102
	;ＶInsensitive・敏感
	CASE 63
		LOCAL:1 = 103
		LOCAL:2 = 104
	;ＡInsensitive・敏感
	CASE 64
		LOCAL:1 = 105
		LOCAL:2 = 106
	;ＢInsensitive・敏感
	CASE 65
		LOCAL:1 = 107
		LOCAL:2 = 108
	;貧乳・巨乳
	CASE 66
		LOCAL:1 = 109
		LOCAL:2 = 111
	;回復遅い・早い
	CASE 67
		LOCAL:1 = 131
		LOCAL:2 = 130
	;男嫌い
	CASE 68
		LOCAL:1 = 82
	;女嫌い
	CASE 69
		LOCAL:1 = 88
ENDSELECT
RESULT:1 = LOCAL:1
RESULT:2 = LOCAL:2
RETURNF
