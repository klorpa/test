
;=======================================================================
;品川
;0,ダンジョン攻略条件フラグ,数値によって出現する敵の強さに補正が与えられる
;
;1,ハニエルイベントフラグ	 -1,ハニエル撃破, 1,エキドナ依頼保留		2,エキドナ依頼受諾		3,カテドラル保留		4,カテドラル受諾
;2,ハニエル友好
;
;10, 初回
;11, 説教
;ダンジョンフラグ:47:1 = 1.エキドナ討伐を断った
;ダンジョンフラグ:47:2 = 1.エキドナ討伐承諾
;ダンジョンフラグ:47:10-19 = 1.メシア教徒
;ダンジョンフラグ:47:20 = 1.ロウヒーロー　2.エキドナ討伐進行中
;ダンジョンフラグ:47:21 = 1.守護者アールマティ
;
;ダンジョンフラグ:20:0 = 1.ギンザの鍵

;ダンジョンナンバー47
;=======================================================================




;=======================================================================
;攻略条件
;=======================================================================
@PREREQUISITE_DUNGEON_47
SIF ダンジョンフラグ:[[ダンジョン:品川]]:0
	RETURN 1
RETURN 0




;=======================================================================
;ダンジョン名
;=======================================================================
@GET_DUNGEON_NAME_47
RESULTS = Shinagawa


;=======================================================================
;フロア名表示
;=======================================================================
@FLOORNAME_47
PRINT Shinagawa
SELECTCASE FLAG:現M
	CASE 0
		PRINTL   １Ｆ
	CASE 1
		PRINTL   ２Ｆ
	CASE 2
		PRINTL   ３Ｆ
	CASE 3
		PRINTL   ４Ｆ
	CASEELSE
		PRINTL
ENDSELECT

;=======================================================================
;スタート地点入力
;=======================================================================
@START_DUNGEON_47,ARG
FLAG:現M = 0
FLAG:現X = 20
FLAG:現Y = 17
;CALL AUTOMAP

;=======================================================================
;スタート時イベント
;=======================================================================
@EVENT_DUNGEON_START_47
IF ダンジョンフラグ:47:10++ == 0
	CALL MESSAGE_WINDOW_D, "", @"＞A huge church stood before %CALLNAME:MASTER% at Shinagawa/＞This structure is the Shinga Cathedral/＞A mecca of the Messians/＞It is said that Archangel Haniel who is a high ranking Messian is here"
ENDIF


;=======================================================================
;フロアデータ
;=======================================================================
@MAKE_FLOOR_47
SELECTCASE FLAG:現M
	CASE 0
		FLAG:最大X = 39
		FLAG:最大Y = 19 
								;0000000000111111111122222222223333333333
;								;0123456789012345678901234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                                       "
		CALL MAKE_FLOOR_LINE, 1," 111 111111111 1211 111 11111 111 1111 "
		CALL MAKE_FLOOR_LINE, 2," 1   1     H 1 6  1 1     2 111 1 1  1 "
		CALL MAKE_FLOOR_LINE, 3," 121 H 3 1 1 1    2 111H111     111  H "
		CALL MAKE_FLOOR_LINE, 4,"   1 1 2 2 1 11111111       121   1  1 "
		CALL MAKE_FLOOR_LINE, 5," 121 1111111        1 11211 1   121  1 "
		CALL MAKE_FLOOR_LINE, 6," 1 H1         11111 2 11  1181H11 1  H "
		CALL MAKE_FLOOR_LINE, 7," 1  11 11111  1   1 1                1 "
		CALL MAKE_FLOOR_LINE, 8," 1   1 1   1  2   1    1   8   1     1 "
		CALL MAKE_FLOOR_LINE, 9," 111 111 4 1  1 821   111 111 111 1  H "
		CALL MAKE_FLOOR_LINE,10,"   1   1 2 1  1        2   2   2  2  1 "
		CALL MAKE_FLOOR_LINE,11," 321 8 1111111111111111111111111111111 "
		CALL MAKE_FLOOR_LINE,12,"     2   2                             "
		CALL MAKE_FLOOR_LINE,13," 11111H1111111111111111111111181111111 "
		CALL MAKE_FLOOR_LINE,14," 1   1   1       1  1   2   2   2 1  1 "
		CALL MAKE_FLOOR_LINE,15," 1 8 1 3 1 1 1 1 1  1 8 1 8 1 1 1 1  1 "
		CALL MAKE_FLOOR_LINE,16," 1 2 1 2 1 2 1 2 1  1 2   2   2   1  1 "
		CALL MAKE_FLOOR_LINE,17," 11111111111181111  111111111111111  8 "
		CALL MAKE_FLOOR_LINE,18,"                    4                  "



	CASE 1
		FLAG:最大X = 37
		FLAG:最大Y = 17 
								;0000000000111111111122222222223333333
;								;0123456789012345678901234567890123456
		CALL MAKE_FLOOR_LINE, 0,"                                     "
		CALL MAKE_FLOOR_LINE, 1," B21121121 7211211 1121126   112112C "
		CALL MAKE_FLOOR_LINE, 2,"         1       2 2         2       "
		CALL MAKE_FLOOR_LINE, 3," 11111111111111111111111111111111111 "
		CALL MAKE_FLOOR_LINE, 4," 1   1   1   1   1 1   1   1   1   1 "
		CALL MAKE_FLOOR_LINE, 5," 1 3 1 b 1 P 1 P 1 1 c 1 P 1 3 1 b 1 "
		CALL MAKE_FLOOR_LINE, 6," 1 2 1 2 1 2 1 2 1 1 2 1 2 1 2 1 2 1 "
		CALL MAKE_FLOOR_LINE, 7," 11111111111111111111111111111111111 "
		CALL MAKE_FLOOR_LINE, 8," 1   1   1   1   1 1   1   1   1   1 "
		CALL MAKE_FLOOR_LINE, 9," 1 3 1 P 1 a 1 3 1 1 3 1 3 1 c 1 3 1 "
		CALL MAKE_FLOOR_LINE,10," 1 2 1 2 1 2 1 2 1 1 2 1 2 1 2 1 2 1 "
		CALL MAKE_FLOOR_LINE,11," 111111111111b2A2c111111111111111111 "
		CALL MAKE_FLOOR_LINE,12," 1   1   1   1 2 1 1   1   1   1   1 "
		CALL MAKE_FLOOR_LINE,13," 1 b 1 b 1 3 1 3 1 1 b 1 c 1 P 1 c 1 "
		CALL MAKE_FLOOR_LINE,14," 1 2 1 2 1 2 1   1 1 2 1 2 1 2 1 2 1 "
		CALL MAKE_FLOOR_LINE,15," 11111111111111111111111111111111111 "
		CALL MAKE_FLOOR_LINE,16,"                                     "
		
	CASE 2
	;品川3階
		FLAG:最大X = 20 
		FLAG:最大Y = 19 

;								;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1," 1 6211111111127 1  "
		CALL MAKE_FLOOR_LINE, 2," 1       2       1  "
		CALL MAKE_FLOOR_LINE, 3," 11111111111111111  "
		CALL MAKE_FLOOR_LINE, 4," 1          2 2  1  "
		CALL MAKE_FLOOR_LINE, 5," 121G11     1 1  1  "
		CALL MAKE_FLOOR_LINE, 6," 1          1 G  1  "
		CALL MAKE_FLOOR_LINE, 7," 121111  1  1 1  1  "
		CALL MAKE_FLOOR_LINE, 8," 1      141 1 1  1  "
		CALL MAKE_FLOOR_LINE, 9," 1       1       1  "
		CALL MAKE_FLOOR_LINE,10," 1       G       1  "
		CALL MAKE_FLOOR_LINE,11," 1     TG111111121  "
		CALL MAKE_FLOOR_LINE,12," 1 1 1           1  "
		CALL MAKE_FLOOR_LINE,13," 1 1 1      111121  "
		CALL MAKE_FLOOR_LINE,14," 1 G 1           1  "
		CALL MAKE_FLOOR_LINE,15," 1 1 1      11G121  "
		CALL MAKE_FLOOR_LINE,16," 1 2 2           1  "
		CALL MAKE_FLOOR_LINE,17," 11111111111111111  "
		CALL MAKE_FLOOR_LINE,18,"                    "


	CASE 3
	;品川4
		FLAG:最大X = 15 
		FLAG:最大Y = 17 

;								;012345678901234
		CALL MAKE_FLOOR_LINE, 0,"               "
		CALL MAKE_FLOOR_LINE, 1," 127 1 1 1 a21 "
		CALL MAKE_FLOOR_LINE, 2," 1   1 2 1   1 "
		CALL MAKE_FLOOR_LINE, 3," 1111111111111 "
		CALL MAKE_FLOOR_LINE, 4,"     1 2 1     "
		CALL MAKE_FLOOR_LINE, 5," M1B 1 c 1 C1M "
		CALL MAKE_FLOOR_LINE, 6," 2   1   1   2 "
		CALL MAKE_FLOOR_LINE, 7," 11111 3 11111 "
		CALL MAKE_FLOOR_LINE, 8," 1     2     1 "
		CALL MAKE_FLOOR_LINE, 9," 12b21111A d21 "
		CALL MAKE_FLOOR_LINE,10," 1     2     1 "
		CALL MAKE_FLOOR_LINE,11," 11111 3 11111 "
		CALL MAKE_FLOOR_LINE,12," 2   1   1   2 "
		CALL MAKE_FLOOR_LINE,13," M1E 1 e 1 D1M "
		CALL MAKE_FLOOR_LINE,14,"     1 2 1     "
		CALL MAKE_FLOOR_LINE,15," 1111111111111 "
		CALL MAKE_FLOOR_LINE,16,"               "
	CASEELSE

ENDSELECT
;=======================================================================
;タイル調整
;=======================================================================
@MAKE_FLOOR_LINE_COMMON_47, ARG, ARG:1, ARG:2
#LOCALSIZE 30
;LOCAL:3 宝箱 ダンジョンフラグ:75~99
;LOCAL:4 イベント
;LOCAL:8 メッセンジャー
;(0/0)でLOCALを消去
SIF ARG:1 == 0 && ARG:2 == 0
	VARSET LOCAL
IF ARG == 3
	IF GETBIT(ダンジョンフラグ:47:(FLAG:現M+75), LOCAL:3)
		DA:(ARG:1):(ARG:2) = 1
	ELSE
		DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:3 * 10 + 3
	ENDIF
	LOCAL:3++
ENDIF
;イベント扉
IF ARG == 12
	DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:2 * 10 + 2
	LOCAL:2++
ENDIF
IF ARG == 4
	DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:4 * 10 + 4
	LOCAL:4++
	SELECTCASE DA:(ARG:1):(ARG:2) / 10
		;ハニエル
		CASE 200
			SIF ダンジョンフラグ:(FLAG:現ダンジョン):1 == -1
				DA:(ARG:1):(ARG:2) = 1
	ENDSELECT
ENDIF
IF ARG == 6
	DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:6 * 100 + 6
	LOCAL:6++
ENDIF
IF ARG == 7
	DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:7 * 100 + 7
	LOCAL:7++
ENDIF
IF ARG == 8
	DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:8 * 10 + 8
	LOCAL:8++
	SELECTCASE DA:(ARG:1):(ARG:2) / 10
	ENDSELECT
ENDIF
IF ARG == 9
	DA:(ARG:1):(ARG:2) = FLAG:現M *1000 + LOCAL:9 * 10 + 9
	LOCAL:9++
	SELECTCASE DA:(ARG:1):(ARG:2) / 10
	ENDSELECT
ENDIF

;=======================================================================
;指定したマスに進入可能か
;=======================================================================
@CAN_ENTER_47,ARG,ARG:1
IF DA:ARG:(ARG:1) % 10 == 2 && DA:ARG:(ARG:1) != 2
	CALL DOOR_47, ARG, ARG:1
	RETURN RESULT
ELSE
	CALL CAN_ENTER,ARG,ARG:1
	RETURN RESULT
ENDIF

;=======================================================================
;タイル定義
;=======================================================================
@DEFINE_TILES_47, ARGS, ARG, ARG:1
SELECTCASE ARGS
	;イベント扉
	CASE "G"
		RETURN 12
	;落とし穴
	CASE "P"
		RETURN 15
	;ダメージ罠はMASTERがLAWの時は設置されない
	;HP罠
	CASE "H"
		IF ABL:MASTER:属性LC == 1
			RETURN 1
		ELSE
			RETURN 25
		ENDIF
	;MP罠
	CASE "M"
		IF ABL:MASTER:属性LC == 1
			RETURN 1
		ELSE
			RETURN 35
		ENDIF
	CASE "a"
		RETURN 16
	CASE "A"
		RETURN 17
	CASE "b"
		RETURN 26
	CASE "B"
		RETURN 27
	CASE "c"
		RETURN 36
	CASE "C"
		RETURN 37
	CASE "d"
		RETURN 46
	CASE "D"
		RETURN 47
	CASE "e"
		RETURN 56
	CASE "E"
		RETURN 57
ENDSELECT

;=======================================================================
;[5]調べる　実行時のイベント
;=======================================================================
@EVENT_CHECK_DUNGEON_47
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) % 10
	;========
	;宝の処理
	;========
	CASE 3
		CALL TREASURE_47
		RETURN 1
	;==========
	;イベントの処理
	;==========
	CASE 4
		CALL EVENT_47
		RETURN 1
	;=======
	;階段
	;=======
	CASE 6, 7
		CALL WORP_47
		RETURN 1
	;=======
	;メッセンジャー
	;=======
	CASE 8
		CALL MESSENGER_47
		RETURN 1
	CASEELSE
		CALL MESSAGE_WINDOW_D, "", "Nothing seems to be here."
		RETURN 1
ENDSELECT
RETURN 1

;=======================================================================
;タイル進入時のイベント
;=======================================================================
@EVENT_ENTER_DUNGEON_47,ARG
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) % 10
	;==========
	;扉の処理
	;==========
	CASE 2
		CALL DUNGEON_DOOR,ARG
		RETURN RESULT
	;========
	;宝の処理
	;========
	CASE 3
		CALL TREASURE_47
		RETURN 1
	;==========
	;イベントの処理
	;==========
	CASE 4
		CALL EVENT_47, ARG
		RETURN 1
	;==========
	;トラップの処理
	;==========
	CASE 5
		CALL TRAP_47
		RETURN RESULT
	;=======
	;階段
	;=======
	CASE 6, 7
		CALL WORP_47
		RETURN 1
	;=======
	;メッセンジャー
	;=======
	CASE 8
		CALL MESSENGER_47, ARG
		RETURN 1
	CASEELSE
		RETURN 0
ENDSELECT
RETURN 1

;=======================================================================
;扉イベント
;=======================================================================
@DOOR_47, ARG, ARG:1
SELECTCASE DA:ARG:(ARG:1) / 10
	;原作でジーザスシリーズがあった扉
	CASE 200, 201, 204, 205
		CALL MESSAGE_WINDOW_D, "", "＞The door is locked."
		RETURN 0
	;ロウヒーローの部屋
	CASE 202
		SIF FLAG:現Y == 9
			RETURN 1
		CALL MESSAGE_WINDOW_D, "", "Around the door/There is a design of angels blessing a saint/Open the door?"
		CALL INPUT_YN_D,"Yes","No"
		SIF RESULT
			RETURN 0
	CASE 203
		;ハニエルが生存していて友好的でない場合は扉が開かない(=ターミナルが使えない)
		IF ダンジョンフラグ:(FLAG:現ダンジョン):1 >= 0 && !ダンジョンフラグ:(FLAG:現ダンジョン):2
			CALL MESSAGE_WINDOW_D, "", "＞The door is closed."
			RETURN 0
		ENDIF
ENDSELECT
RETURN 1
;=======================================================================
;罠
;=======================================================================
@TILE_MARK_COMMON_47_5, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10
	;落とし穴(P)
	CASE 1
		RESULTS = \@GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2 ?　#□\@
	CASEELSE
		RESULTS = \@GET_FLOOR_ANALYZE_T(ARG:1, ARG:2) == 2 ?罠#□\@
ENDSELECT
@TRAP_47
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) / 10
	;落とし穴
	CASE 1
		CALL MESSAGE_WINDOW_D, "", "＞It's a pitfall!"
		TWAIT 1000, 1
		CALL DUNGEON_WORP, FLAG:現M-1, FLAG:現X,  FLAG:現Y
	;HPダメージ(H)
	CASE 2
		CALL DUNGEON_TRAP_HP, 10 + RAND:11
	;MPダメージ(M)
	CASE 3
		CALL DUNGEON_TRAP_MP, 10 + RAND:11
ENDSELECT
RETURN 1


;=======================================================================
;ワープゾーン
;=======================================================================
@TILE_MARK_COMMON_47_6, ARG, ARG:1, ARG:2
SELECTCASE ARG % 100
	CASE 6
		RESULTS = 昇
	CASEELSE
		RESULTS = □
ENDSELECT
@TILE_MARK_COMMON_47_7, ARG, ARG:1, ARG:2
SELECTCASE ARG % 100
	CASE 7
		RESULTS = 降
	CASEELSE
		RESULTS = □
ENDSELECT
@WORP_47
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) % 100
	CASE 6
		CALL DUNGEON_UPSTAIRS_ID, FLAG:現M+1, DA:(FLAG:現X):(FLAG:現Y)+1001
	CASE 7
		CALL DUNGEON_DOWNSTAIRS_ID, FLAG:現M-1, DA:(FLAG:現X):(FLAG:現Y)-1001
	CASEELSE
		IF DA:(FLAG:現X):(FLAG:現Y) % 10 == 6
			CALL MESSAGE_WINDOW_D, "", "＞It's a warp zone!"
			CALL SHOW_PICTURE, "EMPTY"
			CALL DUNGEON_WORP_ID, FLAG:現M, DA:(FLAG:現X):(FLAG:現Y)+1, 1
		ENDIF
ENDSELECT

;=======================================================================
;イベントまとめ
;=======================================================================
@TILE_MARK_COMMON_47_4, ARG, ARG:1, ARG:2
SELECTCASE ARG / 10
	CASE 1
		RESULTS = 出
	CASEELSE
		RESULTS = ！
ENDSELECT
@EVENT_47, ARG
LOCAL = 0
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) / 10
	CASE 0
		CALL MESSAGE_WINDOW_D, "", "＞A saviour's image and title are carved here/＞It depicts a manly youth"
	CASE 1
		CALL DUNGEON_EXIT
	CASE 200
		LOCAL = 0
		SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):1
			;初会話
			CASE 0
				ダンジョンフラグ:(FLAG:現ダンジョン):1 = 1
				CALL MESSAGE_WINDOW_D, "", "＞There is a young man in priestly robes in the room"
				CALL MESSAGE_WINDOW_D, "Young man", "Hello/You are……not a Messian/Apparently、you are a devil summoner？"
				CALL MESSAGE_WINDOW_D, "Young man", "Oh、no need to be so wary/I was not always a Messian/I used to fight in Tokyo as a devil summoner/and lost my life at the hands of a demon"
				CALL MESSAGE_WINDOW_D, "Young man", "However, God expected my power/and brought me back/So the power of a devil summoner is offered to God"
				IF SAVESTR:ロウヒーローネーム == ""
					CALL MESSAGE_WINDOW_D, "Young man", "……Excuse me/I have not introduced myself/I am……"
					$YOSIO_LOOP
					CALL MESSAGE_WINDOW_D, "", "＞Please input the name of the Law Hero of the Messians"
					INPUTS
					SIF RESULTS == ""
						RESULTS = Yoshio
					SAVESTR:ロウヒーローネーム = %RESULTS%
					CALL MESSAGE_WINDOW_D, "", @"「%RESULTS%」 will be his name？"
					CALL INPUT_YN_D
					SIF RESULT
						GOTO YOSIO_LOOP
					$YOSIO_LOOP1
					CALL MESSAGE_WINDOW_D, "", "＞Please input the name of the Law Hero of the Messians"
					INPUTS
					SIF RESULTS == ""
						RESULTS = Yoshio
					SAVESTR:ロウヒーローコールネーム = %RESULTS%
					CALL MESSAGE_WINDOW_D, "", @"「%RESULTS%」 will be his name？"
					CALL INPUT_YN_D
					SIF RESULT
						GOTO YOSIO_LOOP1
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, @"%SAVESTR:ロウヒーローコールネーム%/Thank you in advance"
				ENDIF
				;ハニエル討伐依頼を受けてるか極端なカオス
				IF ダンジョンフラグ:[[ダンジョン:T.D.L.]]:1 == 2 || CFLAG:MASTER:秩混値 < 44
					CALL MESSAGE_WINDOW_D, "Voice", @"%SAVESTR:ロウヒーローコールネーム%……please wait……"
					CALL MESSAGE_WINDOW_D, "", "＞A voice came from above、and an angel descended…"
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "Haniel！"
					CALL MESSAGE_WINDOW_D, "Haniel", "I saw and understood/The soul of this person/has been dyed to the core with chaos/Persuasion will be useless…"
					CALL MESSAGE_WINDOW_D, "Haniel", "Wicked devil summoner/I、Archangel Haniel、/shall send you to Hell！"
					LOCAL = 1
				ELSE
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "復活した僕は/千年王国について/聞かされました/地上に平和をもたらす千年王国……"
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "僕は決心しました/千年王国実現の為/救世主として戦う事を"
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "しかし、悪魔の数は/あまりにおおく/僕1人の力では/手に負えません"
					;すでにエキドナを倒している場合
					IF ダンジョンフラグ:[[ダンジョン:T.D.L.]]:1 == -1
						CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "あなたがエキドナを/倒してくれたということは既に聞いています/ハニエル様！/エキドナを退治してくれた方がきてくださいました！"
						CALL MESSAGE_WINDOW_D, "", @"＞%SAVESTR:ロウヒーローコールネーム%が叫ぶと/天使が舞い降りてきた…"
						CALL MESSAGE_WINDOW_D, "Haniel", "良くやった/人の子よ/まずはこれをとらそう"
						CALL MESSAGE_WINDOW_D, "", "＞￥300000 was obtained"
						MONEY:0 += 300000
						CALL MESSAGE_WINDOW_D, "Haniel", "これからも/神の為、千年王国の為/力を尽くしてくれ/良いな？"
						CALL INPUT_SELECT_D, @"[0] Offer assistance/[1] 断る%\@CFLAG:MASTER:秩混値 < 170?/[2] Challenge to a fight#\@%"
						IF RESULT == 0
							LOCAL = 20
						ELSEIF RESULT == 1
							LOCAL = 21
						ELSE
							CALL MESSAGE_WINDOW_D, "Haniel", "Are you rebelling against God!?/I archacngel Haniel/will send you to hell！"
							LOCAL = 1
						ENDIF
					ELSE
						CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "どうやらあなたにもまた大きな力があるご様子/そんなあなたにたのみがあります"
						CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "東京デスティニーランドに住み着いた邪神 エキドナが/カテドラルの建設を妨害し/破壊しようとしているのです/邪神 エキドナを倒してきてくれませんか"
						CALL INPUT_SELECT_D, @"[0] ひきうける/[1] 断る%\@CFLAG:MASTER:秩混値 < 170?/[2] Challenge to a fight#\@%%\@(ダンジョンフラグ:20:6 && !ダンジョンフラグ:20:0) ?/[3] ギンザ大地下道の扉を開けてもらう#\@%"
						IF RESULT == 0
							LOCAL = 10
						ELSEIF RESULT == 1
							LOCAL = 11
						ELSEIF RESULT == 2
							CALL MESSAGE_WINDOW_D, "Voice", @"%SAVESTR:ロウヒーローコールネーム%よ……/説得は無駄なようだな……"
							CALL MESSAGE_WINDOW_D, "", "＞天から声が響き、天使が舞い降りてきた…"
							CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "Haniel！"
							CALL MESSAGE_WINDOW_D, "Haniel", "邪悪な悪魔使いよ/この天使 ハニエルみずから/地獄へ送ってやろう！"
							LOCAL = 1
						ELSE
							LOCAL = 9
						ENDIF
					ENDIF
				ENDIF
			;エキドナ保留中
			CASE 1
				;すでにエキドナを倒している場合
				IF ダンジョンフラグ:[[ダンジョン:T.D.L.]]:1 == -1
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "エキドナを倒したのですね/ハニエル様！/やはり、やってくれましたよ！"
					CALL MESSAGE_WINDOW_D, "", @"＞%SAVESTR:ロウヒーローコールネーム%が叫ぶと/天使が舞い降りてきた…"
					CALL MESSAGE_WINDOW_D, "Haniel", "良くやった/人の子よ/まずはこれをとらそう"
					CALL MESSAGE_WINDOW_D, "", "＞￥300000 was obtained"
					MONEY:0 += 300000
					CALL MESSAGE_WINDOW_D, "Haniel", "これからも/神の為、千年王国の為/力を尽くしてくれ/良いな？"
					CALL INPUT_SELECT_D, @"[0] Offer assistance/[1] 断る%\@CFLAG:MASTER:秩混値 < 170?/[2] Challenge to a fight#\@%"
					IF RESULT == 0
						LOCAL = 20
					ELSEIF RESULT == 1
						LOCAL = 21
					ELSE
						CALL MESSAGE_WINDOW_D, "Haniel", "なんと神に弓引くと言うか！/ならばこの天使 ハニエルみずから/地獄へ送ってやろう！"
						LOCAL = 1
					ENDIF
				ELSE
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "きてくださいましたか/ということは邪神 エキドナと戦う決心がついたのですね？"
					CALL INPUT_SELECT_D, @"[0] ひきうける/[1] 断る%\@CFLAG:MASTER:秩混値 < 170?/[2] Challenge to a fight#\@%%\@(ダンジョンフラグ:20:6 && !ダンジョンフラグ:20:0) ?/[3] ギンザ大地下道の扉を開けてもらう#\@%"
					IF RESULT == 0
						LOCAL = 10
					ELSEIF RESULT == 1
						LOCAL = 11
					ELSEIF RESULT == 2
						CALL MESSAGE_WINDOW_D, "Voice", @"%SAVESTR:ロウヒーローコールネーム%よ……/説得は無駄なようだな……"
						CALL MESSAGE_WINDOW_D, "", "＞天から声が響き、天使が舞い降りてきた…"
						CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "Haniel！"
						CALL MESSAGE_WINDOW_D, "Haniel", "邪悪な悪魔使いよ/この天使 ハニエルみずから/地獄へ送ってやろう！"
						LOCAL = 1
					ELSE
						LOCAL = 9
					ENDIF
				ENDIF
			;エキドナ承諾
			CASE 2
				;すでにエキドナを倒している場合
				IF ダンジョンフラグ:[[ダンジョン:T.D.L.]]:1 == -1
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "エキドナを倒したのですね/ハニエル様！/例の悪魔使いの方がやってくれましたよ！"
					CALL MESSAGE_WINDOW_D, "", @"＞%SAVESTR:ロウヒーローコールネーム%が叫ぶと/天使が舞い降りてきた…"
					CALL MESSAGE_WINDOW_D, "Haniel", "良くやった/人の子よ/まずはこれをとらそう"
					CALL MESSAGE_WINDOW_D, "", "＞￥300000 was obtained"
					MONEY:0 += 300000
					CALL MESSAGE_WINDOW_D, "Haniel", "これからも/神の為、千年王国の為/力を尽くしてくれ/良いな？"
					CALL INPUT_SELECT_D, @"[0] Offer assistance/[1] 断る%\@CFLAG:MASTER:秩混値 < 170?/[2] Challenge to a fight#\@%"
					IF RESULT == 0
						LOCAL = 20
					ELSEIF RESULT == 1
						LOCAL = 21
					ELSE
						CALL MESSAGE_WINDOW_D, "Haniel", "なんと神に弓引くと言うか！/ならばこの天使 ハニエルみずから/地獄へ送ってやろう！"
						LOCAL = 1
					ENDIF
				ELSE
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "はやくエキドナを倒してください/カテドラルが破壊されたら/取り返しのつかない事になります"
				ENDIF
			;カテドラル防衛保留
			CASE 3
				CALL MESSAGE_WINDOW_D, "Haniel", "人の子よ/神の為、千年王国の為/力を尽くすのだ/良いな？"
				CALL INPUT_SELECT_D, @"[0] Offer assistance/[1] 断る%\@CFLAG:MASTER:秩混値 < 170?/[2] Challenge to a fight#\@%"
				IF RESULT == 0
					LOCAL = 20
				ELSEIF RESULT == 1
					LOCAL = 21
				ELSE
					CALL MESSAGE_WINDOW_D, "Haniel", "なんと神に弓引くと言うか！/ならばこの天使 ハニエルみずから/地獄へ送ってやろう！"
					LOCAL = 1
				ENDIF
			;カテドラル侵攻受諾
			CASE 4
				CALL MESSAGE_WINDOW_D, "Haniel", "急ぎカテドラルに向かうのだ/ガイア教徒の好きにさせてはならぬぞ"
		ENDSELECT
		;前ブロックでのLOCALの内容で分岐する
		SELECTCASE LOCAL
			;戦闘イベント
			CASE 1
				FLAG:逃走不可フラグ = 1
				FLAG:会話不能フラグ = 1
				FLAG:先制不意打ちキャンセル = 1
				CALL SET_HANIEL
				CALL MESSAGE_WINDOW_D, "", "＞Divine Haniel appeared!"
				;天使 ハニエルが一体出た！"
				CALL BATTLE_START
				FLAG:逃走不可フラグ = 0
				FLAG:会話不能フラグ = 0
				FLAG:先制不意打ちキャンセル = 0
				CALL MESSAGE_WINDOW_D, "", "＞Divine Haniel was defeated."
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "What was that……/To defeat Haniel/You have been/Misusing your power"
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "If this continues/You will someday fall into ruin"
				CALL MESSAGE_WINDOW_D, , @"%SAVESTR:ロウヒーローコールネーム% spoke as he left"
				;品川友好フラグ
				ダンジョンフラグ:(FLAG:現ダンジョン):2 = 0
				;品川進行フラグ
				ダンジョンフラグ:(FLAG:現ダンジョン):1 = -1
			CASE 9
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "Do you want to go to the cathedral？/ならばまずは邪神 エキドナを倒してください/そうすればハニエル様は/きっと願いを叶えてくれるでしょう"
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "邪神 エキドナを倒す役目/引き受けてくれますね？"
				CALL INPUT_YN_D
				IF RESULT == 0
					GOTO YES
				ELSE
					GOTO NO
				ENDIF
			CASE 10
				$YES
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "そうですか/引き受けてくれるんですか/ありがとうございました"
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "あなたはまだ/悪魔に魂を/売り渡していなかったんですね"
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "でしたらこれを持って行ってください/きっとお役に立つでしょう"
				CALL MESSAGE_WINDOW_D, "", @"＞￥100000 was obtained%\@ABL:MASTER:属性LC == 1 ? /＞Sonic Blade was obtained/＞法の衣 was obtained #\@%"
				MONEY += 100000
				;ロウのときはSonic Bladeと法の衣もついてくる
				IF ABL:MASTER:属性LC == 1
					CALL GET_ITEMS, "Sonic Blade", 1
					CALL GET_ITEMS, "法の衣", 1
				ENDIF
				ダンジョンフラグ:(FLAG:現ダンジョン):1 = 2
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "それでは頼みましたよ"
			;エキドナ拒否
			CASE 11
				$NO
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "そうですか……/気がかわったら/またここへ来てください"
				ダンジョンフラグ:(FLAG:現ダンジョン):1 = 1
			;カテドラル防衛受諾
			CASE 20
				CALL MESSAGE_WINDOW_D, "Haniel", "Then go to the cathedral/And go to the basement of Ginza"
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "良かったですね/ハニエル様もおよろこびです"
				;ロウの場合はここでJesus Helmをもらえる
				IF ABL:MASTER:属性LC == 1
					CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "今のあなたならこれを使えるでしょう/持って行ってください"
					CALL MESSAGE_WINDOW_D, "", "＞Jesus Helm was obtained"
					CALL GET_ITEMS, "Jesus Helm", 1
				ENDIF
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "ではまた会いましょう"
				;品川友好フラグ
				ダンジョンフラグ:(FLAG:現ダンジョン):2 = 1
				;品川進行フラグ
				ダンジョンフラグ:(FLAG:現ダンジョン):1 = 4
				ダンジョンフラグ:20:0 |= 1
			;カテドラル防衛拒否
			CASE 21
				CALL MESSAGE_WINDOW_D, "Haniel", "神の為に戦う事をこばむのか？/その様な事が許されると思っているのか！"
				CALL MESSAGE_WINDOW_D, SAVESTR:ロウヒーローコールネーム, "ハニエル様、お待ちください/この人はまだ自分の運命に気づいていないだけでしょう/すぐに神のために戦わねばらないことにきづくはずです"
				CALL MESSAGE_WINDOW_D, "Haniel", "………/よかろう/少し考える時間をやる/己の義務に気づいたらまた来るが良い"
				ダンジョンフラグ:(FLAG:現ダンジョン):1 = 3
		ENDSELECT
ENDSELECT
;イベント後はMAP生成を行い、タイルを更新しておく
CALL MAKE_FLOOR, FLAG:現ダンジョン
@TILE_MARK_COMMON_47_8, ARG, ARG:1, ARG:2
SETCOLOR 0x00ff00
RESULTS = ｍ
@MESSENGER_47, ARG
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) / 10
	CASE 0
		SIF ARG
			RETURN 0
		CALL MESSAGE_WINDOW_D, "Messian follower", "We destroy the demons/We must save this country/We must not regret any sacrifice"
	CASE 1
		CALL MESSAGE_WINDOW_D, "Temple Knight", "A newcomer？/I do not recognize you/I hear a defense base will be moved into the cathedral soon/The final battle will be there"
	CASE 2
		CALL MESSAGE_WINDOW_D, "Messian follower", "God has given us a Messiah at last/He saw our suffering/and gave us a helping hand"
	CASE 3
		IF ダンジョンフラグ:(FLAG:現ダンジョン):1 == -1
			CALL MESSAGE_WINDOW_D, "Messian follower", "It is sad news/Archangel Haniel has been defeated/An evil devil summoner has defeated Archangel Haniel"
			CALL MESSAGE_WINDOW_D, "Messian follower", "What a terrible thing to do/The wrath of Heaven will fall on this devil summoner"
		;エキドナ撃破済み
		ELSEIF ダンジョンフラグ:[[ダンジョン:T.D.L.]]:1 == -1
			CALL MESSAGE_WINDOW_D, "Messian follower", "Settled in Easter Tokyo/Evil god Echidna has been exterminated/The savior has done it/God will be pleased"
		ELSE
			CALL MESSAGE_WINDOW_D, "Messian follower", "An evil god name Echidna is in Eastern Tokyo/I'm staying here to avoid trouble"
		ENDIF
	CASE 4
		SIF ARG
			RETURN 0
		CALL MESSAGE_WINDOW_D, "Messian follower", "If the cathedral is completed/The demons and Gaeans/will not be enough"
	CASE 5
		CALL MESSAGE_WINDOW_D, "Messian follower", "There is an image of a savior here in Shinagawa/The Messiah throws away his life to help the people/He has once been called to God"
		CALL MESSAGE_WINDOW_D, "Messian follower", "And revived as a savior/he is sent to this place"		
	CASE 6
		;説法　主人だけでなく仲魔のALIも変動する
		CALL MESSAGE_WINDOW_D, "Messian Priest", "My heart and mind are dedicated to God/God desires the power of those who believe"
		IF ダンジョンフラグ:(FLAG:現ダンジョン):11++ == 0
			CALL MESSAGE_WINDOW_D, "", "＞Listen to the sermon？"
			CALL INPUT_YN_D,"Yes","No"
			SIF RESULT
				RETURN 0
			CALL INCREASE_LC, 1
			FOR LOCAL, 1, 7
				;主人はとばす
				SIF POS(LOCAL) == MASTER
					CONTINUE
				;存在しない場所はとばす
				SIF POS(LOCAL) < 0
					CONTINUE
				;行動不能なキャラは除外
				SIF !INPUTABLEF_CHARA(POS(LOCAL))
					CONTINUE
				CALL CHANGE_CHARA_LC, POS(LOCAL), 255, 4
			NEXT
			CALL MESSAGE_WINDOW_D, "Messian Priest", "To complete the cathedral/Give all power to God/And now work for God"
			CALL MESSAGE_WINDOW_D, "", "＞Listen to the sermon？"
			CALL INPUT_YN_D,"Yes","No"
			SIF RESULT
				RETURN 0
			;説教は主人が1、仲魔が4だけLAWに寄る
			CALL INCREASE_LC, 1
			FOR LOCAL, 1, 7
				;主人はとばす
				SIF POS(LOCAL) == MASTER
					CONTINUE
				;存在しない場所はとばす
				SIF POS(LOCAL) < 0
					CONTINUE
				;行動不能なキャラは除外
				SIF !INPUTABLEF_CHARA(POS(LOCAL))
					CONTINUE
				CALL CHANGE_CHARA_LC, POS(LOCAL), 255, 4
			NEXT
			CALL MESSAGE_WINDOW_D, "Messian Priest", "When the cathedral is complete/God will stand there/And the Millenial Kingdom will begin"
			CALL MESSAGE_WINDOW_D, "Messian Priest", "Those who give power to God/shall certainly be repaid"
			CALL MESSAGE_WINDOW_D, "", "＞Listen to the sermon？"
			CALL INPUT_YN_D,"Yes","No"
			SIF RESULT
				RETURN 0
			CALL INCREASE_LC, 1
			FOR LOCAL, 1, 7
				;主人はとばす
				SIF POS(LOCAL) == MASTER
					CONTINUE
				;存在しない場所はとばす
				SIF POS(LOCAL) < 0
					CONTINUE
				;行動不能なキャラは除外
				SIF !INPUTABLEF_CHARA(POS(LOCAL))
					CONTINUE
				CALL CHANGE_CHARA_LC, POS(LOCAL), 255, 4
			NEXT
			CALL MESSAGE_WINDOW_D, "Messian Priest", "Come now, to the cathedral/Let us work together！"
		ENDIF
	CASE 7
		CALL MESSAGE_WINDOW_D, "Woman", "My husband still goes to the cathedral/He hasn't come home/I'm worried about his health/"
	CASE 8
		SIF ARG
			RETURN 0
		CALL MESSAGE_WINDOW_D, "Temple Knight", "There are rumors that the Mantra Army in Ikebukuro is on the move/They are working with the Gaean and are enemies of God/This town is safe, but do not leave"
	CASE 9
		CALL MESSAGE_WINDOW_D, "Old man", "I currently can't go directly to Tokyo/Can I use a terminal for that…/Because various groups are monopolizing them/public transportation has become pitiful…"
	CASEELSE
ENDSELECT
RETURN 1
;=======================================================================
;宝箱まとめ
;=======================================================================
@TREASURE_47
#LOCALSIZE 1
#LOCALSSIZE 3
;個数,-1のとき、魔貨・0の時、\となる
LOCAL = 1
;IDは現M*100＋X個目の宝箱の法則でふられている
SELECTCASE DA:(FLAG:現X):(FLAG:現Y) / 10
	CASE 0
		LOCALS = Dis-Poison
		LOCAL = 2
	CASE 1
		LOCALS = Life stone
		LOCAL = 2
	CASE 2
		LOCALS = Bead
		LOCAL = 1
	CASE 100
		LOCALS = MAG
		LOCAL = 30000
	CASE 101
		LOCALS = ＨＰ
		LOCAL = 25
	CASE 102
		LOCALS = TetrajaStone
		LOCAL = 1
	CASE 103
		LOCALS = BalmOfLife
		LOCAL = 1
	CASE 104
		LOCALS = 魔貨
		LOCAL = 200
	CASE 105
		LOCALS = ＨＰ
		LOCAL = 25
	CASE 106
		LOCALS = ＨＰ
		LOCAL = 25
	CASE 107
		LOCALS = 施餓鬼米
		LOCAL = 1
	CASE 108
		LOCALS = NapalmBomb
		LOCAL = 2
	CASE 300
		LOCALS = 施餓鬼米
		LOCAL = 1
	CASE 301
		LOCALS = InIncense
		LOCAL = 1
	CASE 302
		LOCALS = MaIncense
		LOCAL = 1
ENDSELECT
IF LOCALS == "￥"
	CALL GET_TREASURE_MONEY, 0, LOCAL, FLAG:現ダンジョン, FLAG:現M + 75, (DA:(FLAG:現X):(FLAG:現Y) / 10) % 100
ELSEIF LOCALS == "魔貨"
	CALL GET_TREASURE_MONEY, 1, LOCAL, FLAG:現ダンジョン, FLAG:現M + 75, (DA:(FLAG:現X):(FLAG:現Y) / 10) % 100
ELSEIF LOCALS == "MAG" || LOCALS == "ＭＡＧ"
	CALL GET_TREASURE_MAG, 0, LOCAL, FLAG:現ダンジョン, FLAG:現M + 75, (DA:(FLAG:現X):(FLAG:現Y) / 10) % 100
ELSEIF LOCALS == "ＨＰ" || LOCALS == "ＭＰ" || LOCALS == "POISON" || LOCALS == "PALYZE"
	;LOCALS:1 種類 LOCAL ダメージ量or確率 LOCALS:2 相性
	CALL GET_TREASURE_TRAP, LOCALS, LOCAL, GET_TYPE_NUM(LOCALS:1), FLAG:現ダンジョン, FLAG:現M + 75, (DA:(FLAG:現X):(FLAG:現Y) / 10) % 100
ELSE
	IF GETNUM(ITEM, LOCALS) == -1
		PRINTL ＞The designated item name is invalid
		PRINTW ＞Item acquisition stopped
	ELSE
		CALL GET_TREASURE, GETNUM(ITEM, LOCALS), LOCAL , FLAG:現ダンジョン, FLAG:現M + 75, (DA:(FLAG:現X):(FLAG:現Y) / 10) % 100
	ENDIF
ENDIF

;=======================================================================
;エンカウント率
;=======================================================================
@ENCOUNT_RATE_47
FLAG:エンカウント率 = ダンジョンフラグ:(FLAG:現ダンジョン):2 ? 0 # MAX((FLAG:未遭遇歩数 - 5) * 5, 0)
;=======================================================================
;必要レベル目安
;推奨LV 雑魚最低LV 雑魚最高LV ボスLV 
;=======================================================================
@GET_DUNGEON_LV_47
RETURN 46, 43, 49, 56
;=======================================================================
;エンカウント処理
;=======================================================================
@CHECK_ENCOUNT_47
;友好フラグが立っているときはエンカウントしない
SIF ダンジョンフラグ:(FLAG:現ダンジョン):2
	RETURN 0
IF RAND:100 < FLAG:エンカウント率
	CALL ENEMY_TABLE
	RETURN 1
ELSE
	FLAG:未遭遇歩数 += 1
	RETURN 0
ENDIF
;=======================================================================
;敵の種族の種類数
;=======================================================================
@CLASS_NUM_47
SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):0
	CASE 1
		RETURN CLASS_NUM_COMMON("中級")
	CASE 2
		RETURN CLASS_NUM_COMMON("上級")
	CASE 3,4
		RETURN CLASS_NUM_COMMON("最上級")
ENDSELECT
;=======================================================================
;敵の総数
;ARGは出現する敵の種類です
;=======================================================================
@ENEMY_NUM_47, ARG
SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):0
	CASE 1
		RETURN CLASS_NUM_COMMON("中級")
	CASE 2
		RETURN CLASS_NUM_COMMON("上級")
	CASE 3,4
		RETURN CLASS_NUM_COMMON("最上級")
ENDSELECT
;=======================================================================
;敵の種類
;=======================================================================
@ENEMY_47, ARG
SELECTCASE RAND:100
	CASE IS < 20
		RETURN [[キャラ:ラビ]], 25 + RAND:2 * 3 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
	CASE IS < 40
		RETURN [[キャラ:テンプルナイト]], 29 + RAND:2 * 3 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
	;狂信者は2枠で出やすい
	CASE IS < 55
		RETURN [[キャラ:狂信者]], 25 + RAND:2 * 3 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
	CASE IS < 70
		RETURN [[キャラ:狂信者]], 25 + RAND:2 * 3 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
	CASEELSE
		SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):0
			CASE 1
				IF !RAND:3
					RETURN [[キャラ:ハルワタート]], 30 + RAND:2 * 3
				ELSEIF RAND:2
					RETURN [[キャラ:アムルタート]], 34 + RAND:2 * 3
				ELSE
					RETURN [[キャラ:プリンシパリティ]], 31 + RAND:2 * 3
				ENDIF
			CASE 2
				IF !RAND:3
					RETURN [[キャラ:ハルワタート]], 37 + RAND:2 * 3
				ELSEIF RAND:2
					RETURN [[キャラ:アムルタート]], 41 + RAND:2 * 3
				ELSE
					RETURN [[キャラ:パワー]], 40 + RAND:2 * 3
				ENDIF
			CASE 3
				IF !RAND:3
					RETURN [[キャラ:アムルタート]], 44 + RAND:2 * 3
				ELSEIF RAND:2
					RETURN [[キャラ:アールマティ]], 48 + RAND:2 * 3
				ELSE
					RETURN [[キャラ:パワー]], 45 + RAND:2 * 3
				ENDIF
			CASE 4
				IF !RAND:3
					RETURN [[キャラ:アールマティ]], 53 + RAND:2 * 3
				ELSEIF RAND:2
					RETURN [[キャラ:ヴァーチャー]], 54 + RAND:2 * 3
				ELSE
					RETURN [[キャラ:ドミニオン]], 53 + RAND:2 * 3
				ENDIF
		ENDSELECT
ENDSELECT
@SET_ENEMY_STATUS_47, ARG
SELECTCASE NO:ARG
	CASE [[キャラ:テンプルナイト]]
		;デフォはザンマ・マカジャマ・連続撃ち・回し蹴り
		SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):0
			CASE 2
				ABL:ARG:スキル1 = [[スキル:ザンダイン]]
				ABL:ARG:スキル4 = [[スキル:剛切断]]
			CASE 3
				ABL:ARG:スキル1 = [[スキル:ザンダイン]]
				ABL:ARG:スキル4 = [[スキル:ツインスラッシュ]]
			CASE 4
				ABL:ARG:スキル1 = [[スキル:ザンダイン]]
				ABL:ARG:スキル4 = [[スキル:デスバウンド]]
		ENDSELECT
	CASE [[キャラ:狂信者]]
		;デフォはメディア・ショートジャブ
		SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):0
			CASE 2
				ABL:ARG:スキル1 = [[スキル:メ・ディアラマ]]
				ABL:ARG:スキル3 = [[スキル:暴れまくり]]
			CASE 3
				ABL:ARG:スキル1 = [[スキル:メ・ディアラマ]]
				ABL:ARG:スキル3 = [[スキル:自爆]]
			CASE 4
				ABL:ARG:スキル1 = [[スキル:メ・ディアラマ]]
				ABL:ARG:スキル3 = [[スキル:玉砕破]]
		ENDSELECT
	CASE [[キャラ:ラビ]]
		;デフォはジオンガ・ハンマ・連続撃ち・マリンカリン・テンタラフー
		SELECTCASE ダンジョンフラグ:(FLAG:現ダンジョン):0
			CASE 3
				ABL:ARG:スキル1 = [[スキル:ジオダイン]]
				ABL:ARG:スキル2 = [[スキル:ハマオン]]
			CASE 4
				ABL:ARG:スキル1 = [[スキル:破戒の稲妻]]
				ABL:ARG:スキル2 = [[スキル:ハマオン]]
		ENDSELECT
ENDSELECT
;=======================================================================
;輪姦参加悪魔
;=======================================================================
@DUNGEON_RAPE_DEVIL_47
;ランダムにどの悪魔が出るか決定
;RETURN CSV番号 , 人数 , レベル
SELECTCASE RAND:3
	CASE 0
		RETURN [[キャラ:狂信者]] , 3 + RAND:10 , 25 + RAND:2 * 3 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
	CASE 1
		RETURN [[キャラ:テンプルナイト]] , 3 + RAND:10 , 29 + RAND:2 * 3 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
	CASE 2
		SELECTCASE  ダンジョンフラグ:(FLAG:現ダンジョン):0
			CASE 1
				RETURN [[キャラ:プリンシパリティ]] , 3 + RAND:10 , 31 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
			CASE 2,3
				RETURN [[キャラ:パワー]] , 3 + RAND:10 , 31 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
			CASE 4
				RETURN [[キャラ:ドミニオン]] , 3 + RAND:10 , 31 + ダンジョンフラグ:(FLAG:現ダンジョン):0 * 7
		ENDSELECT
ENDSELECT

@SET_HANIEL
CALL SET_ENEMY,9,309,56,0,1
ABL:(CHARANUM-1):スキル1 = 2002
ABL:(CHARANUM-1):スキル4 = 402
CFLAG:(CHARANUM-1):行動回数 = 2
CFLAG:(CHARANUM-1):ＨＰ補正 += 2000
CFLAG:(CHARANUM-1):ＭＰ補正 += 9000

;=======================================================================
;スタート時イベント
;=======================================================================
;@EVENT_DUNGEON_START_47
;IF ダンジョンフラグ:47:10 == 0
;	IF FINDCHARA_B(4501,1) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
;		PRINTFORMW 「ここ品川はメシア教の本拠地なの」
;		PRINTFORMW 「この地を束ねるのが大天使ハニエル様よ」
;		PRINTFORMW 「とても強く神の威光を体現する天使様だと私は聞いているわ」
;	ENDIF
;	PRINTFORML 
;	IF ダンジョンフラグ:46:2 == 1
;		PRINTFORM 新宿のパズスの言葉に導かれ
;	ELSEIF ダンジョンフラグ:46:90 == 1
;		PRINTFORM 新宿のヒロコの言葉に導かれ
;	ENDIF
;	PRINTFORMW あなたはメシア教の本拠地品川を訪れた
;	IF ダンジョンフラグ:20:6 == 1
;		PRINTFORMW そして、ギンザ大地下道で得たカテドラルへの鍵を握るという悪魔の情報
;		PRINTFORMW ここ品川にカテドラルへの鍵の一つであるハニエルがいるらしい
;	ENDIF
;	PRINTFORMW 為さねばならない事は多いが、メシア教はファントム・ソサエティに対してけして好意的ではない
;	PRINTFORMW 不用意にメシア教を刺激をする事は組織そのものに対しても不利益になる
;	PRINTFORMW 準備は万全だろうか？
;	PRINTFORMW 慎重を期すに越したことはないのだから…
;	ダンジョンフラグ:47:10 = 1
;
;エキドナ討伐を受けている
;ELSEIF ダンジョンフラグ:47:20 == 1
;	ダンジョンフラグ:47:20 = 2
;ENDIF
;;=======================================================================
;;イベントまとめ
;;=======================================================================
;@EVENTING_CALLING_47
;SELECTCASE FLAG:現M
;	CASE 0
;		IF FLAG:現X == 7 && FLAG:現Y == 15 && ダンジョンフラグ:47:10 == 0
;			PRINTFORML ＞メシア教徒がいる
;			IF RAND:2 == 0
;				PRINTFORML 「我々の手で悪魔を滅ぼしこの国を救わねばならない」
;				PRINTFORMW 「その為にはどんな犠牲も惜しんではならないのだ」
;			ELSE
;				PRINTFORML 「やがて神による裁きの火が世界を焼くだろう」
;				PRINTFORMW 「選ばれしメシア教徒だけが生き残れるのだ」
;			ENDIF
;			;ダンジョンフラグ:47:10 = 1
;
;		ELSEIF FLAG:現X == 9 && FLAG:現Y == 9 && ダンジョンフラグ:47:11 == 0
;			PRINTFORML ＞凛々しい青年の像がある
;		IF FINDCHARA_B(4501,1) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛) && ダンジョンフラグ:47:11 == 0
;				PRINTFORMW 「これは救世主の像よ」
;				IF TALENT:MASTER:140 == 1 && TALENT:MASTER:147 == 0
;					PRINTFORMW 「貴方に似ていないかしら？」
;				ELSE
;					PRINTFORMW 「貴方に似てはいないけれど、貴方こそが本物の救世主よ」
;				ENDIF
;				;ダンジョンフラグ:47:11 = 1
;			ELSE
;				PRINTFORMW 救世主の像と題名が彫られている
;			ENDIF
;			;ダンジョンフラグ:47:11 = 1
;
;		ELSEIF FLAG:現X == 13 && FLAG:現Y == 17 && ダンジョンフラグ:47:12 == 0
;			PRINTFORML ＞テンプルナイトがいる
;			IF FINDCHARA_B(4501,0) == 2 || FINDCHARA_B(4501,1) == 2 && ダンジョンフラグ:47:12 == 0
;				PRINTFORML 「新入りか？　見かけない顔だな」
;				PRINTFORMW 「近いうちに防衛拠点をカテドラルへ移すそうだ」
;				PRINTFORMW 「そこが最後の決戦の地になるだろう」
;				;ダンジョンフラグ:47:12 = 1
;			ELSE
;				PRINTFORML 「池袋のマントラ軍がいよいよ動くと言う噂が流れている」
;				PRINTFORMW 「この街は安全だが町の外に出ないようにな」
;			ENDIF
;			;ダンジョンフラグ:47:12 = 1
;
;		ELSEIF FLAG:現X == 16 && FLAG:現Y == 9 && ダンジョンフラグ:47:13 == 0
;			PRINTFORML ＞メシア教のシスターがいる
;			IF FINDCHARA_B(4501,0) == 2 || FINDCHARA_B(4501,1) == 2 && ダンジョンフラグ:47:13 == 0
;				PRINTFORML 「神に選ばれた者はセンターに行く権利を得ます」
;				PRINTFORMW 「やがて来る審判の日を生き残れるのはセンター市民だけになるでしょう」
;				;ダンジョンフラグ:47:13 = 1
;			ELSE
;				PRINTFORML 「神は我々を見ています」
;				PRINTFORMW 「日々の行動の積み重ねが貴方の未来を決めるでしょう」
;			ENDIF
;			;ダンジョンフラグ:47:13 = 1
;		ENDIF
;
;	CASE 1
;		IF FLAG:現X == 8 && FLAG:現Y == 8 && ダンジョンフラグ:47:14 == 0
;			PRINTFORML ＞メシア教の司祭がいる
;			IF RAND:2 == 0
;				PRINTFORML 「いいですか」
;				PRINTFORMW 「殴っていいのはガイア教徒と悪魔だけです」
;				PRINTFORMW 「息の根が絶えるまで彼等を許してはいけません」
;			ELSE
;				PRINTFORML 「かつて…魔王を倒し救世主となった男がいました」
;				PRINTFORMW 「ですが、驕れる彼は神をも恐れず主たる神に刃を向けました」
;				PRINTFORMW 「やがて天命を向かえた彼の魂は転生する事を許されず永遠に彷徨う魂となったそうです」
;				PRINTFORMW 「神に逆らう事は永遠の罪を背負うと言う事、貴方も神に従いなさい」
;			ENDIF
;			CALL INCREASE_LC,1
;			;ダンジョンフラグ:47:14 = 1
;
;		ELSEIF FLAG:現X == 11 && FLAG:現Y == 13 && ダンジョンフラグ:47:15 == 0
;			PRINTFORML ＞若者がいる
;			IF RAND:2 == 0
;				PRINTFORML 「闘技場でチャンピオンになればセンターに行く資格を貰えるんだってさ」
;				PRINTFORMW 「あんたも腕に覚えがあるなら挑戦してみたらどうだい？」
;			ELSE
;				PRINTFORML 「ＴＤＬは知ってるかい？」
;				PRINTFORMW 「アトラクションが沢山あるアミューズメントパークだったんだけどな」
;				PRINTFORMW 「最近では悪魔が住み着いてしまって近寄れなくなっちまってるよ」
;			ENDIF
;			;ダンジョンフラグ:47:15 = 1
;
;		ELSEIF FLAG:現X == 7 && FLAG:現Y == 15 && ダンジョンフラグ:47:16 == 0
;			PRINTFORML ＞老人がいる
;			IF RAND:2 == 0
;				PRINTFORMW 「大戦前に東京に張り巡らされた地下道は様々な場所に繋がっておる」
;			ELSE
;				PRINTFORML 「如何なる道を歩むにせよ、争いの生む結果は争いでしかない」
;				PRINTFORMW 「復讐が復讐を生む、その連鎖に身をおけば人はやがて修羅になってしまうのじゃよ」
;			ENDIF
;			;ダンジョンフラグ:47:16 = 1
;
;		ELSEIF FLAG:現X == 3 && FLAG:現Y == 15 && ダンジョンフラグ:47:17 == 0
;			PRINTFORML ＞メシア教会
;			PRINTFORMW 「迷える子羊よ、どうなさいましたか？」
;			PRINTL
;			IF MONEY:1 >= 500
;				PRINTL [0] 寄付する（一口500魔貨）
;				;PRINTL [1] 寄付する（一口1000魔貨）
;			ENDIF
;			PRINTL [100] 教会を出る
;			$INPUT_LOOP1
;			INPUT
;			IF RESULT == 0
;				PRINTFORML 「ありがとうございます」
;				PRINTFORMW 「あなたにも神のご加護のあらんことを」
;				MONEY:1 -= 500
;				FOR LOCAL, 0, CHARANUM
;					CALL HEALTH_CHARA, LOCAL
;				NEXT
;			;ELSEIF RESULT == 1
;			;	PRINTFORMW あなたは特別なサービスを受けた
;			ELSEIF RESULT == 100
;				RETURN -1
;			ELSE
;				GOTO INPUT_LOOP1
;			ENDIF
;			;ダンジョンフラグ:47:17 = 1
;
;		ELSEIF FLAG:現X == 18 && FLAG:現Y == 17 && ダンジョンフラグ:47:18 == 0
;			PRINTFORML ＞少女がいる
;			PRINTFORMW 「ねぇねぇ知ってる？」
;			IF FINDCHARA_B(4531,0) == 2 || FINDCHARA_B(4531,1) == 2 && ダンジョンフラグ:47:18 == 0
;				PRINTFORML 「アイドルのりせちーが突然引退したらしいよ」
;				PRINTFORMW 「でも、引退後本人を誰も見たことがないんだって」
;				PRINTFORML 「事件に巻き込まれたんじゃないかって噂だよ」
;				PRINTFORMW 「あれ…お姉ちゃん、何処かで見たような…」
;				;ダンジョンフラグ:47:18 = 1
;			ELSE
;				IF RAND:2 == 0
;					PRINTFORML 「アイドルのりせちーが突然引退したらしいよ」
;					PRINTFORMW 「でも、引退後本人を誰も見たことがないんだって」
;					PRINTFORMW 「事件に巻き込まれたんじゃないかって噂だよ」
;					;ダンジョンフラグ:47:18 = 1
;				ELSE
;					PRINTFORML 「この近くにね」
;					PRINTFORMW 「四天王の祠があるんだって」
;					PRINTFORMW 「四天王って強いのかな？」
;				ENDIF
;			ENDIF
;			;ダンジョンフラグ:47:18 = 1
;
;		ELSEIF FLAG:現X == 9 && FLAG:現Y == 6 && ダンジョンフラグ:47:19 == 0
;			PRINTFORML ＞テンプルナイトがいる
;			IF RAND:2 == 0
;				PRINTFORML 「いよいよ、ガイア教との決戦が近い」
;				PRINTFORMW 「ここ品川にもメシア教の総戦力が集結しつつあるよ」
;			ELSE
;				PRINTFORML 「悪魔が此方の世界に来るように」
;				PRINTFORMW 「人間が魔界に行く方法と言うのがあるらしい」
;			ENDIF
;			;ダンジョンフラグ:47:19 = 1
;
;		ENDIF
;	CASE 2
;		IF FLAG:現X == 11 && FLAG:現Y == 9 && ダンジョンフラグ:47:21 == 0
;			PRINTFORML ＞部屋には天使が話しかけてきた
;			IF FINDCHARA_B(4501,1) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
;				PRINTFORMW 「人の子よ、何ゆえにこの地を訪れたのですか？」
;				PRINTFORML 
;				PRINTFORMW ベスが事情を説明した
;				PRINTFORMW 「なるほど…それならば」
;				PRINTFORMW 「私が貴方の邪魔をする理由はありません」
;				CALL DUNGEON_WORP,2,15,11
;			ELSEIF FINDCHARA_B(4541,1) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
;				PRINTFORMW 「人の子よ、何ゆえにこの地を訪れたのですか？」
;				PRINTFORML 
;				PRINTFORMW あなたに代わり直斗が事情を説明した
;				PRINTFORMW 「なるほど…あの御方の御心を受けて行動しておられるのですね」
;				PRINTFORMW 「ガブリエル様に宜しくお伝えください」
;				CALL DUNGEON_WORP,2,15,11
;			ELSE
;				PRINTFORMW 「ここは神聖なる地」
;				PRINTFORMW 「早々に立ち去りなさい」
;				PRINTL
;				PRINTL [0] はい
;				PRINTL [1] いいえ
;				$INPUT_LOOP3
;				INPUT
;				IF RESULT == 0
;					PRINTFORML 
;					PRINTFORML 「解ればよいのです」
;					PRINTFORMW ＞あなたは部屋を出た
;					FLAG:現Y = 11
;				ELSEIF RESULT == 1
;					PRINTL 
;					PRINTW 「従わぬと言うのならば身の程を教えてあげましょう」
;					PRINTL 
;					PRINTL 天使 アールマティが１体現れた！
;					PRINTW 
;					CUSTOMDRAWLINE =
;					WAIT
;					FLAG:逃走不可フラグ = 1
;					FLAG:会話不能フラグ = 1
;					FLAG:先制不意打ちキャンセル = 1
;					CALL SET_ENEMY,9,306,57,0,0
;					CFLAG:(CHARANUM-1):ＨＰ補正 += 500
;					ABL:(CHARANUM-1):スキル1 = 2002
;					ABL:(CHARANUM-1):スキル5 = 10
;					CALL SYNC_STATUS,(CHARANUM-1)
;					CALL HEALTH_CHARA,(CHARANUM-1)
;					CALL BATTLE_START
;					FLAG:逃走不可フラグ = 0
;					FLAG:会話不能フラグ = 0
;					FLAG:先制不意打ちキャンセル = 0
;					CUSTOMDRAWLINE =
;					CALL DUNGEON_WORP,2,15,11
;				ELSE
;					GOTO INPUT_LOOP3
;				ENDIF
;			ENDIF
;			ダンジョンフラグ:47:21 = 1
;		ENDIF
;	CASE 4
;		IF FLAG:現X == 9 && FLAG:現Y == 8 && ダンジョンフラグ:47:20 == 0 && (ダンジョンフラグ:45:10 == 7 || ダンジョンフラグ:45:41 == 2)
;			CUSTOMDRAWLINE =
;			PRINTW 部屋の中には法衣をまとった大司教が待っていた
;			PRINTW 「救世主よ、報われぬ少女の魂を救う為とは言え悪魔と手を組むとは愚かな…」
;			PRINTW 「救うべきものを選ぶのは非情に見えるかもしれませんが」
;			PRINTW 「悪魔と手を組んだあなたは救世主として間違っている」
;			PRINTW 「神の裁きを受けなさい」
;			GOTO HANIERU_01
;
;		ELSEIF FLAG:現X == 9 && FLAG:現Y == 8 && ダンジョンフラグ:47:20 == 0
;			CUSTOMDRAWLINE =
;			PRINTW 部屋の中には法衣をまとった青年が待っていた
;			PRINTW 「あなたが救世主ですね」
;			PRINTW 「僕の名はロウヒーロー、神の力によって命を救われたものです」
;			PRINTW 「あなたに一つ、お願いがあります……」
;			PRINTW 「ここ品川に近いＴＤＬに邪龍エキドナが住み着きました」
;			PRINTW 「討伐してはいただけませんか？」
;			IF FINDCHARA_B(4501,1) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛) && ダンジョンフラグ:46:2 == 0
;				;ベス、あいつは人の話を聞かない奴だったのでＤ/Ｌに足を踏み入れる
;				PRINTFORML 『ロウヒーロー様…討伐はお引き受けします』
;				PRINTFORML 『ですが、その前に私のお話を聞いてください』
;				PRINTFORMW ＞ベスは新宿大聖堂での顛末を語った
;				;茶番劇　善処するとは言ったがその期日までは指定していない
;				;メシア教がその気になればICBMが落ちたあと、30年後でも可能だという事！！
;				PRINTFORML 
;				PRINTFORML 「なるほど…その様な事が」
;				PRINTFORML 「解りました、すぐに調べさせて止めさせる様に善処しましょう」
;				PRINTFORMW ロウヒーローはベスの言葉に強く頷いた
;				PRINTFORML 『ありがとうございます』
;				PRINTFORMW 『救世主様…パズスは間違っていましたが、私はメシア教の全てが道を過っているとは思えません』
;				PRINTFORMW 『どうかお力を貸してはいただけませんか？』
;			ENDIF
;			PRINTL
;			PRINTL [0] はい
;			PRINTL [1] いいえ
;			$INPUT_LOOP2
;			INPUT
;			IF RESULT == 0
;				PRINTFORML 「やはりあなたは救世主の様だ」
;				SIF FINDCHARA_B(4501,1) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
;					PRINTFORMW 『ありがとうございます、救世主様』
;				PRINTFORML 「邪龍エキドナは強力な悪魔です」
;				PRINTFORMW 「大天使ハニエルがあなたの力となりましょう」
;				PRINTFORMW 「然るべき手段でお呼びください」
;				FLAG:10309 = 1
;				ダンジョンフラグ:47:2 = 1
;				;銀座フラグ
;				ダンジョンフラグ:20:0 = 1
;				;他ルートが決まるまでは無効処理の方が良いような…
;				;あいつは人の話を聞かない奴だったのでＤ/Ｌ決定
;				;新宿二箇所でこの世界のLAW勢力が頭おかしいのは見せているつもり…描写が足りないか？
;				FLAG:属性固定LD = 3
;				FLAG:属性固定LC = 1
;				FOR LOCAL, 0, CHARANUM
;					CALL HEALTH_CHARA, LOCAL
;				NEXT
;			ELSEIF RESULT == 1
;				PRINTL 「そうですか、残念です」
;				PRINTW 「やはり…貴方は真の救世主ではないようだ」
;				PRINTL 
;				PRINTL 『偽りの救世主は裁かれねばなりません』
;				PRINTW  天から声が響き沢山の羽を持つ天使が舞い降りて来た
;				PRINTL 
;				PRINTL 「後は任せました…僕はカテドラルに向かいます」
;				PRINTW ＞ロウヒーローは天使に声をかけ部屋を後にしようとした
;				PRINTL 
;				PRINTL 追いかけようとするあなたの行く手を天使が阻む
;				PRINTW 『神の裁きを受けなさい』
;				
;				$HANIERU_01
;				PRINTL 
;				PRINTL 大天使 ハニエルが１体現れた！
;				PRINTW 
;				CUSTOMDRAWLINE =
;				WAIT
;				FLAG:逃走不可フラグ = 1
;				FLAG:会話不能フラグ = 1
;				FLAG:先制不意打ちキャンセル = 1
;				CALL SET_ENEMY,9,309,56,0,1
;				ABL:(CHARANUM-1):スキル1 = 2002
;				ABL:(CHARANUM-1):スキル4 = 402
;				CFLAG:(CHARANUM-1):行動回数 = 2
;				CFLAG:(CHARANUM-1):ＨＰ補正 += 2000
;				CFLAG:(CHARANUM-1):ＭＰ補正 += 9000
;				CALL SYNC_STATUS,(CHARANUM-1)
;				CALL HEALTH_CHARA,(CHARANUM-1)
;				CALL BATTLE_START
;				FLAG:逃走不可フラグ = 0
;				FLAG:会話不能フラグ = 0
;				FLAG:先制不意打ちキャンセル = 0
;				PRINTL 『呪われよ、修羅の道を歩む人の子よ…』 
;				PRINTW 大天使 ハニエルは倒れた…
;				CUSTOMDRAWLINE =
;				;D/Cに大きく傾く、エキドナの依頼を受けたらD/C決定にするか？
;				;ただし、現状だとL/Nアマテラス、D/Lハニエル、D/C人修羅君に俺はなるエキドナルート以外選べない悲劇が生まれるので他のルートも用意したい
;				CALL INCREASE_LD, -50
;				CALL INCREASE_LC, -50
;				ダンジョンフラグ:47:0 = 1
;				ダンジョンフラグ:47:1 = 1
;			ELSE
;				GOTO INPUT_LOOP2
;			ENDIF
;			IF ダンジョンフラグ:47:2 == 1
;				PRINTFORML 
;				PRINTFORM メシア教団からエキドナ討伐の報酬の前払いとして
;				;新宿でパズスを仲魔にした　新宿の報酬未払い分も含めて高めにする
;				IF ダンジョンフラグ:46:2 == 1
;					PRINTFORMW  \150000が振り込まれた
;					MONEY += 150000
;				ELSE
;					PRINTFORMW  \25000が振り込まれた
;					MONEY += 25000
;				ENDIF
;			ELSEIF ダンジョンフラグ:47:1 == 1
;				PRINTFORMW 大天使ハニエルを倒した事でメシア教から指名手配を受けた
;				PRINTFORMW これで品川には近づけなくなった
;				PRINTFORML 
;				PRINTFORMW ＞ハニエルを倒した事でガイア教から賞金\100000が振り込まれた
;				MONEY += 100000
;				FLAG:脱出 = 1
;			ENDIF
;			ダンジョンフラグ:47:20 = 1
;		
;		ELSEIF FLAG:現X == 9 && FLAG:現Y == 8 && ダンジョンフラグ:47:20 == 2
;			PRINTFORML ＞メシア教の大司教がいる
;			PRINTFORMW 「エキドナを討伐してくるのです、救世主よ」
;			;ダンジョンフラグ:47:20 = 3
;		ENDIF
;
;	CASEELSE
;	ENDSELECT
;	RETURN 1
;RETURN 0