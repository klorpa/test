
;=======================================================================
;ボクのおちんちんらんど　ハザマの精神世界
;ボス・魔神皇ハザマ・真
;ダンジョンナンバー44　ＭＡＰ0~4
;軽子坂上層に連結するのが筋とも思ったが、長丁場になりすぎる＆作者が違うので断念
;デバックする時間がないんでそのままリリース
;イベントフラグ関係でエラー出るかも
;帰って来てスレ見て直します
;=======================================================================




;=======================================================================
;攻略条件
;=======================================================================
@PREREQUISITE_DUNGEON_44
;周回済みの場合クリア後でも入れる
;IF FLAG:周回回数 >= 1 && ダンジョンフラグ:44:0 == 1
;	RETURN 1
;レイコPT内　軽子坂上層クリア、貪欲界クリア、精神世界未クリア
;ELSEIF FINDCHARA_B(4508) == 2 && ダンジョンフラグ:7:1 == 1 && ダンジョンフラグ:43:0 == 1 && ダンジョンフラグ:44:0 == 0
IF FINDCHARA_B(4508) == 2 && ダンジョンフラグ:7:1 == 1 && ダンジョンフラグ:43:0 == 1 && ダンジョンフラグ:44:0 == 0
	RETURN 1
ENDIF
RETURN 0

;=======================================================================
;ダンジョン名
;=======================================================================
@GET_DUNGEON_NAME_44
RESULTS = Hazama's Spirit World


;=======================================================================
;フロア名表示
;=======================================================================
@FLOORNAME_44
PRINT Hazama's Spirit World 
SELECTCASE FLAG:現M
	CASE 0
		PRINTL Northwest
	CASE 1
		PRINTL Southwest
	CASE 2
		PRINTL Northeast
	CASE 3
		PRINTL Southeast
	CASEELSE
		PRINTL ???
ENDSELECT


;=======================================================================
;特殊タイル表示
;=======================================================================
@TILE_MARK_44_0_16_3
RESULTS = □
@TILE_MARK_44_0_14_5
RESULTS = □
@TILE_MARK_44_0_7_16
RESULTS = □
@TILE_MARK_44_0_4_12
RESULTS = □
@TILE_MARK_44_0_18_15
RESULTS = □
@TILE_MARK_44_0_15_13
RESULTS = □

@TILE_MARK_44_0_19_8
RESULTS = →
@TILE_MARK_44_0_19_18
RESULTS = →
@TILE_MARK_44_0_11_19
RESULTS = ↓
@TILE_MARK_44_0_13_19
RESULTS = ↓

@TILE_MARK_44_1_11_0
RESULTS = ↑
@TILE_MARK_44_1_13_0
RESULTS = ↑
@TILE_MARK_44_1_1_3
RESULTS = □
@TILE_MARK_44_1_7_12
RESULTS = □
@TILE_MARK_44_1_3_7
RESULTS = □
@TILE_MARK_44_1_8_6
RESULTS = □
@TILE_MARK_44_1_17_6
RESULTS = □

@TILE_MARK_44_2_0_8
RESULTS = ←
@TILE_MARK_44_2_0_16
RESULTS = ←
@TILE_MARK_44_2_5_19
RESULTS = ↓
@TILE_MARK_44_2_7_19
RESULTS = ↓
@TILE_MARK_44_2_9_19
RESULTS = ↓
@TILE_MARK_44_2_11_19
RESULTS = ↓
@TILE_MARK_44_2_15_19
RESULTS = ↓
@TILE_MARK_44_2_9_1
RESULTS = □
@TILE_MARK_44_2_13_1
RESULTS = □
@TILE_MARK_44_2_15_1
RESULTS = □
@TILE_MARK_44_2_13_3
RESULTS = □
@TILE_MARK_44_2_17_3
RESULTS = □

@TILE_MARK_44_2_5_5
RESULTS = □
@TILE_MARK_44_2_17_5
RESULTS = □

@TILE_MARK_44_2_1_11
RESULTS = □
@TILE_MARK_44_2_1_16
RESULTS = □

@TILE_MARK_44_2_18_13
RESULTS = □
@TILE_MARK_44_2_18_18
RESULTS = □


@TILE_MARK_44_3_5_0
RESULTS = ↑
@TILE_MARK_44_3_7_0
RESULTS = ↑
@TILE_MARK_44_3_9_0
RESULTS = ↑
@TILE_MARK_44_3_11_0
RESULTS = ↑
@TILE_MARK_44_3_15_0
RESULTS = ↑

@TILE_MARK_44_3_15_3
IF FINDCHARA_B(4502) == 2 && FINDCHARA_B(4503) == 2 && FINDCHARA_B(4508) == 2 && ダンジョンフラグ:44:0 == 0
	RESULTS = □
ELSE
	RESULTS = ■
ENDIF

@TILE_MARK_44_3_15_5
IF FINDCHARA_B(4502) == 2 && FINDCHARA_B(4503) == 2 && FINDCHARA_B(4508) == 2 && ダンジョンフラグ:44:0 == 0
	RESULTS = □
ELSE
	RESULTS = ■
ENDIF


@TILE_MARK_44_3_11_4
RESULTS = □
@TILE_MARK_44_3_1_6
RESULTS = □

@TILE_MARK_44_3_9_6
RESULTS = □

@TILE_MARK_44_3_1_10
RESULTS = □
@TILE_MARK_44_3_1_12
RESULTS = □


@TILE_MARK_44_4_1_1
RESULTS = □

;=======================================================================
;スタート地点入力
;=======================================================================
@START_DUNGEON_44,ARG
FLAG:現M = 0
FLAG:現X = 3
FLAG:現Y = 9
;CALL AUTOMAP

;=======================================================================
;スタート時イベント
;=======================================================================
@EVENT_DUNGEON_START_44
IF ダンジョンフラグ:44:90 == 0
	IF FLAG:DEBUG 
		PRINTW 『Welcome to Penis Land』
		IF (FINDCHARA_B(4503,0) == 2 || FINDCHARA_B(4503,1) == 2) && (FINDCHARA_B(4508,0) == 2 || FINDCHARA_B(4508,1) == 2)
			PRINTW 『Hey hey』
			PRINTW 『Master, is there any point to this world?』
			PRINT When you entered Hazama's spirit world, girls resembling Takami Uchida and Reiko Akanezawa came out.
		ELSEIF (FINDCHARA_B(4503,0) == 2 || FINDCHARA_B(4503,1) == 2)
			PRINTW 『Hey hey, why are we in this world?』
			PRINT When you entered Hazama's spirit world, a lively girl resembling Tamaki Uchida appeared.
		ELSEIF (FINDCHARA_B(4508,0) == 2 || FINDCHARA_B(4508,1) == 2)
			PRINTW 『Master, is there a point to this world?』
			PRINT When you entered Hazama's spirit world, a clever-looking girl resembling Reiko Akanezawa appeared.
		ENDIF
		PRINTW 『This is the world of the Deity Emperor with the mightiest cock.』
		PRINTL  
		PRINTW Thinking it was a trap by the Deity Emperor, you ignored it.
		PRINTW 「Kuu...do not ignore me!!」
		PRINTW 「W-wait...」
		PRINTW Deity Emperor Hazama suddenly appeared.
		PRINTW Out of pity, you gave him three minutes for a speech.
		PRINTW This spirit world seems to be a part of the Expanse that merged with the heart of Deity Emperor Hazama.
		PRINTW 「Though you are called a trainer, you have no choice but to be prey for the demons that follow my dominating dick.」
		PRINTW 「Wahahaha.」
		PRINTW Deity Emperor Hazam left, followed by the girl from the entrance.
	ELSEIF FINDCHARA_B(4508) == 2
		PRINTL Reiko:
		PRINTW 「I am sorry for keeping silent about this until now...」
		PRINTW 「He is...Hazama is my older brother......」
		IF FINDCHARA_B(4503) == 2
			PRINTL Tamaki:
			PRINTW 『Cheer up』
			PRINTW 『Your voice may still reach him and bring a stop to this.』
			PRINTW Tamaki accepted Reiko's words.
		ELSE
			PRINTW 「I...I have to save my brother......」
		ENDIF
		PRINTW The spirit world of Hazama, where he would fight to the death to protect his ego.
		PRINTW This will be the final battle against Deity Emperor Hazama.......
		PRINTW You take the next steps with determination.
	ENDIF
	ダンジョンフラグ:44:90 = 1
ENDIF
;=======================================================================
;指定したマスに進入可能か
;=======================================================================
@CAN_ENTER_44,ARG,ARG:1
IF FLAG:現M == 0 && ARG == 14 && ARG:1 == 9 && ダンジョンフラグ:44:50 == 0
	ダンジョンフラグ:44:50 = 1
ELSEIF FLAG:現M == 0 && ARG == 15 && ARG:1 == 9 && ダンジョンフラグ:44:51 == 1
	ダンジョンフラグ:44:51 = 0
ELSEIF FLAG:現M == 0 && ARG == 14 && ARG:1 == 10
	IF ダンジョンフラグ:44:50 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:50 == 1
		ダンジョンフラグ:44:50 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 0 && ARG == 16 && ARG:1 == 11 && ダンジョンフラグ:44:51 == 0
	ダンジョンフラグ:44:51 = 1
ELSEIF FLAG:現M == 0 && ARG == 15 && ARG:1 == 11 && ダンジョンフラグ:44:51 == 1
	ダンジョンフラグ:44:51 = 0
ELSEIF FLAG:現M == 0 && ARG == 16 && ARG:1 == 10
	IF ダンジョンフラグ:44:51 == 0
		PRINTW The door is locked
		CLEARLINE 2
		RETURN 0
	ELSEIF ダンジョンフラグ:44:51 == 1
		ダンジョンフラグ:44:51 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 0 && ARG == 11 && ARG:1 == 18 && ダンジョンフラグ:44:52 == 0
	ダンジョンフラグ:44:52 = 1
ELSEIF FLAG:現M == 0 && ARG == 11 && ARG:1 == 17 && ダンジョンフラグ:44:52 == 1
	ダンジョンフラグ:44:52 = 0
ELSEIF FLAG:現M == 1 && ARG == 10 && ARG:1 == 1
	IF ダンジョンフラグ:44:52 == 0
		PRINTW The door is locked
		CLEARLINE 3
		RETURN 0
	ELSEIF ダンジョンフラグ:44:52 == 1
		ダンジョンフラグ:44:52 = 0
		RETURN 1
	ENDIF
ELSEIF FLAG:現M == 1 && ARG == 12 && ARG:1 == 1
	IF ダンジョンフラグ:44:52 == 0
		PRINTW The door is locked
		CLEARLINE 4
		RETURN 0
	ELSEIF ダンジョンフラグ:44:52 == 1
		ダンジョンフラグ:44:52 = 0
		RETURN 1
	ENDIF
ENDIF

IF FLAG:現M == 0 && ARG == 13 && ARG:1 == 16 && ダンジョンフラグ:44:65 == 0
	ダンジョンフラグ:44:65 = 1
ELSEIF FLAG:現M == 0 && ARG == 13 && ARG:1 == 17 && ダンジョンフラグ:44:65 == 1
	ダンジョンフラグ:44:65 = 0
ELSEIF FLAG:現M == 0 && ARG == 13 && ARG:1 == 15
	IF ダンジョンフラグ:44:65 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:65 == 1
		ダンジョンフラグ:44:65 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 2 && ARG == 3 && ARG:1 == 6 && ダンジョンフラグ:44:64 == 0
	ダンジョンフラグ:44:64 = 1
ELSEIF FLAG:現M == 2 && ARG == 3 && ARG:1 == 5 && ダンジョンフラグ:44:64 == 1
	ダンジョンフラグ:44:64 = 0
ELSEIF FLAG:現M == 2 && ARG == 3 && ARG:1 == 7 && ダンジョンフラグ:44:64 == 1
	ダンジョンフラグ:44:64 = 0
ELSEIF FLAG:現M == 2 && ARG == 2 && ARG:1 == 6
	IF ダンジョンフラグ:44:64 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:64 == 1
		ダンジョンフラグ:44:64 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 2 && ARG == 6 && ARG:1 == 10 && ダンジョンフラグ:44:53 == 0
	ダンジョンフラグ:44:53 = 1
ELSEIF FLAG:現M == 2 && ARG == 5 && ARG:1 == 10 && ダンジョンフラグ:44:53 == 1
	ダンジョンフラグ:44:53 = 0
ELSEIF FLAG:現M == 2 && ARG == 7 && ARG:1 == 10
	IF ダンジョンフラグ:44:53 == 0
		PRINTW The door is locked
		CLEARLINE 5
		RETURN 0
	ELSEIF ダンジョンフラグ:44:53 == 1
		ダンジョンフラグ:44:53 = 0
		RETURN 1
	ENDIF
;扉通過
ELSEIF FLAG:現M == 2 && ARG == 6 && ARG:1 == 9
	IF ダンジョンフラグ:44:53 == 0
		ダンジョンフラグ:44:53 = 1
		RETURN 1
	ELSEIF ダンジョンフラグ:44:53 == 1
		ダンジョンフラグ:44:53 = 0
		RETURN 1
	ENDIF
ENDIF



;右扉
IF FLAG:現M == 3 && ARG == 7 && ARG:1 == 2 && ダンジョンフラグ:44:54 == 0
	ダンジョンフラグ:44:54 = 1
ELSEIF FLAG:現M == 3 && ARG == 6 && ARG:1 == 2 && ダンジョンフラグ:44:54 == 1
	ダンジョンフラグ:44:54 = 0
ELSEIF FLAG:現M == 2 && ARG == 7 && ARG:1 == 18
	IF ダンジョンフラグ:44:54 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:54 == 1
		ダンジョンフラグ:44:54 = 0
		RETURN 1
	ENDIF
ENDIF

;左扉
IF FLAG:現M == 2 && ARG == 5 && ARG:1 == 17 && ダンジョンフラグ:44:55 == 0
	ダンジョンフラグ:44:55 = 1
ELSEIF FLAG:現M == 2 && ARG == 6 && ARG:1 == 17 && ダンジョンフラグ:44:55 == 1
	ダンジョンフラグ:44:55 = 0
ELSEIF FLAG:現M == 3 && ARG == 5 && ARG:1 == 1
	IF ダンジョンフラグ:44:55 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:55 == 1
		ダンジョンフラグ:44:55 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 2 && ARG == 9 && ARG:1 == 14 && ダンジョンフラグ:44:56 == 0
	ダンジョンフラグ:44:56 = 1
ELSEIF FLAG:現M == 2 && ARG == 10 && ARG:1 == 14 && ダンジョンフラグ:44:56 == 1
	ダンジョンフラグ:44:56 = 0
ELSEIF FLAG:現M == 2 && ARG == 9 && ARG:1 == 15
	IF ダンジョンフラグ:44:56 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:56 == 1
		ダンジョンフラグ:44:56 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 3 && ARG == 9 && ARG:1 == 2 && ダンジョンフラグ:44:57 == 0
	ダンジョンフラグ:44:57 = 1
ELSEIF FLAG:現M == 3 && ARG == 9 && ARG:1 == 3 && ダンジョンフラグ:44:57 == 1
	ダンジョンフラグ:44:57 = 0
ELSEIF FLAG:現M == 3 && ARG == 10 && ARG:1 == 2 && ダンジョンフラグ:44:57 == 1
	ダンジョンフラグ:44:57 = 0
ELSEIF FLAG:現M == 3 && ARG == 9 && ARG:1 == 1
	IF ダンジョンフラグ:44:57 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:57 == 1
		ダンジョンフラグ:44:57 = 0
		RETURN 1
	ENDIF
ENDIF


;3の左1
IF FLAG:現M == 3 && ARG == 5 && ARG:1 == 12 && ダンジョンフラグ:44:58 == 0
	ダンジョンフラグ:44:58 = 1
ELSEIF FLAG:現M == 3 && ARG == 5 && ARG:1 == 11
	IF ダンジョンフラグ:44:58 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:58 == 1
		ダンジョンフラグ:44:58 = 0
		RETURN 1
	ENDIF
ENDIF

;3の右1
IF FLAG:現M == 3 && ARG == 13 && ARG:1 == 10 && ダンジョンフラグ:44:59 == 0
	ダンジョンフラグ:44:59 = 1
ELSEIF FLAG:現M == 3 && ARG == 13 && ARG:1 == 11
	IF ダンジョンフラグ:44:59 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:59 == 1
		ダンジョンフラグ:44:59 = 0
		RETURN 1
	ENDIF
ENDIF

;3の左2
IF FLAG:現M == 3 && ARG == 8 && ARG:1 == 10 && ダンジョンフラグ:44:60 == 0
	ダンジョンフラグ:44:60 = 1
ELSEIF FLAG:現M == 3 && ARG == 8 && ARG:1 == 9
	IF ダンジョンフラグ:44:60 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:60 == 1
		ダンジョンフラグ:44:60 = 0
		RETURN 1
	ENDIF
ENDIF

;3の右2
IF FLAG:現M == 3 && ARG == 15 && ARG:1 == 8 && ダンジョンフラグ:44:61 == 0
	ダンジョンフラグ:44:61 = 1
ELSEIF FLAG:現M == 3 && ARG == 15 && ARG:1 == 9
	IF ダンジョンフラグ:44:61 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:61 == 1
		ダンジョンフラグ:44:61 = 0
		RETURN 1
	ENDIF
ENDIF

;3の左3
IF FLAG:現M == 3 && ARG == 13 && ARG:1 == 8 && ダンジョンフラグ:44:62 == 0
	ダンジョンフラグ:44:62 = 1
ELSEIF FLAG:現M == 3 && ARG == 13 && ARG:1 == 7
	IF ダンジョンフラグ:44:62 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:62 == 1
		ダンジョンフラグ:44:62 = 0
		RETURN 1
	ENDIF
ENDIF

;3の右3
IF FLAG:現M == 3 && ARG == 15 && ARG:1 == 6 && ダンジョンフラグ:44:63 == 0
	ダンジョンフラグ:44:63 = 1
ELSEIF FLAG:現M == 3 && ARG == 15 && ARG:1 == 7
	IF ダンジョンフラグ:44:63 == 0
		PRINTW The door is locked
		CLEARLINE 1
		RETURN 0
	ELSEIF ダンジョンフラグ:44:63 == 1
		ダンジョンフラグ:44:63 = 0
		RETURN 1
	ENDIF
ENDIF


IF FLAG:現M == 3 && ARG == 15 && ARG:1 == 5
	PRINTW Space is distorted....
	IF FINDCHARA_B(4502) == 2 && FINDCHARA_B(4503) == 2 && FINDCHARA_B(4508) == 2 && ダンジョンフラグ:44:0 == 0
		PRINTW The spacial distortion parted...
		RETURN 1
	ELSEIF ダンジョンフラグ:44:0 == 1
		RETURN 0
	ELSE
		RETURN 0
	ENDIF
ENDIF

CALL CAN_ENTER,ARG,ARG:1
RETURN RESULT


;=======================================================================
;フロアデータ
;=======================================================================
@MAKE_FLOOR_44
SELECTCASE FLAG:現M
	CASE 0
		;PRINTL 精神世界　北西
		FLAG:最大X = 20 
		FLAG:最大Y = 20 
							    ;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1,"   111111111111111  "
		CALL MAKE_FLOOR_LINE, 2,"  11             11 "
		CALL MAKE_FLOOR_LINE, 3," 11 1111111111129 1 "
		CALL MAKE_FLOOR_LINE, 4," 1 11         2   1 "
		CALL MAKE_FLOOR_LINE, 5," 1 1      121 9   1 "
		CALL MAKE_FLOOR_LINE, 6," 1 1 111111     111 "
		CALL MAKE_FLOOR_LINE, 7," 1 121      11111   "
		CALL MAKE_FLOOR_LINE, 8," 1 2   111121    129"
		CALL MAKE_FLOOR_LINE, 9," 1 8   1      1111  "
		CALL MAKE_FLOOR_LINE,10," 1     1      2 2   "
		CALL MAKE_FLOOR_LINE,11," 1     1   111111 1 "
		CALL MAKE_FLOOR_LINE,12," 1  9  1   111    2 "
		CALL MAKE_FLOOR_LINE,13," 1  2  1   111 9  1 "
		CALL MAKE_FLOOR_LINE,14," 1  1  1   1 1 2  2 "
		CALL MAKE_FLOOR_LINE,15," 1  1  2   1 2 1  9 "
		CALL MAKE_FLOOR_LINE,16," 1111  9   1 1 1    "
		CALL MAKE_FLOOR_LINE,17," 1         1 1 1    "
		CALL MAKE_FLOOR_LINE,18," 1         1 1 11129"
		CALL MAKE_FLOOR_LINE,19,"           9 9      "
							    ;01234567890123456789

		CALL SET_TILE,12,5,ダンジョンフラグ:44:10,0,4
		CALL SET_TILE,18,11,ダンジョンフラグ:44:0,0,4

	CASE 1
		;PRINTL 精神世界　南西
		FLAG:最大X = 20 
		FLAG:最大Y = 20 
							    ;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"           9 9      "
		CALL MAKE_FLOOR_LINE, 1,"   1121111212111 1  "
		CALL MAKE_FLOOR_LINE, 2,"   1   11    111 2  "
		CALL MAKE_FLOOR_LINE, 3," 921    111  11111  "
		CALL MAKE_FLOOR_LINE, 4,"        1111   111  "
		CALL MAKE_FLOOR_LINE, 5," 111      1111   2  "
		CALL MAKE_FLOOR_LINE, 6," 2 2 1  9    11  9  "
		CALL MAKE_FLOOR_LINE, 7," 1 9 2  2    1      "
		CALL MAKE_FLOOR_LINE, 8," 1   1111    1      "
		CALL MAKE_FLOOR_LINE, 9," 1         1211211  "
		CALL MAKE_FLOOR_LINE,10," 1       111     1  "
		CALL MAKE_FLOOR_LINE,11," 11      111    11  "
		CALL MAKE_FLOOR_LINE,12,"  111  92111  111   "
		CALL MAKE_FLOOR_LINE,13,"    11       11     "
		CALL MAKE_FLOOR_LINE,14,"     1       1      "
		CALL MAKE_FLOOR_LINE,15,"     111111111      "
		CALL MAKE_FLOOR_LINE,16,"                    "

		CALL SET_TILE,5,6,ダンジョンフラグ:44:11,0,4
		CALL SET_TILE,17,1,ダンジョンフラグ:44:12,0,4

	CASE 2
		;PRINTL 精神世界　北東
		FLAG:最大X = 20 
		FLAG:最大Y = 20 
							    ;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"                    "
		CALL MAKE_FLOOR_LINE, 1,"   1111129 129 9    "
		CALL MAKE_FLOOR_LINE, 2,"  11       1   2    "
		CALL MAKE_FLOOR_LINE, 3," 11 1111111129 129  "
		CALL MAKE_FLOOR_LINE, 4," 1 11          1    "
		CALL MAKE_FLOOR_LINE, 5," 1 1 92111111111 9  "
		CALL MAKE_FLOOR_LINE, 6," 121        2  1 2  "
		CALL MAKE_FLOOR_LINE, 7,"   12121121 1211 1  "
		CALL MAKE_FLOOR_LINE, 8,"91          1 1  1  "
		CALL MAKE_FLOOR_LINE, 9," 1111       2 1  1  "
		CALL MAKE_FLOOR_LINE,10,"    11121111111  1  "
		CALL MAKE_FLOOR_LINE,11," 9    2         11  "
		CALL MAKE_FLOOR_LINE,12," 2  1111111 11111   "
		CALL MAKE_FLOOR_LINE,13," 111  1   1 1     9 "
		CALL MAKE_FLOOR_LINE,14," 1 1  1  11 2     2 "
		CALL MAKE_FLOOR_LINE,15," 2 1  2  2  11111 1 "
		CALL MAKE_FLOOR_LINE,16," 9 1  1  1      111 "
		CALL MAKE_FLOOR_LINE,17,"   1 111 1 111    2 "
		CALL MAKE_FLOOR_LINE,18,"9111 2 2 2 1 111  9 "
		CALL MAKE_FLOOR_LINE,19,"     9 9 9 9   9    "
							    ;01234567890123456789

		CALL SET_TILE,10,7,ダンジョンフラグ:44:13,0,4


	CASE 3
		;PRINTL 精神世界　南東
		FLAG:最大X = 20 
		FLAG:最大Y = 20 
							    ;01234567890123456789
		CALL MAKE_FLOOR_LINE, 0,"     9 9 9 9   9    "
		CALL MAKE_FLOOR_LINE, 1,"     2 2 2 1   1111 "
		CALL MAKE_FLOOR_LINE, 2,"  121111 111      1 "
		CALL MAKE_FLOOR_LINE, 3," 11     11     9  1 "
		CALL MAKE_FLOOR_LINE, 4," 1   1111  9 1 1  1 "
		CALL MAKE_FLOOR_LINE, 5," 2   1     2 2 9  1 "
		CALL MAKE_FLOOR_LINE, 6," 9   1   921 111  1 "
		CALL MAKE_FLOOR_LINE, 7,"     1       2 2  1 "
		CALL MAKE_FLOOR_LINE, 8,"   111  11111111  1 "
		CALL MAKE_FLOOR_LINE, 9,"   1    2      2  1 "
		CALL MAKE_FLOOR_LINE,10," 921 11111111111  1 "
		CALL MAKE_FLOOR_LINE,11,"     2       2    1 "
		CALL MAKE_FLOOR_LINE,12," 9211111111111 1111 "
		CALL MAKE_FLOOR_LINE,13,"   1           11   "
		CALL MAKE_FLOOR_LINE,14,"   1           1    "
		CALL MAKE_FLOOR_LINE,15,"   1211111111111    "
		CALL MAKE_FLOOR_LINE,16,"                    "

		CALL SET_TILE,13,4,ダンジョンフラグ:44:14,0,4

	CASE 4
		;PRINTL 贖罪
		FLAG:最大X = 5 
		FLAG:最大Y = 5 
							    ;01234
		CALL MAKE_FLOOR_LINE, 0,"     "
		CALL MAKE_FLOOR_LINE, 1," 911 "
		CALL MAKE_FLOOR_LINE, 2," 111 "
		CALL MAKE_FLOOR_LINE, 3," 111 "
		CALL MAKE_FLOOR_LINE, 4,"     "

		CALL SET_TILE,2,2,ダンジョンフラグ:44:0,0,4

	CASEELSE
ENDSELECT

;=======================================================================
;[5]調べる　実行時のイベント
;=======================================================================
@EVENT_CHECK_DUNGEON_44

;==========
;出口の処理
;==========
IF DA:(FLAG:現X):(FLAG:現Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;========
;宝の処理
;========
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 3
	SELECTCASE FLAG:現M
	ENDSELECT
	RETURN 1

;=======
;階段
;=======
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 6
	SELECTCASE FLAG:現M
	ENDSELECT
	RETURN 1

ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 7
	SELECTCASE FLAG:現M
	ENDSELECT
	RETURN 1
ELSE
	PRINTW Nothing seems to be here.
	RETURN 0
ENDIF

;=======================================================================
;タイル進入時のイベント
;=======================================================================
@EVENT_ENTER_DUNGEON_44,ARG
;ARG = 進入時の向き　0の場合ワープなど
;==========
;出口の処理
;==========
IF DA:(FLAG:現X):(FLAG:現Y) == 8
	CALL DUNGEON_EXIT
	RETURN 1
;========
;宝の処理
;========
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 3
	SELECTCASE FLAG:現M
	ENDSELECT
	RETURN 1
;=======
;階段
;=======
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 6
	SELECTCASE FLAG:現M
	ENDSELECT
	RETURN 1

ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 7
	SELECTCASE FLAG:現M
	ENDSELECT
	RETURN 1
	
;ワープ
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 9
	SELECTCASE FLAG:現M
		;北西
		CASE 0
			IF FLAG:現X == 16 && FLAG:現Y == 3
				CALL DUNGEON_WORP,0,7,14
			ELSEIF FLAG:現X == 14 && FLAG:現Y == 5
				CALL DUNGEON_WORP,0,1,18
			ELSEIF FLAG:現X == 7 && FLAG:現Y == 16
				CALL DUNGEON_WORP,0,14,3
			ELSEIF FLAG:現X == 4 && FLAG:現Y == 12
				CALL DUNGEON_WORP,1,9,12
			;15
			ELSEIF FLAG:現X == 15 && FLAG:現Y == 13
				CALL DUNGEON_WORP,3,1,4
			;移動
			ELSEIF FLAG:現X == 19 && FLAG:現Y == 18
				CALL DUNGEON_WORP,2,1,18
			;17
			ELSEIF FLAG:現X == 18 && FLAG:現Y == 15
				CALL DUNGEON_WORP,2,1,13
			;移動
			ELSEIF FLAG:現X == 19 && FLAG:現Y == 8
				CALL DUNGEON_WORP,2,1,8
			;移動
			ELSEIF FLAG:現X == 11 && FLAG:現Y == 19
				CALL DUNGEON_WORP,1,11,1
			;移動
			ELSEIF FLAG:現X == 13 && FLAG:現Y == 19
				CALL DUNGEON_WORP,1,13,1
			ENDIF

		;南西
		CASE 1
			IF FLAG:現X == 7 && FLAG:現Y == 12
				CALL DUNGEON_WORP,0,4,14
			ELSEIF FLAG:現X == 1 && FLAG:現Y == 3
				CALL DUNGEON_WORP,1,8,8
			ELSEIF FLAG:現X == 8 && FLAG:現Y == 6
				CALL DUNGEON_WORP,1,3,3
			ELSEIF FLAG:現X == 3 && FLAG:現Y == 7
				CALL DUNGEON_WORP,3,3,12
			ELSEIF FLAG:現X == 17 && FLAG:現Y == 6
				CALL DUNGEON_WORP,2,11,3
			;移動
			ELSEIF FLAG:現X == 11 && FLAG:現Y == 0
				CALL DUNGEON_WORP,0,11,18
			;移動
			ELSEIF FLAG:現X == 13 && FLAG:現Y == 0
				CALL DUNGEON_WORP,0,13,18
			ENDIF
		;北東
		CASE 2
			IF FLAG:現X == 18 && FLAG:現Y == 13
				CALL DUNGEON_WORP,3,13,12
			ELSEIF FLAG:現X == 17 && FLAG:現Y == 5
				CALL DUNGEON_WORP,3,3,10
			ELSEIF FLAG:現X == 18 && FLAG:現Y == 18
				CALL DUNGEON_WORP,2,8,10
			ELSEIF FLAG:現X == 15 && FLAG:現Y == 1
				CALL DUNGEON_WORP,2,5,7
			ELSEIF FLAG:現X == 13 && FLAG:現Y == 1
				CALL DUNGEON_WORP,2,15,3
			;W11
			ELSEIF FLAG:現X == 17 && FLAG:現Y == 3
				CALL DUNGEON_WORP,2,1,6
			ELSEIF FLAG:現X == 9 && FLAG:現Y == 1
				CALL DUNGEON_WORP,2,18,16
			ELSEIF FLAG:現X == 5 && FLAG:現Y == 5
				CALL DUNGEON_WORP,2,18,16
			;14
			ELSEIF FLAG:現X == 13 && FLAG:現Y == 3
				CALL DUNGEON_WORP,1,17,4
			;移動
			ELSEIF FLAG:現X == 0 && FLAG:現Y == 18
				CALL DUNGEON_WORP,0,17,18
			;16
			ELSEIF FLAG:現X == 1 && FLAG:現Y == 16
				CALL DUNGEON_WORP,1,17,4
			;17
			ELSEIF FLAG:現X == 1 && FLAG:現Y == 11
				CALL DUNGEON_WORP,0,18,13
			;移動
			ELSEIF FLAG:現X == 0 && FLAG:現Y == 8
				CALL DUNGEON_WORP,0,17,8
			;移動
			ELSEIF FLAG:現X == 5 && FLAG:現Y == 19
				CALL DUNGEON_WORP,3,5,2
			;移動
			ELSEIF FLAG:現X == 7 && FLAG:現Y == 19
				CALL DUNGEON_WORP,3,7,2
			;移動
			ELSEIF FLAG:現X == 9 && FLAG:現Y == 19
				CALL DUNGEON_WORP,3,9,2
			;移動
			ELSEIF FLAG:現X == 11 && FLAG:現Y == 19
				CALL DUNGEON_WORP,3,11,1
			;移動
			ELSEIF FLAG:現X == 15 && FLAG:現Y == 19
				CALL DUNGEON_WORP,2,15,1
			ENDIF
		;南東
		CASE 3
			IF FLAG:現X == 1 && FLAG:現Y == 12
				CALL DUNGEON_WORP,1,3,5
			ELSEIF FLAG:現X == 1 && FLAG:現Y == 10
				CALL DUNGEON_WORP,2,17,7
			;15
			ELSEIF FLAG:現X == 1 && FLAG:現Y == 6
				CALL DUNGEON_WORP,0,15,15
			;移動
			ELSEIF FLAG:現X == 5 && FLAG:現Y == 0
				CALL DUNGEON_WORP,2,5,17
			;移動
			ELSEIF FLAG:現X == 7 && FLAG:現Y == 0
				CALL DUNGEON_WORP,2,7,17
			;移動
			ELSEIF FLAG:現X == 9 && FLAG:現Y == 0
				CALL DUNGEON_WORP,2,9,17
			;移動
			ELSEIF FLAG:現X == 11 && FLAG:現Y == 0
				CALL DUNGEON_WORP,2,11,18
			;移動
			ELSEIF FLAG:現X == 15 && FLAG:現Y == 0
				CALL DUNGEON_WORP,2,15,18
			;???入り口
			ELSEIF FLAG:現X == 15 && FLAG:現Y == 3
				IF FINDCHARA_B(4502) == 2 && FINDCHARA_B(4503) == 2 && FINDCHARA_B(4508) == 2 && ダンジョンフラグ:44:0 == 0
					CALL DUNGEON_WORP,3,11,6
				ELSE
					CALL DUNGEON_WORP,0,3,7
				ENDIF
			;???
			ELSEIF FLAG:現X == 11 && FLAG:現Y == 4
				CALL DUNGEON_WORP,4,3,3
			;???
			ELSEIF FLAG:現X == 9 && FLAG:現Y == 6
				CALL DUNGEON_WORP,3,15,6
			ENDIF
		;???
		CASE 4
			SIF FLAG:現X == 1 && FLAG:現Y == 1
				CALL DUNGEON_WORP,3,15,6
		CASEELSE
	ENDSELECT
RETURN 1


;==========
;扉の処理
;==========
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 2
	CALL DUNGEON_DOOR,ARG
	RETURN 1
RETURN 0


;========================
;イベント
;========================
ELSEIF DA:(FLAG:現X):(FLAG:現Y) == 4
	SELECTCASE FLAG:現M
		CASE 0
			IF FLAG:現X == 12 && FLAG:現Y == 5 && ダンジョンフラグ:44:10 == 0
				PRINTW ＞Hazama was there...
				IF FLAG:DEBUG
					PRINTW 「Aah...」
					PRINTW 「Why is mastubation so good?」
					PRINTW 「Dick...dick is awesome!!」
				ELSE
					PRINTW 「I am...a genius」
					PRINTW 「Why aren't I respected!!」
					PRINTW 「Shit, damn...Everyone......」
				ENDIF
				PRINTW It seemed to be one of Hazama's memories.
				ダンジョンフラグ:44:10 = 1

			ELSEIF FLAG:現X == 18 && FLAG:現Y == 11 && ダンジョンフラグ:44:0 == 0
				IF FLAG:DEBUG
					PRINTW ＞The naked Deity Emperor Hazama is working hard at masturbation
					PRINTW 「Dick, dick feels so good」
					IF (FINDCHARA_B(4503,0) == 2 || FINDCHARA_B(4503,1) == 2)
						PRINTW 「Aah, cumming!! Tamaki!! I'm cumming!!」
						PRINTW Deity Emperor Hazama sprayed semen at a doll resembling Tamaki Uchida.
					ELSEIF (FINDCHARA_B(4508,0) == 2 || FINDCHARA_B(4508,1) == 2)
						PRINTW 「Aah, cumming!! Reiko!! I'm cumming!!」
						PRINTW Deity Emperor Hazama sprayed semen at a doll resembling Reiko Akanezawa.
					ELSE
						PRINTW 「Aah, cumming!! I'm cumming!!」
						PRINTW Deity Emperor Hazama twitched as he reached orgasm.
					ENDIF
					PRINTL 
					IF (FINDCHARA_B(4503,0) == 2 || FINDCHARA_B(4503,1) == 2)
						PRINTW 「............」
						PRINTW Tamaki glares scornfully at Hazama.
					ELSEIF (FINDCHARA_B(4508,0) == 2 || FINDCHARA_B(4508,1) == 2)
						PRINTW 「Big brother......」
						PRINTW Reiko called out to her brother's image glumly...
					ENDIF
					PRINTW 「Hah...H-how long have you been watching!?」
					PRINTW He seems to have calmed down after cumming.
					PRINTW Making no attempt to cover himself, Deity Emperor Hazama turned to you.
					PRINTW 「Kukuku...Now that you've seen that, I can't let you return alive!!」
				ELSE
					PRINTW ＞A huge abominable baby floats here...
					PRINTW Everyone is horrible. Everyone bullies me」
					PRINTW Here is the innermost part of Hazama's spirit world.
					PRINTW The basis of the actions of the Deity Emperor was fear.
					PRINTW The thoughts of wanting to be recognized by others and the fear of rejection were twisted and distorted to create this.
					IF FINDCHARA_B(4508) == 2
						IF TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛
							PRINTL 「Big brother...」
							PRINTW ＞Reiko hung her head sadly at Hazama's appearance.
						ELSE
							PRINTL 「Stupid big brother...」
							PRINTW ＞Reiko looked away from Hazama.
						ENDIF
						PRINTW The poor soul, who should have been someone a younger sister could rely on, was lost in memory.
						PRINTW At minimum, his younger sister whall be cut from his fate and guidance.
						PRINTW Farewell, lonely Deity Emperor.
					ELSE
						PRINTW Would he have lived forever without having to pay for his crimes...
						PRINTL 
						PRINTW Punishment
						PRINTW Learn you lesson by these hands...Sleep forever, lonely Deity Emperor.
					ENDIF
				ENDIF
				PRINTW Meta Hazama appeared!
				CUSTOMDRAWLINE =
				WAIT
				FLAG:逃走不可フラグ = 1
				FLAG:会話不能フラグ = 1
				FLAG:先制不意打ちキャンセル = 1
				CALL SET_ENEMY,9,[[キャラ:魔神皇ハザマ]],86,0,1
				CFLAG:(CHARANUM-1):ＨＰ補正 = 5000
				CFLAG:(CHARANUM-1):ＭＰ補正 = 5000
				CFLAG:(CHARANUM-1):行動回数 = 3
				ABL:(CHARANUM-1):スキル1 = 523
				ABL:(CHARANUM-1):スキル2 = 603
				ABL:(CHARANUM-1):スキル3 = 706
				ABL:(CHARANUM-1):スキル4 = 806
				ABL:(CHARANUM-1):スキル5 = 1132
				ABL:(CHARANUM-1):スキル6 = 1606
				ABL:(CHARANUM-1):スキル7 = 1903
				ABL:(CHARANUM-1):スキル8 = 2003
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
				CALL BATTLE_START
				FLAG:逃走不可フラグ = 0
				FLAG:会話不能フラグ = 0
				FLAG:先制不意打ちキャンセル = 0
				ダンジョンフラグ:44:0 = 1
				PRINTW After the Deity Emperor fell, the nude Hazama laid on the floor.
				PRINTL The spirit world shakes......
				PRINTW It seems that the place has begun to collapse.
				IF FINDCHARA_B(4508) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
					PRINTL 「Big brother...」
					PRINTW Reiko ran up to the collapsed Hazama.
					PRINTW 「Master......I have a request」
					PRINTW 「I want to stay here...」
					PRINTW 「Master was gentle with me, like my big brother. I was the only one who loved my big brother.」
					$INPUT_LOOP_A1
					PRINTL
					PRINTL [0] Accept
					PRINTL [1] Ignore and bring home
					INPUT
					IF RESULT == 0
						PRINTW 「Thank you very much......」
						PRINTW 「Master, I am reallly happy I was able to meet you...」
						PRINTW 「I will never forget the days I spent with you...」
						PRINTW You left the smiling Reiko as you escaped from Hazama's spirit world...
						PRINTL ............
						PRINTL .........
						PRINTL ......
						PRINTL ...
						CALL キャラ削除(GETCHARA(4508))
						PRINTW ―――Shin Megami Tenseiif Revelation of the Truth End achieved―――
						PRINTW ..................
						PRINTW ............
						PRINTW ......
						PRINTW You returned back to the real world.
						PRINTW The school and students were able to safely return home...barring a few...
						PRINTL 
						PRINTW You got the opportunity to talk to the school nurse, Kayama, who Hazama had thoughts about.
						PRINTL 「I should have taken Hazama more seriously...if...」
						PRINTW She said......
						PRINTW The world surrounding a devil summoner is harsh and ruthless
						PRINTW If...the was no hope to light the way
						PRINTW Reality continues as usual
						PRINTW You left Karukozaka High School......
					ELSEIF RESULT == 1
						PRINTL 「Master......」
						PRINTW As Reiko let out a grieving cry, you left Hazama' spirit world...
						PRINTL ............
						PRINTL .........
						PRINTL ......
						PRINTL ...
						PRINTW ―――Shin Megami Tensei if Reiko Route Another End achieved―――
						PRINTW ..................
						PRINTW ............
						PRINTW ......
						PRINTW You returned home to the real world.
						PRINTW The school and students were able to safely return home...barring a few...
						PRINTW Reiko hasn't quite forgiven you, but the wounds will heal in time.
					ELSE
						GOTO INPUT_LOOP_A1
					ENDIF
				ELSE
					PRINTL The probably solved the Karukozaka High School demonization incident
					PRINTW You left the spirit world of Hazama...
				ENDIF
				FLAG:脱出 = 1
			ENDIF
		CASE 1
			IF FLAG:現X == 5 && FLAG:現Y == 6 && ダンジョンフラグ:44:11 == 0
				PRINTW ＞Hazama stood there with other students wearing the Karukozaka High School uniform...
				IF FLAG:DEBUG
					PRINTW 『Hazama, you have phimosis』
					PRINTW 『Real phimosis!?』
					PRINTW 『Only elementary students have phimosis kyahahaha』
					PRINTW 「Damn, disrespecting me......」
				ELSE
					;厨二病風に訂正
					PRINTL 『Hazama, you say you can control demons』
					PRINTW 『Seriously!?』
					PRINTL 『Then call one right now and show us』
					PRINTW 『Kyahahaha』
					PRINTL 「Damn, if I had my COMP...」
					PRINTW 「Disrespecting me......」
				ENDIF
				PRINTW It seemed to be one of Hazama's memories.
				ダンジョンフラグ:44:11 = 1
			ELSEIF FLAG:現X == 17 && FLAG:現Y == 1 && ダンジョンフラグ:44:12 == 0
				PRINTW ＞Hazama and Reiko Akanezawa is here...
				IF FLAG:DEBUG
					PRINTW 「Reiko...don't say you won't have sex with me」
					PRINTW 「Please, at least let me use your mouth!!」
					PRINTW 『Big brother......』
				ELSE
					PRINTW 『Big brother is wrong』
					PRINTW 「Shut up!! Nobody understands me」
					PRINTW 「After I summon the demons, no one wil disrespect me again!!」
				ENDIF
				PRINTW It seemed to be one of Hazama's memories.
				ダンジョンフラグ:44:12 = 1
			ENDIF
		CASE 2
			IF FLAG:現X == 10 && FLAG:現Y == 7 && ダンジョンフラグ:44:13 == 0
				;誰かが嫉妬界とか作るならアキコに置きかえれるけど俺はそんな気力ないんでこのまま
				IF 依頼フラグ:3:0 == 1
					PRINTW ＞Tamaki Uchida is there
				ELSE
					PRINTW ＞There is a cute short-haired girl in a Karukozaka High School Uniform
				ENDIF
				PRINTW 『Sorry...Hazama』
				PRINTW 『I...I like someone else...』
				PRINTW 『But, would you like to be friends?』
				PRINTL 
				IF FLAG:DEBUG
					PRINTW （Damn, talking so cheekily just because you are pretty）
					PRINTW （I'll absolutely make you my fuckmeat someday!!）
				ENDIF
				IF 依頼フラグ:3:0 == 1
					PRINTW Looks like Hazama was rejected by Tamaki Uchida.
				ELSE
					PRINTW Hazama was rejected by the high school girl.
				ENDIF
				PRINTW This seemed to be one of Hazama's memories.
				SIF (FINDCHARA_B(4503)) == 2
					PRINTL Tamaki
					PRINTW 「Is that so...because of that?」
				ダンジョンフラグ:44:13 = 1
			ENDIF
		CASE 3
			IF FLAG:現X == 13 && FLAG:現Y == 4 && ダンジョンフラグ:44:14 == 0
				;先生マジ女王様ｗｗｗ
				PRINTW ＞It seems to be the school nurse's office
				IF FLAG:DEBUG
					IF RAND:2 == 0
						PRINTW 「Nurse...I-it hurts」
						PRINTW 『But it's only half-full?』
						PRINTW 『Be a man and endure』
						PRINTW 「Aah, no way...such a big thing won't fit in my butt」
						PRINTW 「Aaah!!」
					ELSE
						PRINTW 「Nurse...I can't stop masturbation」
						PRINTW 「Please look, uuu...」
						PRINTW 『Who said you could do it without permission?』
						PRINTW 『Children who can't keep their promises should be punished』
						PRINTW 「Aah, have mercy...Nurse」
					ENDIF
				ELSE
					;×女神転生　○eraMegaten
					PRINTW 『What's wrong, Hazama?』
					PRINTW 『My dick hurts, I'm so embarrassed』
					IF RAND:2 == 0
						PRINTW 『I'll have to treat it by hand』
					ELSE
						PRINTW 『I'll treat it with my mouth』
					ENDIF
					PRINTW 「Aah, nurse, nurse!!」
				ENDIF
				PRINTW This seemed to be one of Hazama's memories.
				ダンジョンフラグ:44:14 = 1
			ENDIF
		CASE 4
			;RPG的な何か
			IF FLAG:現X == 2 && FLAG:現Y == 2 && ダンジョンフラグ:44:15 == 0 && ダンジョンフラグ:44:0 == 0
				IF FLAG:DEBUG
					PRINTW ＞There was a naked Deity Emperor Hazama, and......
					PRINTW 「Aah...dick, dick feels so good」
					PRINTW Three familiar girls were servicing Hazama.
					PRINTW 「You are a trainer with slaves obeying you like a king」
					PRINTW 「But behold!! These three slaves」
					PRINTW Deity Emperor Hazama gestured to the blank-eyed Yumi, Reiko and Tamaki.
					PRINTW 「I can manifest my worldly desires in this spirit world, making them my sex slaves!!」
					PRINTL 
					PRINTW 「Well then...I'm afraid by little sister's journey through my spirit worl will end here」
					PRINTW 「Your persistence too, shall end here」
					PRINT 「Well, though I'm a bit tired of orgies, 
					IF TALENT:MASTER:140 == 0 || TALENT:MASTER:157 == 1
						PRINTW if you wish, you can taste the hardest dick in history」
					ELSE
						PRINTW I'll play with you a little」
					ENDIF
					PRINTW 「I am unrivaled in worldly desire!! Burn the true power of my dick into your memory!!」
					PRINTW 「Haaaaaaaaaaaaaa!!」
					PRINTW Deity Emperor Hazama twitched as he came.
					PRINTW Meta Hazama Attacked!
					PRINTW 3 Schoolgirl clones attacked!
					CUSTOMDRAWLINE =
					WAIT
					FLAG:逃走不可フラグ = 1
					FLAG:会話不能フラグ = 1
					FLAG:先制不意打ちキャンセル = 1
					CALL SET_ENEMY,14,[[キャラ:魔神皇ハザマ]],92,0,1
					CFLAG:(CHARANUM-1):ＨＰ補正 = 5000
					CFLAG:(CHARANUM-1):ＭＰ補正 = 500
					CFLAG:(CHARANUM-1):行動回数 = 4
					ABL:(CHARANUM-1):スキル1 = 405
					ABL:(CHARANUM-1):スキル2 = 512
					ABL:(CHARANUM-1):スキル3 = 2003
					ABL:(CHARANUM-1):スキル4 = 603
					ABL:(CHARANUM-1):スキル5 = 1214
					ABL:(CHARANUM-1):スキル6 = 523
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)

					CALL SET_ENEMY,8,[[キャラ:ユミ]],77,0,1
					CFLAG:(CHARANUM-1):ＨＰ補正 = 500
					CFLAG:(CHARANUM-1):ＭＰ補正 = 500
					CFLAG:(CHARANUM-1):行動回数 = 2
					ABL:(CHARANUM-1):スキル1 = 706
					ABL:(CHARANUM-1):スキル2 = 803
					ABL:(CHARANUM-1):スキル3 = 806
					ABL:(CHARANUM-1):スキル4 = 2001
					ABL:(CHARANUM-1):スキル5 = 1302
					ABL:(CHARANUM-1):スキル6 = 1403
					EQUIP:(CHARANUM-1):剣 = [[アイテム:Athame Knife]]
					EQUIP:(CHARANUM-1):銃 = [[アイテム:Desert Eagle]]
					EQUIP:(CHARANUM-1):頭 = [[アイテム:Panzer Helm]]
					EQUIP:(CHARANUM-1):胴 = [[アイテム:Panzer Suit]]
					EQUIP:(CHARANUM-1):腕 = [[アイテム:Panzer Fist]]
					EQUIP:(CHARANUM-1):足 = [[アイテム:Panzer Leg]]
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)

					CALL SET_ENEMY,9,[[キャラ:たまき]],80,0,1
					CFLAG:(CHARANUM-1):ＨＰ補正 = 1000
					CFLAG:(CHARANUM-1):行動回数 = 2
					ABL:(CHARANUM-1):スキル1 = 2101
					ABL:(CHARANUM-1):スキル2 = 2114
					ABL:(CHARANUM-1):スキル3 = 10
					ABL:(CHARANUM-1):スキル5 = 3036
					ABL:(CHARANUM-1):スキル6 = 2406
					EQUIP:(CHARANUM-1):剣 = [[アイテム:魔剣村正]]
					EQUIP:(CHARANUM-1):銃 = [[アイテム:Reaper Colt]]
					EQUIP:(CHARANUM-1):頭 = [[アイテム:Panzer Helm]]
					EQUIP:(CHARANUM-1):胴 = [[アイテム:Panzer Suit]]
					EQUIP:(CHARANUM-1):腕 = [[アイテム:Panzer Fist]]
					EQUIP:(CHARANUM-1):足 = [[アイテム:Panzer Leg]]
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)

					CALL SET_ENEMY,10,[[キャラ:レイコ]],83,0,1
					CFLAG:(CHARANUM-1):ＨＰ補正 = 500
					CFLAG:(CHARANUM-1):ＭＰ補正 = 500
					CFLAG:(CHARANUM-1):行動回数 = 2
					ABL:(CHARANUM-1):スキル1 = 506
					ABL:(CHARANUM-1):スキル2 = 405
					ABL:(CHARANUM-1):スキル3 = 417
					ABL:(CHARANUM-1):スキル5 = 1211
					ABL:(CHARANUM-1):スキル6 = 1222
					EQUIP:(CHARANUM-1):剣 = [[アイテム:Athame Knife]]
					EQUIP:(CHARANUM-1):銃 = [[アイテム:Desert Eagle]]
					EQUIP:(CHARANUM-1):頭 = [[アイテム:Panzer Helm]]
					EQUIP:(CHARANUM-1):胴 = [[アイテム:Panzer Suit]]
					EQUIP:(CHARANUM-1):腕 = [[アイテム:Panzer Fist]]
					EQUIP:(CHARANUM-1):足 = [[アイテム:Panzer Leg]]
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)

					CALL BATTLE_START
					FLAG:逃走不可フラグ = 0
					FLAG:会話不能フラグ = 0
					FLAG:先制不意打ちキャンセル = 0
					
				ELSE
					CALL MESSAGE_WINDOW_D, "", "＞There was Hazama, fused with a giant baby"
					CALL MESSAGE_WINDOW_D, "Hazama", "I've made you trouble.../Of course, I understand the scope of my crime./I'm glad you came...Part of the Expanse has merged with my Deity Emperor body and spirit."
					CALL MESSAGE_WINDOW_D, "Hazama", "This world could not die even if I wanted it to./The nightmare of Karukozaka High School will not end even if you defeat me./At the right time, the Deity Emperor will revive and return the school to the Expanse."
					CALL MESSAGE_WINDOW_D, "Hazama", "You can do this as you defeated the Deity Emperor./Please...kill me."
					SIF FINDCHARA_B(4502) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
						CALL MESSAGE_WINDOW_D, "Yumi", "Causing us trouble....../Don't selfishly go die by yourself."
					SIF FINDCHARA_B(4503) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
						CALL MESSAGE_WINDOW_D, "Tamaki", "Sorry.../I should have tried harder to understand Hazama."
					SIF FINDCHARA_B(4508) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
						CALL MESSAGE_WINDOW_D, "Reiko", "Big brother.../If big brother is gone...I......"
					CALL MESSAGE_WINDOW_D, "Hazama", "Guaaaaa, my body is!!"
					CALL MESSAGE_WINDOW_D, "", "＞Meta Hazama Attacked!"
					CUSTOMDRAWLINE =
					;WAIT
					FLAG:逃走不可フラグ = 1
					FLAG:会話不能フラグ = 1
					FLAG:先制不意打ちキャンセル = 1
					CALL SET_ENEMY,9,[[キャラ:魔神皇ハザマ]],99,0,1
					CFLAG:(CHARANUM-1):ＨＰ補正 = 3000
					CFLAG:(CHARANUM-1):ＭＰ補正 = 5000
					CFLAG:(CHARANUM-1):行動回数 = 3
					ABL:(CHARANUM-1):スキル1 = 523
					ABL:(CHARANUM-1):スキル2 = 603
					ABL:(CHARANUM-1):スキル3 = 706
					ABL:(CHARANUM-1):スキル4 = 806
					ABL:(CHARANUM-1):スキル5 = 1132
					ABL:(CHARANUM-1):スキル6 = 1606
					ABL:(CHARANUM-1):スキル7 = 1903
					ABL:(CHARANUM-1):スキル8 = 2003
					CALL SYNC_STATUS,(CHARANUM-1)
					CALL HEALTH_CHARA,(CHARANUM-1)
					CALL BATTLE_START
					FLAG:逃走不可フラグ = 0
					FLAG:会話不能フラグ = 0
					FLAG:先制不意打ちキャンセル = 0
				ENDIF
				PRINTW As the Deity Emperor faded away, Hazama lay nude on the floor.
				PRINTW The spirit world shakes......
				PRINTW The spirit world has bgun to collapse with the fall of Deity Emperor Hazama.
				IF FINDCHARA_B(4502) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛) && FINDCHARA_B(4503) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛) && FINDCHARA_B(4508) == 2 && (TALENT:(RESULT:1):恋慕 || TALENT:(RESULT:1):親愛)
					PRINTL 「Big brother...」
					PRINTW Reiko ran up to the collapsed Hazama.
					PRINTW 「Master......I have a request」
					PRINTW 「I want to remain here...」
					PRINTW 「Master was gentle with me, like my big brother. I was the only one who loved my big brother.」
					PRINTL 『Don't say such selfish things』
					PRINTL 「That's right. If you do not help Hazama, then it won't be truly solved.」
					PRINTW Yumi and Tamaki opposed Reiko's words.
					PRINTL 
					PRINTW 「Everyone...thank you......」
					PRINTW You escaped the spirit world with the collapsed Hazama...
					PRINTL ............
					PRINTL .........
					PRINTL ......
					PRINTL ...
					PRINTW You returned home to the real world
					;PRINTW Bothe the students and the school were returned safely...
					PRINTL 
					PRINTL 
					PRINTW ―――Shin Magami Tensei if Another end achieved―――
					PRINTW ..................
					PRINTW ............
					PRINTW ......
					;新宿衛生病院があれなので捏造する
					PRINTL Real world-Karukozaka High School-
					PRINTW 
					;綺麗なハザマ
					PRINTW You got the chance to speak with Hazama in a hospital
					PRINTL 「I caused trouble for you and Reiko, everyone......」
					PRINTW 「How could I ever make up for this crime......」
					IF ABL:MASTER:属性LD == 3
						CALL INPUT_YN("Scold him", "Suggest he join you")
						IF RESULT == 0
							GOTO HAZAMA_WO_SATOSU
						ELSE
							PRINTL On further thought, Hazama was capable of making several worlds in the Expanse.
							PRINTL Moreover, he made his own COMP, and is an accomplished adventurer.
							PRINTW You shouldn't let his talent go to waste.
							PRINTW You skillfully pursuaded Hazama to join you.
							CALL ADD_NEW_COMPANION,4597,500
							CFLAG:(RESULT:1):戦闘参加不可能 = -1
							PRINTW ＞Hazama joined you
						ENDIF
					ELSE
						$HAZAMA_WO_SATOSU
						PRINTW You scolded the grieving Hazama
						PRINTW The world is harsh and ruthless
						PRINTW If...there is no hope to light the way
						PRINTW But reality continues as usual
						PRINTW If one chooses one's own path......
					ENDIF
				ELSEIF FINDCHARA_B(4502) == 2 && TALENT:(RESULT:1):隷属 && FINDCHARA_B(4503) == 2 && TALENT:(RESULT:1):隷属 && FINDCHARA_B(4508) == 2 && TALENT:(RESULT:1):隷属
					PRINTL 「Big brother...」
					PRINTW Reiko ran to the collapsed Hazama.
					PRINTW 「Master......I have a request」
					PRINTW 「I want to stay here...」
					PRINTW 「My big brother is my only blood relation」
					PRINTL 『Don't say such a selfish thing』
					PRINTL 「That's right. If you do not help Hazama, then it won't be truly solved」
					PRINTL 「And you cannot die without master's order」
					PRINTW Yumi and Tamaki argued against Reiko's words
					PRINTL 
					PRINTW 「Everyone......」
					PRINTW You escaped the spirit world with the fallen Hazama...
					PRINTL ............
					PRINTL .........
					PRINTL ......
					PRINTL ...
					PRINTW You returned home to the real world
					PRINTW Now, what will you do with Hazama?
					CALL INPUT_YN("Leave him alone", "Enslave him")
					IF RESULT == 0
					ELSE
						PRINTL Hazama created several worlds in the Expanse.
						PRINTL Moreover, according to Phantom Society, he made his own COMP, 
						PRINTW and challenged a certain tower of “death”and“time”and maganged to become a king.
						PRINTL NYou shouldn't let his talent go to waste. If trained, he could fetch a high price or contribute greatly to fighting.
						PRINTW You decided to enslave Hazama.
						CALL ADD_NEW_COMPANION,4597
						PRINTW ＞Hazama obtained
					ENDIF
				ELSE
					PRINTW You escaped from the spirit world...
					PRINTL ............
					PRINTL .........
					PRINTL ......
					PRINTW ...
					PRINTW You returned home to the real world
				ENDIF
				PRINTW ......With this, the Karukozaka High School Incident is over.
				FLAG:脱出 = 1
				ダンジョンフラグ:44:15 = 1
				ダンジョンフラグ:44:0 = 1
			ENDIF
		CASEELSE
	ENDSELECT
	RETURN 1
ENDIF
RETURN 0

;=======================================================================
;エンカウント率
;=======================================================================
@ENCOUNT_RATE_44
SELECTCASE FLAG:現M
	CASE 0
		FLAG:エンカウント率 = FLAG:未遭遇歩数*5
	CASE 1
		FLAG:エンカウント率 = FLAG:未遭遇歩数*5
	CASE 2
		FLAG:エンカウント率 = FLAG:未遭遇歩数*5
	CASE 3
		FLAG:エンカウント率 = FLAG:未遭遇歩数*5
	CASE 4
		FLAG:エンカウント率 = 0
	CASEELSE
		FLAG:エンカウント率 = 0
ENDSELECT
SIF FLAG:未遭遇歩数 < 5
	FLAG:エンカウント率 = 0

;=======================================================================
;必要レベル目安
;推奨LV 雑魚最低LV 雑魚最高LV ボスLV 
;=======================================================================
@GET_DUNGEON_LV_44
RETURN 65, 62, 65, 86
;=======================================================================
;エンカウント処理
;=======================================================================
@CHECK_ENCOUNT_44
IF RAND:100 < FLAG:エンカウント率
	CALL ENEMY_TABLE
	RETURN 1
ELSE
	FLAG:未遭遇歩数 += 1
	RETURN 0
ENDIF
;=======================================================================
;敵の種族の種類数
;=======================================================================
@CLASS_NUM_44
RETURN CLASS_NUM_COMMON("最上級")
;=======================================================================
;敵の総数
;ARGは出現する敵の種類です
;=======================================================================
@ENEMY_NUM_44, ARG
RETURN ENEMY_NUM_COMMON("最上級", ARG)
;=======================================================================
;敵の種類
;=======================================================================
@ENEMY_44, ARG
SELECTCASE FLAG:現M
	CASE 0
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で地母神ドゥルガーLv65
				RETURN [[キャラ:ドゥルガー]], 65
			CASE IS < 20
				;10％で妖魔サキュバスLv44　ランク6
				RETURN [[キャラ:サキュバス]], 62
			CASE IS < 40
				;20%で妖魔ヴァルキリーLv56　ランク2
				RETURN [[キャラ:ヴァルキリー]], 62
			CASE IS < 50
				;10%で妖精ティターニアLv51　ランク4
				RETURN [[キャラ:ティターニア]], 63
			CASE IS < 60
				;10%で龍王エキドナLv53　ランク3
				RETURN [[キャラ:エキドナ]], 62
			CASE IS < 70
				;15%で魔獣キマイラLv56　ランク2
				RETURN [[キャラ:キマイラ]], 62
			CASE IS < 80
				;10%でニーズホッグLV43(62)
				RETURN [[キャラ:ニーズホッグ]], 62
			CASE IS < 90
				;10%で龍王ヤマタノオロチLV52(63)
				RETURN [[キャラ:ヤマタノオロチ]], 63
			CASE IS < 100
				;10%で外道ドッペルゲンガーLv55　ランク3
				RETURN [[キャラ:ドッペルゲンガー]], 64
		ENDSELECT
	CASE 1
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で地母神ドゥルガーLv65
				RETURN [[キャラ:ドゥルガー]], 65
			CASE IS < 20
				;10％で妖魔サキュバスLv44　ランク6
				RETURN [[キャラ:サキュバス]], 62
			CASE IS < 40
				;20%で妖魔ヴァルキリーLv56　ランク2
				RETURN [[キャラ:ヴァルキリー]], 62
			CASE IS < 50
				;10%で妖精ティターニアLv51　ランク4
				RETURN [[キャラ:ティターニア]], 63
			CASE IS < 60
				;10%で龍王エキドナLv53　ランク3
				RETURN [[キャラ:エキドナ]], 62
			CASE IS < 70
				;15%で魔獣キマイラLv56　ランク2
				RETURN [[キャラ:キマイラ]], 62
			CASE IS < 80
				;10%でニーズホッグLV43(62)
				RETURN [[キャラ:ニーズホッグ]], 62
			CASE IS < 90
				;10%で龍王ヤマタノオロチLV52(63)
				RETURN [[キャラ:ヤマタノオロチ]], 63
			CASE IS < 100
				;10%で外道ドッペルゲンガーLv55　ランク3
				RETURN [[キャラ:ドッペルゲンガー]], 64
		ENDSELECT
	CASE 2
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で地母神ドゥルガーLv65
				RETURN [[キャラ:ドゥルガー]], 65
			CASE IS < 20
				;10％で妖魔サキュバスLv44　ランク6
				RETURN [[キャラ:サキュバス]], 62
			CASE IS < 40
				;20%で妖魔ヴァルキリーLv56　ランク2
				RETURN [[キャラ:ヴァルキリー]], 62
			CASE IS < 50
				;10%で妖精ティターニアLv51　ランク4
				RETURN [[キャラ:ティターニア]], 63
			CASE IS < 60
				;10%で龍王エキドナLv53　ランク3
				RETURN [[キャラ:エキドナ]], 62
			CASE IS < 70
				;15%で魔獣キマイラLv56　ランク2
				RETURN [[キャラ:キマイラ]], 62
			CASE IS < 80
				;10%でニーズホッグLV43(62)
				RETURN [[キャラ:ニーズホッグ]], 62
			CASE IS < 90
				;10%で龍王ヤマタノオロチLV52(63)
				RETURN [[キャラ:ヤマタノオロチ]], 63
			CASE IS < 100
				;10%で外道ドッペルゲンガーLv55　ランク3
				RETURN [[キャラ:ドッペルゲンガー]], 64
		ENDSELECT
	CASE 3
		SELECTCASE RAND:100
			CASE IS < 10
				;10%で地母神ドゥルガーLv65
				RETURN [[キャラ:ドゥルガー]], 65
			CASE IS < 20
				;10％で妖魔サキュバスLv44　ランク6
				RETURN [[キャラ:サキュバス]], 62
			CASE IS < 40
				;20%で妖魔ヴァルキリーLv56　ランク2
				RETURN [[キャラ:ヴァルキリー]], 62
			CASE IS < 50
				;10%で妖精ティターニアLv51　ランク4
				RETURN [[キャラ:ティターニア]], 63
			CASE IS < 60
				;10%で龍王エキドナLv53　ランク3
				RETURN [[キャラ:エキドナ]], 62
			CASE IS < 70
				;15%で魔獣キマイラLv56　ランク2
				RETURN [[キャラ:キマイラ]], 62
			CASE IS < 80
				;10%でニーズホッグLV43(62)
				RETURN [[キャラ:ニーズホッグ]], 62
			CASE IS < 90
				;10%で龍王ヤマタノオロチLV52(63)
				RETURN [[キャラ:ヤマタノオロチ]], 63
			CASE IS < 100
				;10%で外道ドッペルゲンガーLv55　ランク3
				RETURN [[キャラ:ドッペルゲンガー]], 64
		ENDSELECT
ENDSELECT


