;====================
;条件
;====================
@PLAYABLE_EVENT_4
#LOCALSIZE 4
LOCAL = STRFLAG_NUM_EV("罪ルート進行", , , , [[イベント:ペルソナ２]])
LOCAL:1 = STRFLAG_NUM_EV("罰ルート進行", , , , [[イベント:ペルソナ２]])
LOCAL:2 = STRFLAG_NUM_EV("ニャル進行", , , , [[イベント:ペルソナ２]])
LOCAL:3 = STRFLAG_NUM_EV("フィレモン進行", , , , [[イベント:ペルソナ２]])
;罪ルート2(七姉妹学園クリア後)
IF LOCAL == 2
	RESULTS = Masked Group Subjugation Order(1)
	RETURN 1
ENDIF
;罪ルート4(ゾディアッククリア後)
IF LOCAL == 4
	RESULTS = Masked Group Subjugation Order(2)
	RETURN 1
ENDIF
;罪ルート6(コンサートクリア後)
IF LOCAL == 6
	RESULTS = Masked Group Subjugation Order(3)
	RETURN 1
ENDIF
;罪ルート8(空の博物館クリア後かつニャルルート入ってない)
IF LOCAL == 8 && LOCAL:2 < 3
	RESULTS = Last Batallion Repulsion Order
	RETURN 1
ENDIF
IF LOCAL == 9 && LOCAL:2 < 3
	RESULTS = Oracle of Maia
	RETURN 1
ENDIF
IF LOCAL == 11 && LOCAL:2 < 3
	RESULTS = Vision of Xibalba
	RETURN 1
ENDIF
IF LOCAL:1 == 2
	RESULTS = Underworld rumor shop
	RETURN 1
ENDIF
IF LOCAL:1 == 4
	RESULTS = ＪＯＫＥＲ Curse
	RETURN 1
ENDIF
IF LOCAL:1 == 5 && LOCAL:3 == 3
	RESULTS = in Lak'ech
	RETURN 1
ENDIF
IF LOCAL:1 == 6
	RESULTS = Behind the Scenes of the New World School
	RETURN 1
ENDIF
;#;RESULTS = ペルソナ２イベント
;#;RETURN 1
RETURN 0

;====================
;内容
;====================
@SHOPCOM_EVENT_4
#LOCALSIZE 4
LOCAL = STRFLAG_NUM_EV("罪ルート進行", , , , [[イベント:ペルソナ２]])
LOCAL:1 = STRFLAG_NUM_EV("罰ルート進行", , , , [[イベント:ペルソナ２]])
LOCAL:2 = STRFLAG_NUM_EV("ニャル進行", , , , [[イベント:ペルソナ２]])
LOCAL:3 = STRFLAG_NUM_EV("フィレモン進行", , , , [[イベント:ペルソナ２]])
CLEARBIT FLAG:イベント出現1, 4
IF LOCAL == 2
	CALL SHOPCOM_EVENT_4_G2
	CALLF STRFLAG_NUM_EV("罪ルート進行", "=", , 3, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL == 4
	CALL SHOPCOM_EVENT_4_G4
	CALLF STRFLAG_NUM_EV("罪ルート進行", "=", , 5, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL == 6
	CALL SHOPCOM_EVENT_4_G6
	CALLF STRFLAG_NUM_EV("罪ルート進行", "=", , 7, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL == 8 && LOCAL:2 < 3
	CALL SHOPCOM_EVENT_4_G8
	CALLF STRFLAG_NUM_EV("罪ルート進行", "=", , 9, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL == 9 && LOCAL:2 < 3
	CALL SHOPCOM_EVENT_4_G9
	CALLF STRFLAG_NUM_EV("罪ルート進行", "=", , 10, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL == 11 && LOCAL:2 < 3
	CALL SHOPCOM_EVENT_4_G11
	CALLF STRFLAG_NUM_EV("罪ルート進行", "=", , 12, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 2
	CALL SHOPCOM_EVENT_4_P2
	CALLF STRFLAG_NUM_EV("罰ルート進行", "=", , 3, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 4
	CALL SHOPCOM_EVENT_4_P4
	CALLF STRFLAG_NUM_EV("罰ルート進行", "=", , 5, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 5 && LOCAL:3 == 3
	CALL SHOPCOM_EVENT_4_P5EX
	CALLF STRFLAG_NUM_EV("フィレモン進行", "=", , 4, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
IF LOCAL:1 == 6
	CALL SHOPCOM_EVENT_4_P6
	CALLF STRFLAG_NUM_EV("罰ルート進行", "=", , 7, [[イベント:ペルソナ２]])
	RETURN 0
ENDIF
CALLF STRFLAG_NUM_EV("ルート進行日", "=", , DAY, [[イベント:ペルソナ２]])
;#;PRINTL 入力
;#;INPUTS
;#;TRYCALLFORM SHOPCOM_EVENT_4_%RESULTS%
;#;RETURN 0
